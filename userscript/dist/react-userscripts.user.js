// ==UserScript==
// @name     Popgram
// @version  1.1
// @description Development mode for React Userscripts.
// @include https://*.popmundo.com/*
// @grant    none
// ==/UserScript==


var Lj=Object.defineProperty;var Dj=(_i,Qn,Er)=>Qn in _i?Lj(_i,Qn,{enumerable:!0,configurable:!0,writable:!0,value:Er}):_i[Qn]=Er;var Kn=(_i,Qn,Er)=>(Dj(_i,typeof Qn!="symbol"?Qn+"":Qn,Er),Er);(function(){"use strict";function _i(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Er={exports:{}},Dl={},Mg={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=Symbol.for("react.element"),X2=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),eT=Symbol.for("react.profiler"),tT=Symbol.for("react.provider"),nT=Symbol.for("react.context"),rT=Symbol.for("react.forward_ref"),iT=Symbol.for("react.suspense"),sT=Symbol.for("react.memo"),oT=Symbol.for("react.lazy"),Vg=Symbol.iterator;function aT(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var Og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fg=Object.assign,Ug={};function ys(t,e,n){this.props=t,this.context=e,this.refs=Ug,this.updater=n||Og}ys.prototype.isReactComponent={},ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zg(){}zg.prototype=ys.prototype;function Wp(t,e,n){this.props=t,this.context=e,this.refs=Ug,this.updater=n||Og}var qp=Wp.prototype=new zg;qp.constructor=Wp,Fg(qp,ys.prototype),qp.isPureReactComponent=!0;var Bg=Array.isArray,$g=Object.prototype.hasOwnProperty,Hp={current:null},Wg={key:!0,ref:!0,__self:!0,__source:!0};function qg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$g.call(e,r)&&!Wg.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mo,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function lT(t,e){return{$$typeof:Mo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mo}function cT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hg=/\/+/g;function Kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cT(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mo:case X2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Kp(o,0):r,Bg(i)?(n="",t!=null&&(n=t.replace(Hg,"$&/")+"/"),jl(i,e,n,"",function(u){return u})):i!=null&&(Gp(i)&&(i=lT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Bg(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Kp(s,a);o+=jl(s,e,n,c,i)}else if(c=aT(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Kp(s,a++),o+=jl(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ml(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},Vl={transition:null},pT={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:Hp};function Gg(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Ml,forEach:function(t,e,n){Ml(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ml(t,function(){e++}),e},toArray:function(t){return Ml(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},oe.Component=ys,oe.Fragment=J2,oe.Profiler=eT,oe.PureComponent=Wp,oe.StrictMode=Z2,oe.Suspense=iT,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pT,oe.act=Gg,oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)$g.call(e,c)&&!Wg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mo,type:t.type,key:i,ref:s,props:r,_owner:o}},oe.createContext=function(t){return t={$$typeof:nT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tT,_context:t},t.Consumer=t},oe.createElement=qg,oe.createFactory=function(t){var e=qg.bind(null,t);return e.type=t,e},oe.createRef=function(){return{current:null}},oe.forwardRef=function(t){return{$$typeof:rT,render:t}},oe.isValidElement=Gp,oe.lazy=function(t){return{$$typeof:oT,_payload:{_status:-1,_result:t},_init:uT}},oe.memo=function(t,e){return{$$typeof:sT,type:t,compare:e===void 0?null:e}},oe.startTransition=function(t){var e=Vl.transition;Vl.transition={};try{t()}finally{Vl.transition=e}},oe.unstable_act=Gg,oe.useCallback=function(t,e){return St.current.useCallback(t,e)},oe.useContext=function(t){return St.current.useContext(t)},oe.useDebugValue=function(){},oe.useDeferredValue=function(t){return St.current.useDeferredValue(t)},oe.useEffect=function(t,e){return St.current.useEffect(t,e)},oe.useId=function(){return St.current.useId()},oe.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)},oe.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)},oe.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)},oe.useMemo=function(t,e){return St.current.useMemo(t,e)},oe.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)},oe.useRef=function(t){return St.current.useRef(t)},oe.useState=function(t){return St.current.useState(t)},oe.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)},oe.useTransition=function(){return St.current.useTransition()},oe.version="18.3.1",Mg.exports=oe;var _=Mg.exports;const k=Qn(_),Kg=_i({__proto__:null,default:k},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=_,hT=Symbol.for("react.element"),mT=Symbol.for("react.fragment"),fT=Object.prototype.hasOwnProperty,gT=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yT={key:!0,ref:!0,__self:!0,__source:!0};function Qg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fT.call(e,r)&&!yT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hT,type:t,key:s,ref:o,props:i,_owner:gT.current}}Dl.Fragment=mT,Dl.jsx=Qg,Dl.jsxs=Qg,Er.exports=Dl;var p=Er.exports,Yg={exports:{}},Wt={},Xg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,ne){var ie=U.length;U.push(ne);e:for(;0<ie;){var xe=ie-1>>>1,fe=U[xe];if(0<i(fe,ne))U[xe]=ne,U[ie]=fe,ie=xe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ne=U[0],ie=U.pop();if(ie!==ne){U[0]=ie;e:for(var xe=0,fe=U.length,ae=fe>>>1;xe<ae;){var Oe=2*(xe+1)-1,$t=U[Oe],dn=Oe+1,ve=U[dn];if(0>i($t,ie))dn<fe&&0>i(ve,$t)?(U[xe]=ve,U[dn]=ie,xe=dn):(U[xe]=$t,U[Oe]=ie,xe=Oe);else if(dn<fe&&0>i(ve,ie))U[xe]=ve,U[dn]=ie,xe=dn;else break e}}return ne}function i(U,ne){var ie=U.sortIndex-ne.sortIndex;return ie!==0?ie:U.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,m=null,f=3,y=!1,T=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=U)r(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(u)}}function L(U){if(b=!1,x(U),!T)if(n(c)!==null)T=!0,Z(M);else{var ne=n(u);ne!==null&&$e(L,ne.startTime-U)}}function M(U,ne){T=!1,b&&(b=!1,w(v),v=-1),y=!0;var ie=f;try{for(x(ne),m=n(c);m!==null&&(!(m.expirationTime>ne)||U&&!R());){var xe=m.callback;if(typeof xe=="function"){m.callback=null,f=m.priorityLevel;var fe=xe(m.expirationTime<=ne);ne=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),x(ne)}else r(c);m=n(c)}if(m!==null)var ae=!0;else{var Oe=n(u);Oe!==null&&$e(L,Oe.startTime-ne),ae=!1}return ae}finally{m=null,f=ie,y=!1}}var F=!1,C=null,v=-1,S=5,N=-1;function R(){return!(t.unstable_now()-N<S)}function D(){if(C!==null){var U=t.unstable_now();N=U;var ne=!0;try{ne=C(!0,U)}finally{ne?P():(F=!1,C=null)}}else F=!1}var P;if(typeof E=="function")P=function(){E(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=D,P=function(){q.postMessage(null)}}else P=function(){A(D,0)};function Z(U){C=U,F||(F=!0,P())}function $e(U,ne){v=A(function(){U(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Z(M))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ie=f;f=ne;try{return U()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=f;f=U;try{return ne()}finally{f=ie}},t.unstable_scheduleCallback=function(U,ne,ie){var xe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ie+fe,U={id:h++,callback:ne,priorityLevel:U,startTime:ie,expirationTime:fe,sortIndex:-1},ie>xe?(U.sortIndex=ie,e(u,U),n(c)===null&&U===n(u)&&(b?(w(v),v=-1):b=!0,$e(L,ie-xe))):(U.sortIndex=fe,e(c,U),T||y||(T=!0,Z(M))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var ne=f;return function(){var ie=f;f=ne;try{return U.apply(this,arguments)}finally{f=ie}}}})(Jg),Xg.exports=Jg;var vT=Xg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=_,qt=vT;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zg=new Set,Vo={};function Ei(t,e){vs(t,e),vs(t+"Capture",e)}function vs(t,e){for(Vo[t]=e,t=0;t<e.length;t++)Zg.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,_T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ey={},ty={};function ET(t){return Qp.call(ty,t)?!0:Qp.call(ey,t)?!1:_T.test(t)?ty[t]=!0:(ey[t]=!0,!1)}function xT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kT(t,e,n,r){if(e===null||typeof e>"u"||xT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new Ct(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new Ct(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new Ct(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){st[t]=new Ct(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){st[t]=new Ct(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){st[t]=new Ct(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){st[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);st[e]=new Ct(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);st[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yp,Xp);st[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){st[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)}),st.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){st[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kT(e,n,i,r)&&(n=null),r||i===null?ET(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),ws=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),ed=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),nd=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),sy=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,sd;function Fo(t){if(sd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sd=e&&e[1]||""}return`
`+sd+t}var od=!1;function ad(t,e){if(!t||od)return"";od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function TT(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=ad(t.type,!1),t;case 11:return t=ad(t.type.render,!1),t;case 1:return t=ad(t.type,!0),t;default:return""}}function ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case ws:return"Portal";case ed:return"Profiler";case Zp:return"StrictMode";case nd:return"Suspense";case rd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case ny:return(t._context.displayName||"Context")+".Provider";case td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case id:return e=t.displayName||null,e!==null?e:ld(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return ld(t(e))}catch{}}return null}function IT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ld(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bT(t){var e=oy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fl(t){t._valueTracker||(t._valueTracker=bT(t))}function ay(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cd(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ly(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cy(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function ud(t,e){cy(t,e);var n=kr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pd(t,e.type,n):e.hasOwnProperty("defaultValue")&&pd(t,e.type,kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pd(t,e,n){(e!=="number"||Ul(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uo=Array.isArray;function Es(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function py(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Uo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kr(n)}}function dy(t,e){var n=kr(e.value),r=kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function my(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?my(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zl,fy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AT=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){AT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function gy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function yy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ST=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(t,e){if(e){if(ST[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gd=null;function yd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vd=null,xs=null,ks=null;function vy(t){if(t=ua(t)){if(typeof vd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=uc(e),vd(t.stateNode,t.type,e))}}function wy(t){xs?ks?ks.push(t):ks=[t]:xs=t}function _y(){if(xs){var t=xs,e=ks;if(ks=xs=null,vy(t),e)for(t=0;t<e.length;t++)vy(e[t])}}function Ey(t,e){return t(e)}function xy(){}var wd=!1;function ky(t,e,n){if(wd)return t(e,n);wd=!0;try{return Ey(t,e,n)}finally{wd=!1,(xs!==null||ks!==null)&&(xy(),_y())}}function $o(t,e){var n=t.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var _d=!1;if(Yn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{_d=!1}function CT(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var qo=!1,Bl=null,$l=!1,Ed=null,NT={onError:function(t){qo=!0,Bl=t}};function RT(t,e,n,r,i,s,o,a,c){qo=!1,Bl=null,CT.apply(NT,arguments)}function PT(t,e,n,r,i,s,o,a,c){if(RT.apply(this,arguments),qo){if(qo){var u=Bl;qo=!1,Bl=null}else throw Error(B(198));$l||($l=!0,Ed=u)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ty(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iy(t){if(xi(t)!==t)throw Error(B(188))}function LT(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Iy(i),t;if(s===r)return Iy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function by(t){return t=LT(t),t!==null?Ay(t):null}function Ay(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ay(t);if(e!==null)return e;t=t.sibling}return null}var Sy=qt.unstable_scheduleCallback,Cy=qt.unstable_cancelCallback,DT=qt.unstable_shouldYield,jT=qt.unstable_requestPaint,ze=qt.unstable_now,MT=qt.unstable_getCurrentPriorityLevel,xd=qt.unstable_ImmediatePriority,Ny=qt.unstable_UserBlockingPriority,Wl=qt.unstable_NormalPriority,VT=qt.unstable_LowPriority,Ry=qt.unstable_IdlePriority,ql=null,Cn=null;function OT(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ql,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:zT,FT=Math.log,UT=Math.LN2;function zT(t){return t>>>=0,t===0?32:31-(FT(t)/UT|0)|0}var Hl=64,Gl=4194304;function Ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ho(a):(s&=o,s!==0&&(r=Ho(s)))}else o=n&~i,o!==0?r=Ho(o):s!==0&&(r=Ho(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),i=1<<n,r|=t[n],e&=~i;return r}function BT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $T(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=BT(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function kd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Py(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function Td(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function WT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Id(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function Ly(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dy,bd,jy,My,Vy,Ad=!1,Ql=[],Tr=null,Ir=null,br=null,Ko=new Map,Qo=new Map,Ar=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(e.pointerId)}}function Yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ua(e),e!==null&&bd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HT(t,e,n,r,i){switch(e){case"focusin":return Tr=Yo(Tr,t,e,n,r,i),!0;case"dragenter":return Ir=Yo(Ir,t,e,n,r,i),!0;case"mouseover":return br=Yo(br,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ko.set(s,Yo(Ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qo.set(s,Yo(Qo.get(s)||null,t,e,n,r,i)),!0}return!1}function Fy(t){var e=ki(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ty(n),e!==null){t.blockedOn=e,Vy(t.priority,function(){jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gd=r,n.target.dispatchEvent(r),gd=null}else return e=ua(n),e!==null&&bd(e),t.blockedOn=n,!1;e.shift()}return!0}function Uy(t,e,n){Yl(t)&&n.delete(e)}function GT(){Ad=!1,Tr!==null&&Yl(Tr)&&(Tr=null),Ir!==null&&Yl(Ir)&&(Ir=null),br!==null&&Yl(br)&&(br=null),Ko.forEach(Uy),Qo.forEach(Uy)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ad||(Ad=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,GT)))}function Jo(t){function e(i){return Xo(i,t)}if(0<Ql.length){Xo(Ql[0],t);for(var n=1;n<Ql.length;n++){var r=Ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&Xo(Tr,t),Ir!==null&&Xo(Ir,t),br!==null&&Xo(br,t),Ko.forEach(e),Qo.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Fy(n),n.blockedOn===null&&Ar.shift()}var Ts=Xn.ReactCurrentBatchConfig,Xl=!0;function KT(t,e,n,r){var i=ge,s=Ts.transition;Ts.transition=null;try{ge=1,Sd(t,e,n,r)}finally{ge=i,Ts.transition=s}}function QT(t,e,n,r){var i=ge,s=Ts.transition;Ts.transition=null;try{ge=4,Sd(t,e,n,r)}finally{ge=i,Ts.transition=s}}function Sd(t,e,n,r){if(Xl){var i=Cd(t,e,n,r);if(i===null)Hd(t,e,r,Jl,n),Oy(t,r);else if(HT(i,t,e,n,r))r.stopPropagation();else if(Oy(t,r),e&4&&-1<qT.indexOf(t)){for(;i!==null;){var s=ua(i);if(s!==null&&Dy(s),s=Cd(t,e,n,r),s===null&&Hd(t,e,r,Jl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var Jl=null;function Cd(t,e,n,r){if(Jl=null,t=yd(r),t=ki(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ty(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jl=t,null}function zy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MT()){case xd:return 1;case Ny:return 4;case Wl:case VT:return 16;case Ry:return 536870912;default:return 16}default:return 16}}var Sr=null,Nd=null,Zl=null;function By(){if(Zl)return Zl;var t,e=Nd,n=e.length,r,i="value"in Sr?Sr.value:Sr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zl=i.slice(t,1<r?1-r:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tc(){return!0}function $y(){return!1}function Ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tc:$y,this.isPropagationStopped=$y,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),e}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=Ht(Is),Zo=Pe({},Is,{view:0,detail:0}),YT=Ht(Zo),Pd,Ld,ea,nc=Pe({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(Pd=t.screenX-ea.screenX,Ld=t.screenY-ea.screenY):Ld=Pd=0,ea=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Ld}}),Wy=Ht(nc),XT=Pe({},nc,{dataTransfer:0}),JT=Ht(XT),ZT=Pe({},Zo,{relatedTarget:0}),Dd=Ht(ZT),eI=Pe({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),tI=Ht(eI),nI=Pe({},Is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rI=Ht(nI),iI=Pe({},Is,{data:0}),qy=Ht(iI),sI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aI[t])?!!e[t]:!1}function jd(){return lI}var cI=Pe({},Zo,{key:function(t){if(t.key){var e=sI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uI=Ht(cI),pI=Pe({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=Ht(pI),dI=Pe({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),hI=Ht(dI),mI=Pe({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),fI=Ht(mI),gI=Pe({},nc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yI=Ht(gI),vI=[9,13,27,32],Md=Yn&&"CompositionEvent"in window,ta=null;Yn&&"documentMode"in document&&(ta=document.documentMode);var wI=Yn&&"TextEvent"in window&&!ta,Gy=Yn&&(!Md||ta&&8<ta&&11>=ta),Ky=" ",Qy=!1;function Yy(t,e){switch(t){case"keyup":return vI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function _I(t,e){switch(t){case"compositionend":return Xy(e);case"keypress":return e.which!==32?null:(Qy=!0,Ky);case"textInput":return t=e.data,t===Ky&&Qy?null:t;default:return null}}function EI(t,e){if(bs)return t==="compositionend"||!Md&&Yy(t,e)?(t=By(),Zl=Nd=Sr=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gy&&e.locale!=="ko"?null:e.data;default:return null}}var xI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xI[t.type]:e==="textarea"}function Zy(t,e,n,r){wy(r),e=ac(e,"onChange"),0<e.length&&(n=new Rd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var na=null,ra=null;function kI(t){yv(t,0)}function rc(t){var e=Rs(t);if(ay(e))return t}function TI(t,e){if(t==="change")return e}var ev=!1;if(Yn){var Vd;if(Yn){var Od="oninput"in document;if(!Od){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Od=typeof tv.oninput=="function"}Vd=Od}else Vd=!1;ev=Vd&&(!document.documentMode||9<document.documentMode)}function nv(){na&&(na.detachEvent("onpropertychange",rv),ra=na=null)}function rv(t){if(t.propertyName==="value"&&rc(ra)){var e=[];Zy(e,ra,t,yd(t)),ky(kI,e)}}function II(t,e,n){t==="focusin"?(nv(),na=e,ra=n,na.attachEvent("onpropertychange",rv)):t==="focusout"&&nv()}function bI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(ra)}function AI(t,e){if(t==="click")return rc(e)}function SI(t,e){if(t==="input"||t==="change")return rc(e)}function CI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:CI;function ia(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qp.call(e,i)||!mn(t[i],e[i]))return!1}return!0}function iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sv(t,e){var n=iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iv(n)}}function ov(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ov(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function av(){for(var t=window,e=Ul();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ul(t.document)}return e}function Fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NI(t){var e=av(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ov(n.ownerDocument.documentElement,n)){if(r!==null&&Fd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sv(n,s);var o=sv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RI=Yn&&"documentMode"in document&&11>=document.documentMode,As=null,Ud=null,sa=null,zd=!1;function lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zd||As==null||As!==Ul(r)||(r=As,"selectionStart"in r&&Fd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&ia(sa,r)||(sa=r,r=ac(Ud,"onSelect"),0<r.length&&(e=new Rd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Bd={},cv={};Yn&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function sc(t){if(Bd[t])return Bd[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cv)return Bd[t]=e[n];return t}var uv=sc("animationend"),pv=sc("animationiteration"),dv=sc("animationstart"),hv=sc("transitionend"),mv=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){mv.set(t,e),Ei(e,[t])}for(var $d=0;$d<fv.length;$d++){var Wd=fv[$d],PI=Wd.toLowerCase(),LI=Wd[0].toUpperCase()+Wd.slice(1);Cr(PI,"on"+LI)}Cr(uv,"onAnimationEnd"),Cr(pv,"onAnimationIteration"),Cr(dv,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(hv,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DI=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PT(r,e,void 0,t),t.currentTarget=null}function yv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;gv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;gv(i,a,u),s=c}}}if($l)throw t=Ed,$l=!1,Ed=null,t}function ke(t,e){var n=e[Jd];n===void 0&&(n=e[Jd]=new Set);var r=t+"__bubble";n.has(r)||(vv(e,t,2,!1),n.add(r))}function qd(t,e,n){var r=0;e&&(r|=4),vv(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function aa(t){if(!t[oc]){t[oc]=!0,Zg.forEach(function(n){n!=="selectionchange"&&(DI.has(n)||qd(n,!1,t),qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,qd("selectionchange",!1,e))}}function vv(t,e,n,r){switch(zy(e)){case 1:var i=KT;break;case 4:i=QT;break;default:i=Sd}n=i.bind(null,e,n,t),i=void 0,!_d||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ki(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ky(function(){var u=s,h=yd(n),m=[];e:{var f=mv.get(t);if(f!==void 0){var y=Rd,T=t;switch(t){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":y=uI;break;case"focusin":T="focus",y=Dd;break;case"focusout":T="blur",y=Dd;break;case"beforeblur":case"afterblur":y=Dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=JT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=hI;break;case uv:case pv:case dv:y=tI;break;case hv:y=fI;break;case"scroll":y=YT;break;case"wheel":y=yI;break;case"copy":case"cut":case"paste":y=rI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Hy}var b=(e&4)!==0,A=!b&&t==="scroll",w=b?f!==null?f+"Capture":null:f;b=[];for(var E=u,x;E!==null;){x=E;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,w!==null&&(L=$o(E,w),L!=null&&b.push(la(E,L,x)))),A)break;E=E.return}0<b.length&&(f=new y(f,T,null,n,h),m.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==gd&&(T=n.relatedTarget||n.fromElement)&&(ki(T)||T[Jn]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=u,T=T?ki(T):null,T!==null&&(A=xi(T),T!==A||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=u),y!==T)){if(b=Wy,L="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=Hy,L="onPointerLeave",w="onPointerEnter",E="pointer"),A=y==null?f:Rs(y),x=T==null?f:Rs(T),f=new b(L,E+"leave",y,n,h),f.target=A,f.relatedTarget=x,L=null,ki(h)===u&&(b=new b(w,E+"enter",T,n,h),b.target=x,b.relatedTarget=A,L=b),A=L,y&&T)t:{for(b=y,w=T,E=0,x=b;x;x=Cs(x))E++;for(x=0,L=w;L;L=Cs(L))x++;for(;0<E-x;)b=Cs(b),E--;for(;0<x-E;)w=Cs(w),x--;for(;E--;){if(b===w||w!==null&&b===w.alternate)break t;b=Cs(b),w=Cs(w)}b=null}else b=null;y!==null&&wv(m,f,y,b,!1),T!==null&&A!==null&&wv(m,A,T,b,!0)}}e:{if(f=u?Rs(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var M=TI;else if(Jy(f))if(ev)M=SI;else{M=bI;var F=II}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=AI);if(M&&(M=M(t,u))){Zy(m,M,n,h);break e}F&&F(t,f,u),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&pd(f,"number",f.value)}switch(F=u?Rs(u):window,t){case"focusin":(Jy(F)||F.contentEditable==="true")&&(As=F,Ud=u,sa=null);break;case"focusout":sa=Ud=As=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,lv(m,n,h);break;case"selectionchange":if(RI)break;case"keydown":case"keyup":lv(m,n,h)}var C;if(Md)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else bs?Yy(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Gy&&n.locale!=="ko"&&(bs||v!=="onCompositionStart"?v==="onCompositionEnd"&&bs&&(C=By()):(Sr=h,Nd="value"in Sr?Sr.value:Sr.textContent,bs=!0)),F=ac(u,v),0<F.length&&(v=new qy(v,t,null,n,h),m.push({event:v,listeners:F}),C?v.data=C:(C=Xy(n),C!==null&&(v.data=C)))),(C=wI?_I(t,n):EI(t,n))&&(u=ac(u,"onBeforeInput"),0<u.length&&(h=new qy("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=C))}yv(m,e)})}function la(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ac(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$o(t,n),s!=null&&r.unshift(la(t,s,i)),s=$o(t,e),s!=null&&r.push(la(t,s,i))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=$o(n,s),c!=null&&o.unshift(la(n,c,a))):i||(c=$o(n,s),c!=null&&o.push(la(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jI=/\r\n?/g,MI=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(jI,`
`).replace(MI,"")}function lc(t,e,n){if(e=_v(e),_v(t)!==e&&n)throw Error(B(425))}function cc(){}var Gd=null,Kd=null;function Qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(FI)}:Yd;function FI(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jo(e)}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ns,ca="__reactProps$"+Ns,Jn="__reactContainer$"+Ns,Jd="__reactEvents$"+Ns,UI="__reactListeners$"+Ns,zI="__reactHandles$"+Ns;function ki(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jn]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xv(t);t!==null;){if(n=t[Nn])return n;t=xv(t)}return e}t=n,n=t.parentNode}return null}function ua(t){return t=t[Nn]||t[Jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function uc(t){return t[ca]||null}var Zd=[],Ps=-1;function Rr(t){return{current:t}}function Te(t){0>Ps||(t.current=Zd[Ps],Zd[Ps]=null,Ps--)}function _e(t,e){Ps++,Zd[Ps]=t.current,t.current=e}var Pr={},mt=Rr(Pr),jt=Rr(!1),Ti=Pr;function Ls(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function pc(){Te(jt),Te(mt)}function kv(t,e,n){if(mt.current!==Pr)throw Error(B(168));_e(mt,e),_e(jt,n)}function Tv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,IT(t)||"Unknown",i));return Pe({},n,r)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,Ti=mt.current,_e(mt,t),_e(jt,jt.current),!0}function Iv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Tv(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,Te(jt),Te(mt),_e(mt,t)):Te(jt),_e(jt,n)}var Zn=null,hc=!1,eh=!1;function bv(t){Zn===null?Zn=[t]:Zn.push(t)}function BI(t){hc=!0,bv(t)}function Lr(){if(!eh&&Zn!==null){eh=!0;var t=0,e=ge;try{var n=Zn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zn=null,hc=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(t+1)),Sy(xd,Lr),i}finally{ge=e,eh=!1}}return null}var Ds=[],js=0,mc=null,fc=0,tn=[],nn=0,Ii=null,er=1,tr="";function bi(t,e){Ds[js++]=fc,Ds[js++]=mc,mc=t,fc=e}function Av(t,e,n){tn[nn++]=er,tn[nn++]=tr,tn[nn++]=Ii,Ii=t;var r=er;t=tr;var i=32-hn(r)-1;r&=~(1<<i),n+=1;var s=32-hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,er=1<<32-hn(e)+i|n<<i|r,tr=s+t}else er=1<<s|n<<i|r,tr=t}function th(t){t.return!==null&&(bi(t,1),Av(t,1,0))}function nh(t){for(;t===mc;)mc=Ds[--js],Ds[js]=null,fc=Ds[--js],Ds[js]=null;for(;t===Ii;)Ii=tn[--nn],tn[nn]=null,tr=tn[--nn],tn[nn]=null,er=tn[--nn],tn[nn]=null}var Gt=null,Kt=null,Ae=!1,fn=null;function Sv(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=Nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Kt=null,!0):!1;default:return!1}}function rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ih(t){if(Ae){var e=Kt;if(e){var n=e;if(!Cv(t,e)){if(rh(t))throw Error(B(418));e=Nr(n.nextSibling);var r=Gt;e&&Cv(t,e)?Sv(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Gt=t)}}else{if(rh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ae=!1,Gt=t}}}function Nv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function gc(t){if(t!==Gt)return!1;if(!Ae)return Nv(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qd(t.type,t.memoizedProps)),e&&(e=Kt)){if(rh(t))throw Rv(),Error(B(418));for(;e;)Sv(t,e),e=Nr(e.nextSibling)}if(Nv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Gt?Nr(t.stateNode.nextSibling):null;return!0}function Rv(){for(var t=Kt;t;)t=Nr(t.nextSibling)}function Ms(){Kt=Gt=null,Ae=!1}function sh(t){fn===null?fn=[t]:fn.push(t)}var $I=Xn.ReactCurrentBatchConfig;function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function yc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pv(t){var e=t._init;return e(t._payload)}function Lv(t){function e(w,E){if(t){var x=w.deletions;x===null?(w.deletions=[E],w.flags|=16):x.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=zr(w,E),w.index=0,w.sibling=null,w}function s(w,E,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<E?(w.flags|=2,E):x):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,x,L){return E===null||E.tag!==6?(E=Yh(x,w.mode,L),E.return=w,E):(E=i(E,x),E.return=w,E)}function c(w,E,x,L){var M=x.type;return M===_s?h(w,E,x.props.children,L,x.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xr&&Pv(M)===E.type)?(L=i(E,x.props),L.ref=pa(w,E,x),L.return=w,L):(L=zc(x.type,x.key,x.props,null,w.mode,L),L.ref=pa(w,E,x),L.return=w,L)}function u(w,E,x,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=Xh(x,w.mode,L),E.return=w,E):(E=i(E,x.children||[]),E.return=w,E)}function h(w,E,x,L,M){return E===null||E.tag!==7?(E=Di(x,w.mode,L,M),E.return=w,E):(E=i(E,x),E.return=w,E)}function m(w,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Yh(""+E,w.mode,x),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ol:return x=zc(E.type,E.key,E.props,null,w.mode,x),x.ref=pa(w,null,E),x.return=w,x;case ws:return E=Xh(E,w.mode,x),E.return=w,E;case xr:var L=E._init;return m(w,L(E._payload),x)}if(Uo(E)||Oo(E))return E=Di(E,w.mode,x,null),E.return=w,E;yc(w,E)}return null}function f(w,E,x,L){var M=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:a(w,E,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:return x.key===M?c(w,E,x,L):null;case ws:return x.key===M?u(w,E,x,L):null;case xr:return M=x._init,f(w,E,M(x._payload),L)}if(Uo(x)||Oo(x))return M!==null?null:h(w,E,x,L,null);yc(w,x)}return null}function y(w,E,x,L,M){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(x)||null,a(E,w,""+L,M);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ol:return w=w.get(L.key===null?x:L.key)||null,c(E,w,L,M);case ws:return w=w.get(L.key===null?x:L.key)||null,u(E,w,L,M);case xr:var F=L._init;return y(w,E,x,F(L._payload),M)}if(Uo(L)||Oo(L))return w=w.get(x)||null,h(E,w,L,M,null);yc(E,L)}return null}function T(w,E,x,L){for(var M=null,F=null,C=E,v=E=0,S=null;C!==null&&v<x.length;v++){C.index>v?(S=C,C=null):S=C.sibling;var N=f(w,C,x[v],L);if(N===null){C===null&&(C=S);break}t&&C&&N.alternate===null&&e(w,C),E=s(N,E,v),F===null?M=N:F.sibling=N,F=N,C=S}if(v===x.length)return n(w,C),Ae&&bi(w,v),M;if(C===null){for(;v<x.length;v++)C=m(w,x[v],L),C!==null&&(E=s(C,E,v),F===null?M=C:F.sibling=C,F=C);return Ae&&bi(w,v),M}for(C=r(w,C);v<x.length;v++)S=y(C,w,v,x[v],L),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?v:S.key),E=s(S,E,v),F===null?M=S:F.sibling=S,F=S);return t&&C.forEach(function(R){return e(w,R)}),Ae&&bi(w,v),M}function b(w,E,x,L){var M=Oo(x);if(typeof M!="function")throw Error(B(150));if(x=M.call(x),x==null)throw Error(B(151));for(var F=M=null,C=E,v=E=0,S=null,N=x.next();C!==null&&!N.done;v++,N=x.next()){C.index>v?(S=C,C=null):S=C.sibling;var R=f(w,C,N.value,L);if(R===null){C===null&&(C=S);break}t&&C&&R.alternate===null&&e(w,C),E=s(R,E,v),F===null?M=R:F.sibling=R,F=R,C=S}if(N.done)return n(w,C),Ae&&bi(w,v),M;if(C===null){for(;!N.done;v++,N=x.next())N=m(w,N.value,L),N!==null&&(E=s(N,E,v),F===null?M=N:F.sibling=N,F=N);return Ae&&bi(w,v),M}for(C=r(w,C);!N.done;v++,N=x.next())N=y(C,w,v,N.value,L),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?v:N.key),E=s(N,E,v),F===null?M=N:F.sibling=N,F=N);return t&&C.forEach(function(D){return e(w,D)}),Ae&&bi(w,v),M}function A(w,E,x,L){if(typeof x=="object"&&x!==null&&x.type===_s&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:e:{for(var M=x.key,F=E;F!==null;){if(F.key===M){if(M=x.type,M===_s){if(F.tag===7){n(w,F.sibling),E=i(F,x.props.children),E.return=w,w=E;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===xr&&Pv(M)===F.type){n(w,F.sibling),E=i(F,x.props),E.ref=pa(w,F,x),E.return=w,w=E;break e}n(w,F);break}else e(w,F);F=F.sibling}x.type===_s?(E=Di(x.props.children,w.mode,L,x.key),E.return=w,w=E):(L=zc(x.type,x.key,x.props,null,w.mode,L),L.ref=pa(w,E,x),L.return=w,w=L)}return o(w);case ws:e:{for(F=x.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(w,E.sibling),E=i(E,x.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Xh(x,w.mode,L),E.return=w,w=E}return o(w);case xr:return F=x._init,A(w,E,F(x._payload),L)}if(Uo(x))return T(w,E,x,L);if(Oo(x))return b(w,E,x,L);yc(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,x),E.return=w,w=E):(n(w,E),E=Yh(x,w.mode,L),E.return=w,w=E),o(w)):n(w,E)}return A}var Vs=Lv(!0),Dv=Lv(!1),vc=Rr(null),wc=null,Os=null,oh=null;function ah(){oh=Os=wc=null}function lh(t){var e=vc.current;Te(vc),t._currentValue=e}function ch(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){wc=t,oh=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(oh!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(wc===null)throw Error(B(308));Os=t,wc.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Ai=null;function uh(t){Ai===null?Ai=[t]:Ai.push(t)}function jv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uh(e)):(n.next=i.next,i.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,nr(t,n)}return i=r.interleaved,i===null?(e.next=e,uh(r)):(e.next=i.next,i.next=e),r.interleaved=e,nr(t,n)}function _c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}function Vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ec(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,h=u=c=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,b=a;switch(f=e,y=n,b.tag){case 1:if(T=b.payload,typeof T=="function"){m=T.call(y,m,f);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=b.payload,f=typeof T=="function"?T.call(y,m,f):T,f==null)break e;m=Pe({},m,f);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=m):h=h.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ni|=o,t.lanes=o,t.memoizedState=m}}function Ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var da={},Rn=Rr(da),ha=Rr(da),ma=Rr(da);function Si(t){if(t===da)throw Error(B(174));return t}function dh(t,e){switch(_e(ma,e),_e(ha,t),_e(Rn,da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hd(e,t)}Te(Rn),_e(Rn,e)}function Us(){Te(Rn),Te(ha),Te(ma)}function Fv(t){Si(ma.current);var e=Si(Rn.current),n=hd(e,t.type);e!==n&&(_e(ha,t),_e(Rn,n))}function hh(t){ha.current===t&&(Te(Rn),Te(ha))}var Le=Rr(0);function xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mh=[];function fh(){for(var t=0;t<mh.length;t++)mh[t]._workInProgressVersionPrimary=null;mh.length=0}var kc=Xn.ReactCurrentDispatcher,gh=Xn.ReactCurrentBatchConfig,Ci=0,De=null,Ye=null,et=null,Tc=!1,fa=!1,ga=0,WI=0;function ft(){throw Error(B(321))}function yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function vh(t,e,n,r,i,s){if(Ci=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kc.current=t===null||t.memoizedState===null?KI:QI,t=n(r,i),fa){s=0;do{if(fa=!1,ga=0,25<=s)throw Error(B(301));s+=1,et=Ye=null,e.updateQueue=null,kc.current=YI,t=n(r,i)}while(fa)}if(kc.current=Ac,e=Ye!==null&&Ye.next!==null,Ci=0,et=Ye=De=null,Tc=!1,e)throw Error(B(300));return t}function wh(){var t=ga!==0;return ga=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=t:et=et.next=t,et}function sn(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=et===null?De.memoizedState:et.next;if(e!==null)et=e,Ye=t;else{if(t===null)throw Error(B(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?De.memoizedState=et=t:et=et.next=t}return et}function ya(t,e){return typeof e=="function"?e(t):e}function _h(t){var e=sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((Ci&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,De.lanes|=h,Ni|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,mn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,Ni|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eh(t){var e=sn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mn(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Uv(){}function zv(t,e){var n=De,r=sn(),i=e(),s=!mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Vt=!0),r=r.queue,xh(Wv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,va(9,$v.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(B(349));Ci&30||Bv(n,e,i)}return i}function Bv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $v(t,e,n,r){e.value=n,e.getSnapshot=r,qv(e)&&Hv(t)}function Wv(t,e,n){return n(function(){qv(e)&&Hv(t)})}function qv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function Hv(t){var e=nr(t,1);e!==null&&wn(e,t,1,-1)}function Gv(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=GI.bind(null,De,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kv(){return sn().memoizedState}function Ic(t,e,n,r){var i=Pn();De.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function bc(t,e,n,r){var i=sn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&yh(r,o.deps)){i.memoizedState=va(e,n,s,r);return}}De.flags|=t,i.memoizedState=va(1|e,n,s,r)}function Qv(t,e){return Ic(8390656,8,t,e)}function xh(t,e){return bc(2048,8,t,e)}function Yv(t,e){return bc(4,2,t,e)}function Xv(t,e){return bc(4,4,t,e)}function Jv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zv(t,e,n){return n=n!=null?n.concat([t]):null,bc(4,4,Jv.bind(null,e,t),n)}function kh(){}function e0(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t0(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n0(t,e,n){return Ci&21?(mn(n,e)||(n=Py(),De.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function qI(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=gh.transition;gh.transition={};try{t(!1),e()}finally{ge=n,gh.transition=r}}function r0(){return sn().memoizedState}function HI(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i0(t))s0(e,n);else if(n=jv(t,e,n,r),n!==null){var i=Rt();wn(n,t,r,i),o0(n,e,r)}}function GI(t,e,n){var r=Fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i0(t))s0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mn(a,o)){var c=e.interleaved;c===null?(i.next=i,uh(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=jv(t,e,i,r),n!==null&&(i=Rt(),wn(n,t,r,i),o0(n,e,r))}}function i0(t){var e=t.alternate;return t===De||e!==null&&e===De}function s0(t,e){fa=Tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Id(t,n)}}var Ac={readContext:rn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},KI={readContext:rn,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,Jv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HI.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Gv,useDebugValue:kh,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Gv(!1),e=t[0];return t=qI.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=Pn();if(Ae){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),tt===null)throw Error(B(349));Ci&30||Bv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qv(Wv.bind(null,r,s,t),[t]),r.flags|=2048,va(9,$v.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pn(),e=tt.identifierPrefix;if(Ae){var n=tr,r=er;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QI={readContext:rn,useCallback:e0,useContext:rn,useEffect:xh,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Xv,useMemo:t0,useReducer:_h,useRef:Kv,useState:function(){return _h(ya)},useDebugValue:kh,useDeferredValue:function(t){var e=sn();return n0(e,Ye.memoizedState,t)},useTransition:function(){var t=_h(ya)[0],e=sn().memoizedState;return[t,e]},useMutableSource:Uv,useSyncExternalStore:zv,useId:r0,unstable_isNewReconciler:!1},YI={readContext:rn,useCallback:e0,useContext:rn,useEffect:xh,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Xv,useMemo:t0,useReducer:Eh,useRef:Kv,useState:function(){return Eh(ya)},useDebugValue:kh,useDeferredValue:function(t){var e=sn();return Ye===null?e.memoizedState=t:n0(e,Ye.memoizedState,t)},useTransition:function(){var t=Eh(ya)[0],e=sn().memoizedState;return[t,e]},useMutableSource:Uv,useSyncExternalStore:zv,useId:r0,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Th(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sc={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Fr(t),s=rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(wn(e,t,i,r),_c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Fr(t),s=rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(wn(e,t,i,r),_c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Fr(t),i=rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(wn(e,t,r,n),_c(e,t,r))}};function a0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ia(n,r)||!ia(i,s):!0}function l0(t,e,n){var r=!1,i=Pr,s=e.contextType;return typeof s=="object"&&s!==null?s=rn(s):(i=Mt(e)?Ti:mt.current,r=e.contextTypes,s=(r=r!=null)?Ls(t,i):Pr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function c0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sc.enqueueReplaceState(e,e.state,null)}function Ih(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ph(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rn(s):(s=Mt(e)?Ti:mt.current,i.context=Ls(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Th(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sc.enqueueReplaceState(i,i.state,null),Ec(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e){try{var n="",r=e;do n+=TT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XI=typeof WeakMap=="function"?WeakMap:Map;function u0(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,Bh=r),Ah(t,e)},n}function p0(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ah(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ah(t,e),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pb.bind(null,t,e,n),e.then(t,t))}function h0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var JI=Xn.ReactCurrentOwner,Vt=!1;function Nt(t,e,n,r){e.child=t===null?Dv(e,null,n,r):Vs(e,t.child,n,r)}function f0(t,e,n,r,i){n=n.render;var s=e.ref;return Fs(e,i),r=vh(t,e,n,r,s,i),n=wh(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ae&&n&&th(e),e.flags|=1,Nt(t,e,r,i),e.child)}function g0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,y0(t,e,s,r,i)):(t=zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ia,n(o,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function y0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ia(s,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return Sh(t,e,n,r,i)}function v0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e($s,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e($s,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e($s,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e($s,Qt),Qt|=r;return Nt(t,e,i,n),e.child}function w0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,n,r,i){var s=Mt(n)?Ti:mt.current;return s=Ls(e,s),Fs(e,i),n=vh(t,e,n,r,s,i),r=wh(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ae&&r&&th(e),e.flags|=1,Nt(t,e,n,i),e.child)}function _0(t,e,n,r,i){if(Mt(n)){var s=!0;dc(e)}else s=!1;if(Fs(e,i),e.stateNode===null)Nc(t,e),l0(e,n,r),Ih(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Mt(n)?Ti:mt.current,u=Ls(e,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&c0(e,o,r,u),Dr=!1;var f=e.memoizedState;o.state=f,Ec(e,r,o,i),c=e.memoizedState,a!==r||f!==c||jt.current||Dr?(typeof h=="function"&&(Th(e,n,h,r),c=e.memoizedState),(a=Dr||a0(e,n,a,r,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gn(e.type,a),o.props=u,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Mt(n)?Ti:mt.current,c=Ls(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||f!==c)&&c0(e,o,r,c),Dr=!1,f=e.memoizedState,o.state=f,Ec(e,r,o,i);var T=e.memoizedState;a!==m||f!==T||jt.current||Dr?(typeof y=="function"&&(Th(e,n,y,r),T=e.memoizedState),(u=Dr||a0(e,n,u,r,f,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ch(t,e,n,r,s,i)}function Ch(t,e,n,r,i,s){w0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Iv(e,n,!1),ir(t,e,s);r=e.stateNode,JI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vs(e,t.child,null,s),e.child=Vs(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&Iv(e,n,!0),e.child}function E0(t){var e=t.stateNode;e.pendingContext?kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kv(t,e.context,!1),dh(t,e.containerInfo)}function x0(t,e,n,r,i){return Ms(),sh(i),e.flags|=256,Nt(t,e,n,r),e.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function k0(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Le,i&1),t===null)return ih(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bc(o,r,0,null),t=Di(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rh(n),e.memoizedState=Nh,t):Ph(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zr(a,s):(s=Di(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Nh,r}return s=t.child,t=s.sibling,r=zr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ph(t,e){return e=Bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cc(t,e,n,r){return r!==null&&sh(r),Vs(e,t.child,null,n),t=Ph(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bh(Error(B(422))),Cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bc({mode:"visible",children:r.children},i,0,null),s=Di(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vs(e,t.child,null,o),e.child.memoizedState=Rh(o),e.memoizedState=Nh,s);if(!(e.mode&1))return Cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=bh(s,r,void 0),Cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vt||a){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,nr(t,i),wn(r,t,i,-1))}return Kh(),r=bh(Error(B(421))),Cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=db.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=Nr(i.nextSibling),Gt=e,Ae=!0,fn=null,t!==null&&(tn[nn++]=er,tn[nn++]=tr,tn[nn++]=Ii,er=t.id,tr=t.overflow,Ii=e),e=Ph(e,r.children),e.flags|=4096,e)}function T0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ch(t.return,e,n)}function Lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function I0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,n,e);else if(t.tag===19)T0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,s);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eb(t,e,n){switch(e.tag){case 3:E0(e),Ms();break;case 5:Fv(e);break;case 1:Mt(e.type)&&dc(e);break;case 4:dh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?k0(t,e,n):(_e(Le,Le.current&1),t=ir(t,e,n),t!==null?t.sibling:null);_e(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,v0(t,e,n)}return ir(t,e,n)}var b0,Dh,A0,S0;b0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dh=function(){},A0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Si(Rn.current);var s=null;switch(n){case"input":i=cd(t,i),r=cd(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=dd(t,i),r=dd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cc)}md(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},S0=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tb(t,e,n){var r=e.pendingProps;switch(nh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Mt(e.type)&&pc(),gt(e),null;case 3:return r=e.stateNode,Us(),Te(jt),Te(mt),fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(qh(fn),fn=null))),Dh(t,e),gt(e),null;case 5:hh(e);var i=Si(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)A0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return gt(e),null}if(t=Si(Rn.current),gc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nn]=e,r[ca]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<oa.length;i++)ke(oa[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ly(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":py(r,s),ke("invalid",r)}md(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lc(r.textContent,a,t),i=["children",""+a]):Vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Fl(r),uy(r,s,!0);break;case"textarea":Fl(r),hy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=my(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[ca]=r,b0(t,e,!1,!1),e.stateNode=t;e:{switch(o=fd(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<oa.length;i++)ke(oa[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":ly(t,r),i=cd(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":py(t,r),i=dd(t,r),ke("invalid",t);break;default:i=r}md(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?yy(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fy(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zo(t,c):typeof c=="number"&&zo(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ke("scroll",t):c!=null&&Jp(t,s,c,o))}switch(n){case"input":Fl(t),uy(t,r,!1);break;case"textarea":Fl(t),hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Es(t,!!r.multiple,s,!1):r.defaultValue!=null&&Es(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)S0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Si(ma.current),Si(Rn.current),gc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:lc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return gt(e),null;case 13:if(Te(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Kt!==null&&e.mode&1&&!(e.flags&128))Rv(),Ms(),e.flags|=98560,s=!1;else if(s=gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Nn]=e}else Ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else fn!==null&&(qh(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Xe===0&&(Xe=3):Kh())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return Us(),Dh(t,e),t===null&&aa(e.stateNode.containerInfo),gt(e),null;case 10:return lh(e.type._context),gt(e),null;case 17:return Mt(e.type)&&pc(),gt(e),null;case 19:if(Te(Le),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wa(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xc(t),o!==null){for(e.flags|=128,wa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Ws&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304)}else{if(!r)if(t=xc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return gt(e),null}else 2*ze()-s.renderingStartTime>Ws&&n!==1073741824&&(e.flags|=128,r=!0,wa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Le.current,_e(Le,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Gh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function nb(t,e){switch(nh(e),e.tag){case 1:return Mt(e.type)&&pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),Te(jt),Te(mt),fh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hh(e),null;case 13:if(Te(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Le),null;case 4:return Us(),null;case 10:return lh(e.type._context),null;case 22:case 23:return Gh(),null;case 24:return null;default:return null}}var Rc=!1,yt=!1,rb=typeof WeakSet=="function"?WeakSet:Set,K=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function jh(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var C0=!1;function ib(t,e){if(Gd=Xl,t=av(),Fd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,m=t,f=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(c=o),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:t,selectionRange:n},Xl=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var b=T.memoizedProps,A=T.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:gn(e.type,b),A);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(L){Fe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return T=C0,C0=!1,T}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jh(e,n,s)}i=i.next}while(i!==r)}}function Pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N0(t){var e=t.alternate;e!==null&&(t.alternate=null,N0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[ca],delete e[Jd],delete e[UI],delete e[zI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R0(t){return t.tag===5||t.tag===3||t.tag===4}function P0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cc));else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}var ot=null,yn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)L0(t,e,n),n=n.sibling}function L0(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 5:yt||Bs(n,e);case 6:var r=ot,i=yn;ot=null,Mr(t,e,n),ot=r,yn=i,ot!==null&&(yn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(yn?(t=ot,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),Jo(t)):Xd(ot,n.stateNode));break;case 4:r=ot,i=yn,ot=n.stateNode.containerInfo,yn=!0,Mr(t,e,n),ot=r,yn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jh(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!yt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Mr(t,e,n),yt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function D0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rb),e.forEach(function(r){var i=hb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,yn=!1;break e;case 3:ot=a.stateNode.containerInfo,yn=!0;break e;case 4:ot=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(ot===null)throw Error(B(160));L0(s,o,i),ot=null,yn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j0(e,t),e=e.sibling}function j0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Ln(t),r&4){try{_a(3,t,t.return),Pc(3,t)}catch(b){Fe(t,t.return,b)}try{_a(5,t,t.return)}catch(b){Fe(t,t.return,b)}}break;case 1:vn(e,t),Ln(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(vn(e,t),Ln(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{zo(i,"")}catch(b){Fe(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cy(i,s),fd(a,o);var u=fd(a,s);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?yy(i,m):h==="dangerouslySetInnerHTML"?fy(i,m):h==="children"?zo(i,m):Jp(i,h,m,u)}switch(a){case"input":ud(i,s);break;case"textarea":dy(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Es(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Es(i,!!s.multiple,s.defaultValue,!0):Es(i,!!s.multiple,s.multiple?[]:"",!1))}i[ca]=s}catch(b){Fe(t,t.return,b)}}break;case 6:if(vn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Fe(t,t.return,b)}}break;case 3:if(vn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(e.containerInfo)}catch(b){Fe(t,t.return,b)}break;case 4:vn(e,t),Ln(t);break;case 13:vn(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zh=ze())),r&4&&D0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||h,vn(e,t),yt=u):vn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(m=K=h;K!==null;){switch(f=K,y=f.child,f.tag){case 0:case 11:case 14:case 15:_a(4,f,f.return);break;case 1:Bs(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(b){Fe(r,n,b)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){O0(m);continue}}y!==null?(y.return=f,K=y):O0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=gy("display",o))}catch(b){Fe(t,t.return,b)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){Fe(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vn(e,t),Ln(t),r&4&&D0(t);break;case 21:break;default:vn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R0(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zo(i,""),r.flags&=-33);var s=P0(t);Oh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=P0(t);Vh(t,a,o);break;default:throw Error(B(161))}}catch(c){Fe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sb(t,e,n){K=t,M0(t)}function M0(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||yt;a=Rc;var u=yt;if(Rc=o,(yt=c)&&!u)for(K=i;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?F0(i):c!==null?(c.return=o,K=c):F0(i);for(;s!==null;)K=s,M0(s),s=s.sibling;K=i,Rc=a,yt=u}V0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):V0(t)}}function V0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Pc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ov(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ov(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Jo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}yt||e.flags&512&&Mh(e)}catch(f){Fe(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function O0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function F0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pc(4,e)}catch(c){Fe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Fe(e,i,c)}}var s=e.return;try{Mh(e)}catch(c){Fe(e,s,c)}break;case 5:var o=e.return;try{Mh(e)}catch(c){Fe(e,o,c)}}}catch(c){Fe(e,e.return,c)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var ob=Math.ceil,Lc=Xn.ReactCurrentDispatcher,Fh=Xn.ReactCurrentOwner,on=Xn.ReactCurrentBatchConfig,he=0,tt=null,We=null,at=0,Qt=0,$s=Rr(0),Xe=0,Ea=null,Ni=0,Dc=0,Uh=0,xa=null,Ot=null,zh=0,Ws=1/0,sr=null,jc=!1,Bh=null,Vr=null,Mc=!1,Or=null,Vc=0,ka=0,$h=null,Oc=-1,Fc=0;function Rt(){return he&6?ze():Oc!==-1?Oc:Oc=ze()}function Fr(t){return t.mode&1?he&2&&at!==0?at&-at:$I.transition!==null?(Fc===0&&(Fc=Py()),Fc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:zy(t.type)),t):1}function wn(t,e,n,r){if(50<ka)throw ka=0,$h=null,Error(B(185));Go(t,n,r),(!(he&2)||t!==tt)&&(t===tt&&(!(he&2)&&(Dc|=n),Xe===4&&Ur(t,at)),Ft(t,r),n===1&&he===0&&!(e.mode&1)&&(Ws=ze()+500,hc&&Lr()))}function Ft(t,e){var n=t.callbackNode;$T(t,e);var r=Kl(t,t===tt?at:0);if(r===0)n!==null&&Cy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cy(n),e===1)t.tag===0?BI(z0.bind(null,t)):bv(z0.bind(null,t)),OI(function(){!(he&6)&&Lr()}),n=null;else{switch(Ly(r)){case 1:n=xd;break;case 4:n=Ny;break;case 16:n=Wl;break;case 536870912:n=Ry;break;default:n=Wl}n=Q0(n,U0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U0(t,e){if(Oc=-1,Fc=0,he&6)throw Error(B(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=Kl(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uc(t,r);else{e=r;var i=he;he|=2;var s=$0();(tt!==t||at!==e)&&(sr=null,Ws=ze()+500,Pi(t,e));do try{cb();break}catch(a){B0(t,a)}while(!0);ah(),Lc.current=s,he=i,We!==null?e=0:(tt=null,at=0,e=Xe)}if(e!==0){if(e===2&&(i=kd(t),i!==0&&(r=i,e=Wh(t,i))),e===1)throw n=Ea,Pi(t,0),Ur(t,r),Ft(t,ze()),n;if(e===6)Ur(t,r);else{if(i=t.current.alternate,!(r&30)&&!ab(i)&&(e=Uc(t,r),e===2&&(s=kd(t),s!==0&&(r=s,e=Wh(t,s))),e===1))throw n=Ea,Pi(t,0),Ur(t,r),Ft(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Li(t,Ot,sr);break;case 3:if(Ur(t,r),(r&130023424)===r&&(e=zh+500-ze(),10<e)){if(Kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yd(Li.bind(null,t,Ot,sr),e);break}Li(t,Ot,sr);break;case 4:if(Ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ob(r/1960))-r,10<r){t.timeoutHandle=Yd(Li.bind(null,t,Ot,sr),r);break}Li(t,Ot,sr);break;case 5:Li(t,Ot,sr);break;default:throw Error(B(329))}}}return Ft(t,ze()),t.callbackNode===n?U0.bind(null,t):null}function Wh(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=Uc(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&qh(e)),t}function qh(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function ab(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e){for(e&=~Uh,e&=~Dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function z0(t){if(he&6)throw Error(B(327));qs();var e=Kl(t,0);if(!(e&1))return Ft(t,ze()),null;var n=Uc(t,e);if(t.tag!==0&&n===2){var r=kd(t);r!==0&&(e=r,n=Wh(t,r))}if(n===1)throw n=Ea,Pi(t,0),Ur(t,e),Ft(t,ze()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Ot,sr),Ft(t,ze()),null}function Hh(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ws=ze()+500,hc&&Lr())}}function Ri(t){Or!==null&&Or.tag===0&&!(he&6)&&qs();var e=he;he|=1;var n=on.transition,r=ge;try{if(on.transition=null,ge=1,t)return t()}finally{ge=r,on.transition=n,he=e,!(he&6)&&Lr()}}function Gh(){Qt=$s.current,Te($s)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VI(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(nh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:Us(),Te(jt),Te(mt),fh();break;case 5:hh(r);break;case 4:Us();break;case 13:Te(Le);break;case 19:Te(Le);break;case 10:lh(r.type._context);break;case 22:case 23:Gh()}n=n.return}if(tt=t,We=t=zr(t.current,null),at=Qt=e,Xe=0,Ea=null,Uh=Dc=Ni=0,Ot=xa=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ai=null}return t}function B0(t,e){do{var n=We;try{if(ah(),kc.current=Ac,Tc){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tc=!1}if(Ci=0,et=Ye=De=null,fa=!1,ga=0,Fh.current=null,n===null||n.return===null){Xe=1,Ea=e,We=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=at,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=h0(o);if(y!==null){y.flags&=-257,m0(y,o,a,s,e),y.mode&1&&d0(s,u,e),e=y,c=u;var T=e.updateQueue;if(T===null){var b=new Set;b.add(c),e.updateQueue=b}else T.add(c);break e}else{if(!(e&1)){d0(s,u,e),Kh();break e}c=Error(B(426))}}else if(Ae&&a.mode&1){var A=h0(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),m0(A,o,a,s,e),sh(zs(c,a));break e}}s=c=zs(c,a),Xe!==4&&(Xe=2),xa===null?xa=[s]:xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=u0(s,c,e);Vv(s,w);break e;case 1:a=c;var E=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vr===null||!Vr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=p0(s,a,e);Vv(s,L);break e}}s=s.return}while(s!==null)}q0(n)}catch(M){e=M,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function $0(){var t=Lc.current;return Lc.current=Ac,t===null?Ac:t}function Kh(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(Ni&268435455)&&!(Dc&268435455)||Ur(tt,at)}function Uc(t,e){var n=he;he|=2;var r=$0();(tt!==t||at!==e)&&(sr=null,Pi(t,e));do try{lb();break}catch(i){B0(t,i)}while(!0);if(ah(),he=n,Lc.current=r,We!==null)throw Error(B(261));return tt=null,at=0,Xe}function lb(){for(;We!==null;)W0(We)}function cb(){for(;We!==null&&!DT();)W0(We)}function W0(t){var e=K0(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?q0(t):We=e,Fh.current=null}function q0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nb(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,We=null;return}}else if(n=tb(n,e,Qt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Xe===0&&(Xe=5)}function Li(t,e,n){var r=ge,i=on.transition;try{on.transition=null,ge=1,ub(t,e,n,r)}finally{on.transition=i,ge=r}return null}function ub(t,e,n,r){do qs();while(Or!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WT(t,s),t===tt&&(We=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mc||(Mc=!0,Q0(Wl,function(){return qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=ge;ge=1;var a=he;he|=4,Fh.current=null,ib(t,n),j0(n,t),NI(Kd),Xl=!!Gd,Kd=Gd=null,t.current=n,sb(n),jT(),he=a,ge=o,on.transition=s}else t.current=n;if(Mc&&(Mc=!1,Or=t,Vc=i),s=t.pendingLanes,s===0&&(Vr=null),OT(n.stateNode),Ft(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=Bh,Bh=null,t;return Vc&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===$h?ka++:(ka=0,$h=t):ka=0,Lr(),null}function qs(){if(Or!==null){var t=Ly(Vc),e=on.transition,n=ge;try{if(on.transition=null,ge=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,Vc=0,he&6)throw Error(B(331));var i=he;for(he|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:_a(8,h,s)}var m=h.child;if(m!==null)m.return=h,K=m;else for(;K!==null;){h=K;var f=h.sibling,y=h.return;if(N0(h),h===u){K=null;break}if(f!==null){f.return=y,K=f;break}K=y}}}var T=s.alternate;if(T!==null){var b=T.child;if(b!==null){T.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,K=w;break e}K=s.return}}var E=t.current;for(K=E;K!==null;){o=K;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,K=x;else e:for(o=E;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pc(9,a)}}catch(M){Fe(a,a.return,M)}if(a===o){K=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,K=L;break e}K=a.return}}if(he=i,Lr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ql,t)}catch{}r=!0}return r}finally{ge=n,on.transition=e}}return!1}function H0(t,e,n){e=zs(n,e),e=u0(t,e,1),t=jr(t,e,1),e=Rt(),t!==null&&(Go(t,1,e),Ft(t,e))}function Fe(t,e,n){if(t.tag===3)H0(t,t,n);else for(;e!==null;){if(e.tag===3){H0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){t=zs(n,t),t=p0(e,t,1),e=jr(e,t,1),t=Rt(),e!==null&&(Go(e,1,t),Ft(e,t));break}}e=e.return}}function pb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(Xe===4||Xe===3&&(at&130023424)===at&&500>ze()-zh?Pi(t,0):Uh|=n),Ft(t,e)}function G0(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=Rt();t=nr(t,e),t!==null&&(Go(t,e,n),Ft(t,n))}function db(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),G0(t,n)}function hb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),G0(t,n)}var K0;K0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,eb(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ae&&e.flags&1048576&&Av(e,fc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var i=Ls(e,mt.current);Fs(e,n),i=vh(null,e,r,t,i,n);var s=wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,dc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ph(e),i.updater=Sc,e.stateNode=i,i._reactInternals=e,Ih(e,r,t,n),e=Ch(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&th(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fb(r),t=gn(r,t),i){case 0:e=Sh(null,e,r,t,n);break e;case 1:e=_0(null,e,r,t,n);break e;case 11:e=f0(null,e,r,t,n);break e;case 14:e=g0(null,e,r,gn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Sh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),_0(t,e,r,i,n);case 3:e:{if(E0(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Mv(t,e),Ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zs(Error(B(423)),e),e=x0(t,e,r,n,i);break e}else if(r!==i){i=zs(Error(B(424)),e),e=x0(t,e,r,n,i);break e}else for(Kt=Nr(e.stateNode.containerInfo.firstChild),Gt=e,Ae=!0,fn=null,n=Dv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===i){e=ir(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return Fv(e),t===null&&ih(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qd(r,i)?o=null:s!==null&&Qd(r,s)&&(e.flags|=32),w0(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&ih(e),null;case 13:return k0(t,e,n);case 4:return dh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vs(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),f0(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(vc,r._currentValue),r._currentValue=o,s!==null)if(mn(s.value,o)){if(s.children===i.children&&!jt.current){e=ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=rr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ch(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ch(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fs(e,n),i=rn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=gn(r,e.pendingProps),i=gn(r.type,i),g0(t,e,r,i,n);case 15:return y0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gn(r,i),Nc(t,e),e.tag=1,Mt(r)?(t=!0,dc(e)):t=!1,Fs(e,n),l0(e,r,i),Ih(e,r,i,n),Ch(null,e,r,!0,t,n);case 19:return I0(t,e,n);case 22:return v0(t,e,n)}throw Error(B(156,e.tag))};function Q0(t,e){return Sy(t,e)}function mb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new mb(t,e,n,r)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fb(t){if(typeof t=="function")return Qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===td)return 11;if(t===id)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _s:return Di(n.children,i,s,e);case Zp:o=8,i|=8;break;case ed:return t=an(12,n,e,i|2),t.elementType=ed,t.lanes=s,t;case nd:return t=an(13,n,e,i),t.elementType=nd,t.lanes=s,t;case rd:return t=an(19,n,e,i),t.elementType=rd,t.lanes=s,t;case iy:return Bc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ny:o=10;break e;case ry:o=9;break e;case td:o=11;break e;case id:o=14;break e;case xr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=an(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Di(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Bc(t,e,n,r){return t=an(22,t,r,e),t.elementType=iy,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Xh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jh(t,e,n,r,i,s,o,a,c){return t=new gb(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(s),t}function yb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y0(t){if(!t)return Pr;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Tv(t,n,e)}return e}function X0(t,e,n,r,i,s,o,a,c){return t=Jh(n,r,!0,t,i,s,o,a,c),t.context=Y0(null),n=t.current,r=Rt(),i=Fr(n),s=rr(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,Go(t,i,r),Ft(t,r),t}function $c(t,e,n,r){var i=e.current,s=Rt(),o=Fr(i);return n=Y0(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(wn(t,i,o,s),_c(t,i,o)),o}function Wc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zh(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function vb(){return null}var Z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function em(t){this._internalRoot=t}qc.prototype.render=em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));$c(t,e,null,null)},qc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ri(function(){$c(null,t,null,null)}),e[Jn]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=My();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&Fy(t)}};function tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ew(){}function wb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wc(o);s.call(u)}}var o=X0(e,r,t,0,null,!1,!1,"",ew);return t._reactRootContainer=o,t[Jn]=o.current,aa(t.nodeType===8?t.parentNode:t),Ri(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wc(c);a.call(u)}}var c=Jh(t,0,!1,null,null,!1,!1,"",ew);return t._reactRootContainer=c,t[Jn]=c.current,aa(t.nodeType===8?t.parentNode:t),Ri(function(){$c(e,c,n,r)}),c}function Gc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Wc(o);a.call(c)}}$c(e,o,t,i)}else o=wb(n,e,t,i,r);return Wc(o)}Dy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ho(e.pendingLanes);n!==0&&(Id(e,n|1),Ft(e,ze()),!(he&6)&&(Ws=ze()+500,Lr()))}break;case 13:Ri(function(){var r=nr(t,1);if(r!==null){var i=Rt();wn(r,t,1,i)}}),Zh(t,1)}},bd=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=Rt();wn(e,t,134217728,n)}Zh(t,134217728)}},jy=function(t){if(t.tag===13){var e=Fr(t),n=nr(t,e);if(n!==null){var r=Rt();wn(n,t,e,r)}Zh(t,e)}},My=function(){return ge},Vy=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}},vd=function(t,e,n){switch(e){case"input":if(ud(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uc(r);if(!i)throw Error(B(90));ay(r),ud(r,i)}}}break;case"textarea":dy(t,n);break;case"select":e=n.value,e!=null&&Es(t,!!n.multiple,e,!1)}},Ey=Hh,xy=Ri;var _b={usingClientEntryPoint:!1,Events:[ua,Rs,uc,wy,_y,Hh]},Ta={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eb={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=by(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ql=Kc.inject(Eb),Cn=Kc}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b,Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(e))throw Error(B(200));return yb(t,e,null,n)},Wt.createRoot=function(t,e){if(!tm(t))throw Error(B(299));var n=!1,r="",i=Z0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jh(t,1,!1,null,null,n,!1,r,i),t[Jn]=e.current,aa(t.nodeType===8?t.parentNode:t),new em(e)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=by(e),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return Ri(t)},Wt.hydrate=function(t,e,n){if(!Hc(e))throw Error(B(200));return Gc(null,t,e,!0,n)},Wt.hydrateRoot=function(t,e,n){if(!tm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Z0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=X0(e,null,t,1,n??null,i,!1,s,o),t[Jn]=e.current,aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qc(e)},Wt.render=function(t,e,n){if(!Hc(e))throw Error(B(200));return Gc(null,t,e,!1,n)},Wt.unmountComponentAtNode=function(t){if(!Hc(t))throw Error(B(40));return t._reactRootContainer?(Ri(function(){Gc(null,null,t,!1,function(){t._reactRootContainer=null,t[Jn]=null})}),!0):!1},Wt.unstable_batchedUpdates=Hh,Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Gc(t,e,n,!1,r)},Wt.version="18.3.1-next-f1338f8080-20240426";function tw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tw)}catch(t){console.error(t)}}tw(),Yg.exports=Wt;var xb=Yg.exports,nw,rw=xb;nw=rw.createRoot,rw.hydrateRoot;const kb="body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}",Tb='/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-outline-style:solid;--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--ppm-font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--ppm-font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--ppm-color-red-50:oklch(97.1% .013 17.38);--ppm-color-red-100:oklch(93.6% .032 17.717);--ppm-color-red-200:oklch(88.5% .062 18.334);--ppm-color-red-500:oklch(63.7% .237 25.331);--ppm-color-red-600:oklch(57.7% .245 27.325);--ppm-color-red-700:oklch(50.5% .213 27.518);--ppm-color-red-800:oklch(44.4% .177 26.899);--ppm-color-green-100:oklch(96.2% .044 156.743);--ppm-color-green-500:oklch(72.3% .219 149.579);--ppm-color-green-800:oklch(44.8% .119 151.328);--ppm-color-blue-50:oklch(97% .014 254.604);--ppm-color-blue-100:oklch(93.2% .032 255.585);--ppm-color-blue-200:oklch(88.2% .059 254.128);--ppm-color-blue-500:oklch(62.3% .214 259.815);--ppm-color-blue-600:oklch(54.6% .245 262.881);--ppm-color-blue-700:oklch(48.8% .243 264.376);--ppm-color-blue-800:oklch(42.4% .199 265.638);--ppm-color-purple-500:oklch(62.7% .265 303.9);--ppm-color-gray-50:oklch(98.5% .002 247.839);--ppm-color-gray-100:oklch(96.7% .003 264.542);--ppm-color-gray-200:oklch(92.8% .006 264.531);--ppm-color-gray-300:oklch(87.2% .01 258.338);--ppm-color-gray-400:oklch(70.7% .022 261.325);--ppm-color-gray-500:oklch(55.1% .027 264.364);--ppm-color-gray-600:oklch(44.6% .03 256.802);--ppm-color-gray-700:oklch(37.3% .034 259.733);--ppm-color-gray-900:oklch(21% .034 264.665);--ppm-color-black:#000;--ppm-color-white:#fff;--ppm-spacing:.25rem;--ppm-container-md:28rem;--ppm-text-xs:.75rem;--ppm-text-xs--line-height:calc(1/.75);--ppm-text-sm:.875rem;--ppm-text-sm--line-height:calc(1.25/.875);--ppm-text-base:1rem;--ppm-text-base--line-height: 1.5 ;--ppm-text-lg:1.125rem;--ppm-text-lg--line-height:calc(1.75/1.125);--ppm-text-xl:1.25rem;--ppm-text-xl--line-height:calc(1.75/1.25);--ppm-text-2xl:1.5rem;--ppm-text-2xl--line-height:calc(2/1.5);--ppm-font-weight-medium:500;--ppm-font-weight-semibold:600;--ppm-font-weight-bold:700;--ppm-radius-2xl:1rem;--ppm-animate-spin:spin 1s linear infinite;--ppm-animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--ppm-default-transition-duration:.15s;--ppm-default-transition-timing-function:cubic-bezier(.4,0,.2,1);--ppm-default-font-family:var(--ppm-font-sans);--ppm-default-mono-font-family:var(--ppm-font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--ppm-default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--ppm-default-font-feature-settings,normal);font-variation-settings:var(--ppm-default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--ppm-default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--ppm-default-mono-font-feature-settings,normal);font-variation-settings:var(--ppm-default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}body{background-color:var(--background);color:var(--foreground)}}@layer components;@layer utilities{.ppm\\:\\@container\\/card-header{container:card-header/inline-size}.ppm\\:absolute{position:absolute}.ppm\\:fixed{position:fixed}.ppm\\:relative{position:relative}.ppm\\:sticky{position:sticky}.ppm\\:inset-0{inset:calc(var(--ppm-spacing)*0)}.ppm\\:-top-1{top:calc(var(--ppm-spacing)*-1)}.ppm\\:-top-2{top:calc(var(--ppm-spacing)*-2)}.ppm\\:top-0{top:calc(var(--ppm-spacing)*0)}.ppm\\:top-1\\/2{top:50%}.ppm\\:top-full{top:100%}.ppm\\:-right-1{right:calc(var(--ppm-spacing)*-1)}.ppm\\:-right-2{right:calc(var(--ppm-spacing)*-2)}.ppm\\:right-0{right:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-0{bottom:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-2{bottom:calc(var(--ppm-spacing)*2)}.ppm\\:left-0{left:calc(var(--ppm-spacing)*0)}.ppm\\:left-1\\/2{left:50%}.ppm\\:left-3{left:calc(var(--ppm-spacing)*3)}.ppm\\:z-10{z-index:10}.ppm\\:z-20{z-index:20}.ppm\\:z-50{z-index:50}.ppm\\:col-span-3{grid-column:span 3/span 3}.ppm\\:col-start-2{grid-column-start:2}.ppm\\:row-span-2{grid-row:span 2/span 2}.ppm\\:row-start-1{grid-row-start:1}.ppm\\:mx-auto{margin-inline:auto}.ppm\\:mt-1{margin-top:calc(var(--ppm-spacing)*1)}.ppm\\:mt-2{margin-top:calc(var(--ppm-spacing)*2)}.ppm\\:mt-6{margin-top:calc(var(--ppm-spacing)*6)}.ppm\\:mt-8{margin-top:calc(var(--ppm-spacing)*8)}.ppm\\:mr-1{margin-right:calc(var(--ppm-spacing)*1)}.ppm\\:mb-1{margin-bottom:calc(var(--ppm-spacing)*1)}.ppm\\:mb-2{margin-bottom:calc(var(--ppm-spacing)*2)}.ppm\\:mb-4{margin-bottom:calc(var(--ppm-spacing)*4)}.ppm\\:mb-6{margin-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:ml-1{margin-left:calc(var(--ppm-spacing)*1)}.ppm\\:line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.ppm\\:flex{display:flex}.ppm\\:grid{display:grid}.ppm\\:inline-flex{display:inline-flex}.ppm\\:aspect-square{aspect-ratio:1}.ppm\\:size-8{width:calc(var(--ppm-spacing)*8);height:calc(var(--ppm-spacing)*8)}.ppm\\:size-9{width:calc(var(--ppm-spacing)*9);height:calc(var(--ppm-spacing)*9)}.ppm\\:size-full{width:100%;height:100%}.ppm\\:h-1{height:calc(var(--ppm-spacing)*1)}.ppm\\:h-2{height:calc(var(--ppm-spacing)*2)}.ppm\\:h-3{height:calc(var(--ppm-spacing)*3)}.ppm\\:h-4{height:calc(var(--ppm-spacing)*4)}.ppm\\:h-5{height:calc(var(--ppm-spacing)*5)}.ppm\\:h-6{height:calc(var(--ppm-spacing)*6)}.ppm\\:h-7{height:calc(var(--ppm-spacing)*7)}.ppm\\:h-8{height:calc(var(--ppm-spacing)*8)}.ppm\\:h-9{height:calc(var(--ppm-spacing)*9)}.ppm\\:h-10{height:calc(var(--ppm-spacing)*10)}.ppm\\:h-12{height:calc(var(--ppm-spacing)*12)}.ppm\\:h-14{height:calc(var(--ppm-spacing)*14)}.ppm\\:h-16{height:calc(var(--ppm-spacing)*16)}.ppm\\:h-24{height:calc(var(--ppm-spacing)*24)}.ppm\\:h-\\[14px\\]{height:14px}.ppm\\:h-\\[700px\\]{height:700px}.ppm\\:h-\\[calc\\(100\\%-1px\\)\\]{height:calc(100% - 1px)}.ppm\\:h-full{height:100%}.ppm\\:h-px{height:1px}.ppm\\:max-h-60{max-height:calc(var(--ppm-spacing)*60)}.ppm\\:max-h-\\[90vh\\]{max-height:90vh}.ppm\\:w-1\\/2{width:50%}.ppm\\:w-2{width:calc(var(--ppm-spacing)*2)}.ppm\\:w-3{width:calc(var(--ppm-spacing)*3)}.ppm\\:w-3\\/4{width:75%}.ppm\\:w-4{width:calc(var(--ppm-spacing)*4)}.ppm\\:w-5{width:calc(var(--ppm-spacing)*5)}.ppm\\:w-6{width:calc(var(--ppm-spacing)*6)}.ppm\\:w-8{width:calc(var(--ppm-spacing)*8)}.ppm\\:w-10{width:calc(var(--ppm-spacing)*10)}.ppm\\:w-12{width:calc(var(--ppm-spacing)*12)}.ppm\\:w-16{width:calc(var(--ppm-spacing)*16)}.ppm\\:w-20{width:calc(var(--ppm-spacing)*20)}.ppm\\:w-24{width:calc(var(--ppm-spacing)*24)}.ppm\\:w-32{width:calc(var(--ppm-spacing)*32)}.ppm\\:w-48{width:calc(var(--ppm-spacing)*48)}.ppm\\:w-\\[350px\\]{width:350px}.ppm\\:w-fit{width:fit-content}.ppm\\:w-full{width:100%}.ppm\\:max-w-\\[90vw\\]{max-width:90vw}.ppm\\:max-w-md{max-width:var(--ppm-container-md)}.ppm\\:min-w-0{min-width:calc(var(--ppm-spacing)*0)}.ppm\\:min-w-\\[14px\\]{min-width:14px}.ppm\\:flex-1{flex:1}.ppm\\:flex-shrink-0,.ppm\\:shrink-0{flex-shrink:0}.ppm\\:-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:animate-pulse{animation:var(--ppm-animate-pulse)}.ppm\\:animate-spin{animation:var(--ppm-animate-spin)}.ppm\\:cursor-pointer{cursor:pointer}.ppm\\:list-inside{list-style-position:inside}.ppm\\:list-disc{list-style-type:disc}.ppm\\:auto-rows-min{grid-auto-rows:min-content}.ppm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.ppm\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.ppm\\:grid-rows-\\[auto_auto\\]{grid-template-rows:auto auto}.ppm\\:flex-col{flex-direction:column}.ppm\\:flex-row{flex-direction:row}.ppm\\:flex-wrap{flex-wrap:wrap}.ppm\\:items-center{align-items:center}.ppm\\:items-start{align-items:flex-start}.ppm\\:justify-between{justify-content:space-between}.ppm\\:justify-center{justify-content:center}.ppm\\:justify-end{justify-content:flex-end}.ppm\\:gap-1{gap:calc(var(--ppm-spacing)*1)}.ppm\\:gap-1\\.5{gap:calc(var(--ppm-spacing)*1.5)}.ppm\\:gap-2{gap:calc(var(--ppm-spacing)*2)}.ppm\\:gap-3{gap:calc(var(--ppm-spacing)*3)}.ppm\\:gap-4{gap:calc(var(--ppm-spacing)*4)}.ppm\\:gap-6{gap:calc(var(--ppm-spacing)*6)}:where(.ppm\\:space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-6>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*6)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*6)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-8>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*8)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*8)*calc(1 - var(--tw-space-x-reverse)))}.ppm\\:self-start{align-self:flex-start}.ppm\\:justify-self-end{justify-self:flex-end}.ppm\\:truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.ppm\\:overflow-hidden{overflow:hidden}.ppm\\:overflow-x-hidden{overflow-x:hidden}.ppm\\:overflow-y-auto{overflow-y:auto}.ppm\\:rounded{border-radius:.25rem}.ppm\\:rounded-\\[2\\.5rem\\]{border-radius:2.5rem}.ppm\\:rounded-\\[3rem\\]{border-radius:3rem}.ppm\\:rounded-full{border-radius:3.40282e38px}.ppm\\:rounded-lg{border-radius:var(--radius)}.ppm\\:rounded-md{border-radius:calc(var(--radius) - 2px)}.ppm\\:rounded-none{border-radius:0}.ppm\\:rounded-sm{border-radius:calc(var(--radius) - 4px)}.ppm\\:rounded-xl{border-radius:calc(var(--radius) + 4px)}.ppm\\:rounded-b-2xl{border-bottom-right-radius:var(--ppm-radius-2xl);border-bottom-left-radius:var(--ppm-radius-2xl)}.ppm\\:border{border-style:var(--tw-border-style);border-width:1px}.ppm\\:border-2{border-style:var(--tw-border-style);border-width:2px}.ppm\\:border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.ppm\\:border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.ppm\\:border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:border-dashed{--tw-border-style:dashed;border-style:dashed}.ppm\\:border-none{--tw-border-style:none;border-style:none}.ppm\\:border-blue-200{border-color:var(--ppm-color-blue-200)}.ppm\\:border-blue-600{border-color:var(--ppm-color-blue-600)}.ppm\\:border-current{border-color:currentColor}.ppm\\:border-gray-100{border-color:var(--ppm-color-gray-100)}.ppm\\:border-gray-200{border-color:var(--ppm-color-gray-200)}.ppm\\:border-gray-300{border-color:var(--ppm-color-gray-300)}.ppm\\:border-input{border-color:var(--input)}.ppm\\:border-red-200{border-color:var(--ppm-color-red-200)}.ppm\\:border-transparent{border-color:#0000}.ppm\\:border-t-transparent{border-top-color:#0000}.ppm\\:bg-accent{background-color:var(--accent)}.ppm\\:bg-background{background-color:var(--background)}.ppm\\:bg-black,.ppm\\:bg-black\\/0{background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:bg-black\\/0{background-color:color-mix(in oklab,var(--ppm-color-black)0%,transparent)}}.ppm\\:bg-black\\/50{background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:bg-black\\/50{background-color:color-mix(in oklab,var(--ppm-color-black)50%,transparent)}}.ppm\\:bg-blue-50{background-color:var(--ppm-color-blue-50)}.ppm\\:bg-blue-500{background-color:var(--ppm-color-blue-500)}.ppm\\:bg-blue-600{background-color:var(--ppm-color-blue-600)}.ppm\\:bg-border{background-color:var(--border)}.ppm\\:bg-card{background-color:var(--card)}.ppm\\:bg-destructive{background-color:var(--destructive)}.ppm\\:bg-gray-50{background-color:var(--ppm-color-gray-50)}.ppm\\:bg-gray-100{background-color:var(--ppm-color-gray-100)}.ppm\\:bg-gray-200{background-color:var(--ppm-color-gray-200)}.ppm\\:bg-gray-400{background-color:var(--ppm-color-gray-400)}.ppm\\:bg-gray-900{background-color:var(--ppm-color-gray-900)}.ppm\\:bg-green-100{background-color:var(--ppm-color-green-100)}.ppm\\:bg-green-500{background-color:var(--ppm-color-green-500)}.ppm\\:bg-muted{background-color:var(--muted)}.ppm\\:bg-primary{background-color:var(--primary)}.ppm\\:bg-red-50{background-color:var(--ppm-color-red-50)}.ppm\\:bg-red-100{background-color:var(--ppm-color-red-100)}.ppm\\:bg-secondary{background-color:var(--secondary)}.ppm\\:bg-transparent{background-color:#0000}.ppm\\:bg-white{background-color:var(--ppm-color-white)}.ppm\\:object-cover{object-fit:cover}.ppm\\:p-0{padding:calc(var(--ppm-spacing)*0)}.ppm\\:p-1{padding:calc(var(--ppm-spacing)*1)}.ppm\\:p-2{padding:calc(var(--ppm-spacing)*2)}.ppm\\:p-3{padding:calc(var(--ppm-spacing)*3)}.ppm\\:p-4{padding:calc(var(--ppm-spacing)*4)}.ppm\\:p-\\[3px\\]{padding:3px}.ppm\\:px-2{padding-inline:calc(var(--ppm-spacing)*2)}.ppm\\:px-3{padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:px-4{padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:px-6{padding-inline:calc(var(--ppm-spacing)*6)}.ppm\\:py-0\\.5{padding-block:calc(var(--ppm-spacing)*.5)}.ppm\\:py-1{padding-block:calc(var(--ppm-spacing)*1)}.ppm\\:py-2{padding-block:calc(var(--ppm-spacing)*2)}.ppm\\:py-3{padding-block:calc(var(--ppm-spacing)*3)}.ppm\\:py-6{padding-block:calc(var(--ppm-spacing)*6)}.ppm\\:py-8{padding-block:calc(var(--ppm-spacing)*8)}.ppm\\:py-12{padding-block:calc(var(--ppm-spacing)*12)}.ppm\\:pt-6{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:pb-2{padding-bottom:calc(var(--ppm-spacing)*2)}.ppm\\:pb-3{padding-bottom:calc(var(--ppm-spacing)*3)}.ppm\\:pb-6{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:pb-28{padding-bottom:calc(var(--ppm-spacing)*28)}.ppm\\:pb-\\[env\\(safe-area-inset-bottom\\)\\]{padding-bottom:env(safe-area-inset-bottom)}.ppm\\:pl-10{padding-left:calc(var(--ppm-spacing)*10)}.ppm\\:text-center{text-align:center}.ppm\\:text-left{text-align:left}.ppm\\:text-2xl{font-size:var(--ppm-text-2xl);line-height:var(--tw-leading,var(--ppm-text-2xl--line-height))}.ppm\\:text-base{font-size:var(--ppm-text-base);line-height:var(--tw-leading,var(--ppm-text-base--line-height))}.ppm\\:text-lg{font-size:var(--ppm-text-lg);line-height:var(--tw-leading,var(--ppm-text-lg--line-height))}.ppm\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:text-xl{font-size:var(--ppm-text-xl);line-height:var(--tw-leading,var(--ppm-text-xl--line-height))}.ppm\\:text-xs{font-size:var(--ppm-text-xs);line-height:var(--tw-leading,var(--ppm-text-xs--line-height))}.ppm\\:text-\\[10px\\]{font-size:10px}.ppm\\:leading-none{--tw-leading:1;line-height:1}.ppm\\:font-bold{--tw-font-weight:var(--ppm-font-weight-bold);font-weight:var(--ppm-font-weight-bold)}.ppm\\:font-medium{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:font-semibold{--tw-font-weight:var(--ppm-font-weight-semibold);font-weight:var(--ppm-font-weight-semibold)}.ppm\\:whitespace-nowrap{white-space:nowrap}.ppm\\:text-blue-500{color:var(--ppm-color-blue-500)}.ppm\\:text-blue-600{color:var(--ppm-color-blue-600)}.ppm\\:text-blue-800{color:var(--ppm-color-blue-800)}.ppm\\:text-card-foreground{color:var(--card-foreground)}.ppm\\:text-foreground{color:var(--foreground)}.ppm\\:text-gray-400{color:var(--ppm-color-gray-400)}.ppm\\:text-gray-500{color:var(--ppm-color-gray-500)}.ppm\\:text-gray-600{color:var(--ppm-color-gray-600)}.ppm\\:text-gray-700{color:var(--ppm-color-gray-700)}.ppm\\:text-gray-900{color:var(--ppm-color-gray-900)}.ppm\\:text-green-500{color:var(--ppm-color-green-500)}.ppm\\:text-green-800{color:var(--ppm-color-green-800)}.ppm\\:text-muted-foreground{color:var(--muted-foreground)}.ppm\\:text-primary{color:var(--primary)}.ppm\\:text-primary-foreground{color:var(--primary-foreground)}.ppm\\:text-purple-500{color:var(--ppm-color-purple-500)}.ppm\\:text-red-500{color:var(--ppm-color-red-500)}.ppm\\:text-red-600{color:var(--ppm-color-red-600)}.ppm\\:text-red-700{color:var(--ppm-color-red-700)}.ppm\\:text-red-800{color:var(--ppm-color-red-800)}.ppm\\:text-secondary-foreground{color:var(--secondary-foreground)}.ppm\\:text-white{color:var(--ppm-color-white)}.ppm\\:underline-offset-4{text-underline-offset:4px}.ppm\\:opacity-0{opacity:0}.ppm\\:shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:transition-\\[color\\,box-shadow\\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:outline-none{--tw-outline-style:none;outline-style:none}.ppm\\:select-none{-webkit-user-select:none;user-select:none}@media (hover:hover){.ppm\\:group-hover\\:scale-105:is(:where(.ppm\\:group):hover *){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.ppm\\:group-hover\\:bg-black\\/20:is(:where(.ppm\\:group):hover *){background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:group-hover\\:bg-black\\/20:is(:where(.ppm\\:group):hover *){background-color:color-mix(in oklab,var(--ppm-color-black)20%,transparent)}}.ppm\\:group-hover\\:opacity-100:is(:where(.ppm\\:group):hover *){opacity:1}}.ppm\\:group-data-\\[disabled\\=true\\]\\:pointer-events-none:is(:where(.ppm\\:group)[data-disabled=true] *){pointer-events:none}.ppm\\:group-data-\\[disabled\\=true\\]\\:opacity-50:is(:where(.ppm\\:group)[data-disabled=true] *){opacity:.5}.ppm\\:peer-disabled\\:cursor-not-allowed:is(:where(.ppm\\:peer):disabled~*){cursor:not-allowed}.ppm\\:peer-disabled\\:opacity-50:is(:where(.ppm\\:peer):disabled~*){opacity:.5}.ppm\\:selection\\:bg-primary ::selection{background-color:var(--primary)}.ppm\\:selection\\:bg-primary::selection{background-color:var(--primary)}.ppm\\:selection\\:text-primary-foreground ::selection{color:var(--primary-foreground)}.ppm\\:selection\\:text-primary-foreground::selection{color:var(--primary-foreground)}.ppm\\:file\\:inline-flex::file-selector-button{display:inline-flex}.ppm\\:file\\:h-7::file-selector-button{height:calc(var(--ppm-spacing)*7)}.ppm\\:file\\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.ppm\\:file\\:bg-transparent::file-selector-button{background-color:#0000}.ppm\\:file\\:text-sm::file-selector-button{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:file\\:font-medium::file-selector-button{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:file\\:text-foreground::file-selector-button{color:var(--foreground)}.ppm\\:placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground)}@media (hover:hover){.ppm\\:hover\\:bg-accent:hover{background-color:var(--accent)}.ppm\\:hover\\:bg-blue-100:hover{background-color:var(--ppm-color-blue-100)}.ppm\\:hover\\:bg-blue-700:hover{background-color:var(--ppm-color-blue-700)}.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.ppm\\:hover\\:bg-gray-50:hover{background-color:var(--ppm-color-gray-50)}.ppm\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.ppm\\:hover\\:bg-red-100:hover{background-color:var(--ppm-color-red-100)}.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.ppm\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}.ppm\\:hover\\:text-blue-700:hover{color:var(--ppm-color-blue-700)}.ppm\\:hover\\:underline:hover{text-decoration-line:underline}.ppm\\:hover\\:opacity-80:hover{opacity:.8}}.ppm\\:focus-visible\\:border-ring:focus-visible{border-color:var(--ring)}.ppm\\:focus-visible\\:ring-\\[3px\\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.ppm\\:focus-visible\\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.ppm\\:focus-visible\\:outline-ring:focus-visible{outline-color:var(--ring)}.ppm\\:disabled\\:pointer-events-none:disabled{pointer-events:none}.ppm\\:disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.ppm\\:disabled\\:opacity-50:disabled{opacity:.5}.ppm\\:has-data-\\[slot\\=card-action\\]\\:grid-cols-\\[1fr_auto\\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.ppm\\:has-\\[\\>svg\\]\\:px-2\\.5:has(>svg){padding-inline:calc(var(--ppm-spacing)*2.5)}.ppm\\:has-\\[\\>svg\\]\\:px-3:has(>svg){padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:has-\\[\\>svg\\]\\:px-4:has(>svg){padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:aria-invalid\\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:data-\\[orientation\\=horizontal\\]\\:h-px[data-orientation=horizontal]{height:1px}.ppm\\:data-\\[orientation\\=horizontal\\]\\:w-full[data-orientation=horizontal]{width:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:h-full[data-orientation=vertical]{height:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:w-px[data-orientation=vertical]{width:1px}.ppm\\:data-\\[state\\=active\\]\\:border-b-2[data-state=active]{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:data-\\[state\\=active\\]\\:border-blue-500[data-state=active]{border-color:var(--ppm-color-blue-500)}.ppm\\:data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:var(--background)}.ppm\\:data-\\[state\\=active\\]\\:text-blue-600[data-state=active]{color:var(--ppm-color-blue-600)}.ppm\\:data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (min-width:48rem){.ppm\\:md\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}}.ppm\\:dark\\:border-input:is(.dark *){border-color:var(--input)}.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:text-muted-foreground:is(.dark *){color:var(--muted-foreground)}@media (hover:hover){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:border-input:is(.dark *)[data-state=active]{border-color:var(--input)}.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:text-foreground:is(.dark *)[data-state=active]{color:var(--foreground)}.ppm\\:\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.ppm\\:\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.ppm\\:\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--ppm-spacing)*4);height:calc(var(--ppm-spacing)*4)}.ppm\\:\\[\\.border-b\\]\\:pb-6.border-b{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\.border-t\\]\\:pt-6.border-t{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\&\\>svg\\]\\:pointer-events-none>svg{pointer-events:none}.ppm\\:\\[\\&\\>svg\\]\\:size-3>svg{width:calc(var(--ppm-spacing)*3);height:calc(var(--ppm-spacing)*3)}@media (hover:hover){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-accent:hover{background-color:var(--accent)}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:color-mix(in oklab,var(--secondary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}}}@property --tw-animation-delay{syntax:"*";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:"*";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:"*";inherits:false}@property --tw-animation-fill-mode{syntax:"*";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:"*";inherits:false;initial-value:0}:root{--background:oklch(100% 0 0);--foreground:oklch(14.5% 0 0);--card:oklch(100% 0 0);--card-foreground:oklch(14.5% 0 0);--popover:oklch(100% 0 0);--popover-foreground:oklch(14.5% 0 0);--primary:oklch(20.5% 0 0);--primary-foreground:oklch(98.5% 0 0);--secondary:oklch(97% 0 0);--secondary-foreground:oklch(20.5% 0 0);--muted:oklch(97% 0 0);--muted-foreground:oklch(55.6% 0 0);--accent:oklch(97% 0 0);--accent-foreground:oklch(20.5% 0 0);--destructive:oklch(57.7% .245 27.325);--destructive-foreground:oklch(57.7% .245 27.325);--border:oklch(92.2% 0 0);--input:oklch(92.2% 0 0);--ring:oklch(70.8% 0 0);--chart-1:oklch(64.6% .222 41.116);--chart-2:oklch(60% .118 184.704);--chart-3:oklch(39.8% .07 227.392);--chart-4:oklch(82.8% .189 84.429);--chart-5:oklch(76.9% .188 70.08);--radius:.625rem;--sidebar:oklch(98.5% 0 0);--sidebar-foreground:oklch(14.5% 0 0);--sidebar-primary:oklch(20.5% 0 0);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(97% 0 0);--sidebar-accent-foreground:oklch(20.5% 0 0);--sidebar-border:oklch(92.2% 0 0);--sidebar-ring:oklch(70.8% 0 0)}.dark{--background:oklch(14.5% 0 0);--foreground:oklch(98.5% 0 0);--card:oklch(14.5% 0 0);--card-foreground:oklch(98.5% 0 0);--popover:oklch(14.5% 0 0);--popover-foreground:oklch(98.5% 0 0);--primary:oklch(98.5% 0 0);--primary-foreground:oklch(20.5% 0 0);--secondary:oklch(26.9% 0 0);--secondary-foreground:oklch(98.5% 0 0);--muted:oklch(26.9% 0 0);--muted-foreground:oklch(70.8% 0 0);--accent:oklch(26.9% 0 0);--accent-foreground:oklch(98.5% 0 0);--destructive:oklch(39.6% .141 25.723);--destructive-foreground:oklch(63.7% .237 25.331);--border:oklch(26.9% 0 0);--input:oklch(26.9% 0 0);--ring:oklch(43.9% 0 0);--chart-1:oklch(48.8% .243 264.376);--chart-2:oklch(69.6% .17 162.48);--chart-3:oklch(76.9% .188 70.08);--chart-4:oklch(62.7% .265 303.9);--chart-5:oklch(64.5% .246 16.439);--sidebar:oklch(20.5% 0 0);--sidebar-foreground:oklch(98.5% 0 0);--sidebar-primary:oklch(48.8% .243 264.376);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(26.9% 0 0);--sidebar-accent-foreground:oklch(98.5% 0 0);--sidebar-border:oklch(26.9% 0 0);--sidebar-ring:oklch(43.9% 0 0)}.cellphone::-webkit-scrollbar{width:3px}.cellphone::-webkit-scrollbar-track{background:#fff0;border-radius:100vh}.cellphone::-webkit-scrollbar-thumb{background:#bebebe;border-radius:100vh}.cellphone::-webkit-scrollbar-thumb:hover{background:#b8b7b8}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}';function Ib(){const[t,e]=_.useState("9:41");return _.useEffect(()=>{const n=s=>{const o=s.match(/(\d{1,2}:\d{2})/);return o?o[1]:"9:41"},r=()=>{const s=document.getElementById("character-tools-location");if(s&&s.textContent){const o=n(s.textContent);e(o)}};r();const i=document.getElementById("character-tools-location");if(i){const s=new MutationObserver(o=>{o.forEach(a=>{(a.type==="childList"||a.type==="characterData")&&r()})});return s.observe(i,{childList:!0,subtree:!0,characterData:!0}),()=>{s.disconnect()}}},[]),p.jsxs("div",{className:"ppm:h-12  ppm:bg-white ppm:flex ppm:items-center ppm:justify-between ppm:px-6 ppm:pt-6",children:[p.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:t}),p.jsx("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:p.jsx("div",{className:"ppm:w-4 ppm:h-2 ppm:bg-green-500 ppm:rounded-sm"})})]})}function iw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sw(...t){return e=>{let n=!1;const r=t.map(i=>{const s=iw(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():iw(t[i],null)}}}}function Qc(...t){return _.useCallback(sw(...t),t)}function Yc(t){const e=bb(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,a=_.Children.toArray(s),c=a.find(Sb);if(c){const u=c.props.children,h=a.map(m=>m===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:m);return p.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,h):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ow=Yc("Slot");function bb(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=Nb(i),a=Cb(s,i.props);return i.type!==_.Fragment&&(a.ref=r?sw(r,o):o),_.cloneElement(i,a)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ab=Symbol("radix.slottable");function Sb(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ab}function Cb(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Nb(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=aw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lw(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=aw(t))&&(r&&(r+=" "),r+=e);return r}const cw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,uw=lw,pw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return uw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],m=s==null?void 0:s[u];if(h===null)return null;const f=cw(h)||cw(m);return i[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[m,f]=h;return f===void 0||(u[m]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:m,className:f,...y}=h;return Object.entries(y).every(T=>{let[b,A]=T;return Array.isArray(A)?A.includes({...s,...a}[b]):{...s,...a}[b]===A})?[...u,m,f]:u},[]);return uw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},nm="-",Rb=t=>{const e=Lb(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(nm);return a[0]===""&&a.length!==1&&a.shift(),dw(a,e)||Pb(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},dw=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?dw(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(nm);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},hw=/^\[(.+)\]$/,Pb=t=>{if(hw.test(t)){const e=hw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Lb=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)rm(n[i],r,i,e);return r},rm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:mw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Db(i)){rm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{rm(o,mw(e,s),n,r)})})},mw=(t,e)=>{let n=t;return e.split(nm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Db=t=>t.isThemeGetter,jb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},im="!",sm=":",Mb=sm.length,Vb=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,c=0,u;for(let T=0;T<i.length;T++){let b=i[T];if(o===0&&a===0){if(b===sm){s.push(i.slice(c,T)),c=T+Mb;continue}if(b==="/"){u=T;continue}}b==="["?o++:b==="]"?o--:b==="("?a++:b===")"&&a--}const h=s.length===0?i:i.substring(c),m=Ob(h),f=m!==h,y=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const i=e+sm,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Ob=t=>t.endsWith(im)?t.substring(0,t.length-1):t.startsWith(im)?t.substring(1):t,Fb=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Ub=t=>({cache:jb(t.cacheSize),parseClassName:Vb(t),sortModifiers:Fb(t),...Rb(t)}),zb=/\s+/,Bb=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(zb);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:m,modifiers:f,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:b}=n(h);if(m){c=h+(c.length>0?" "+c:c);continue}let A=!!b,w=r(A?T.substring(0,b):T);if(!w){if(!A){c=h+(c.length>0?" "+c:c);continue}if(w=r(T),!w){c=h+(c.length>0?" "+c:c);continue}A=!1}const E=s(f).join(":"),x=y?E+im:E,L=x+w;if(o.includes(L))continue;o.push(L);const M=i(w,A);for(let F=0;F<M.length;++F){const C=M[F];o.push(x+C)}c=h+(c.length>0?" "+c:c)}return c};function $b(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fw(e))&&(r&&(r+=" "),r+=n);return r}const fw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fw(t[r]))&&(n&&(n+=" "),n+=e);return n};function Wb(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((h,m)=>m(h),t());return n=Ub(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=Bb(c,n);return i(c,h),h}return function(){return s($b.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},gw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qb=/^\d+\/\d+$/,Hb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=t=>qb.test(t),se=t=>!!t&&!Number.isNaN(Number(t)),Br=t=>!!t&&Number.isInteger(Number(t)),om=t=>t.endsWith("%")&&se(t.slice(0,-1)),or=t=>Hb.test(t),Xb=()=>!0,Jb=t=>Gb.test(t)&&!Kb.test(t),vw=()=>!1,Zb=t=>Qb.test(t),eA=t=>Yb.test(t),tA=t=>!Q(t)&&!Y(t),nA=t=>Gs(t,kw,vw),Q=t=>gw.test(t),ji=t=>Gs(t,Tw,Jb),am=t=>Gs(t,aA,se),ww=t=>Gs(t,Ew,vw),rA=t=>Gs(t,xw,eA),Xc=t=>Gs(t,Iw,Zb),Y=t=>yw.test(t),Ia=t=>Ks(t,Tw),iA=t=>Ks(t,lA),_w=t=>Ks(t,Ew),sA=t=>Ks(t,kw),oA=t=>Ks(t,xw),Jc=t=>Ks(t,Iw,!0),Gs=(t,e,n)=>{const r=gw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ks=(t,e,n=!1)=>{const r=yw.exec(t);return r?r[1]?e(r[1]):n:!1},Ew=t=>t==="position"||t==="percentage",xw=t=>t==="image"||t==="url",kw=t=>t==="length"||t==="size"||t==="bg-size",Tw=t=>t==="length",aA=t=>t==="number",lA=t=>t==="family-name",Iw=t=>t==="shadow",cA=Wb(()=>{const t=Je("color"),e=Je("font"),n=Je("text"),r=Je("font-weight"),i=Je("tracking"),s=Je("leading"),o=Je("breakpoint"),a=Je("container"),c=Je("spacing"),u=Je("radius"),h=Je("shadow"),m=Je("inset-shadow"),f=Je("text-shadow"),y=Je("drop-shadow"),T=Je("blur"),b=Je("perspective"),A=Je("aspect"),w=Je("ease"),E=Je("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...L(),Y,Q],F=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],v=()=>[Y,Q,c],S=()=>[Hs,"full","auto",...v()],N=()=>[Br,"none","subgrid",Y,Q],R=()=>["auto",{span:["full",Br,Y,Q]},Br,Y,Q],D=()=>[Br,"auto",Y,Q],P=()=>["auto","min","max","fr",Y,Q],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...v()],$e=()=>[Hs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],U=()=>[t,Y,Q],ne=()=>[...L(),_w,ww,{position:[Y,Q]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",sA,nA,{size:[Y,Q]}],fe=()=>[om,Ia,ji],ae=()=>["","none","full",u,Y,Q],Oe=()=>["",se,Ia,ji],$t=()=>["solid","dashed","dotted","double"],dn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[se,om,_w,ww],Ap=()=>["","none",T,Y,Q],Ro=()=>["none",se,Y,Q],vr=()=>["none",se,Y,Q],fi=()=>[se,Y,Q],gi=()=>[Hs,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[or],breakpoint:[or],color:[Xb],container:[or],"drop-shadow":[or],ease:["in","out","in-out"],font:[tA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[or],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[or],shadow:[or],spacing:["px",se],text:[or],"text-shadow":[or],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hs,Q,Y,A]}],container:["container"],columns:[{columns:[se,Q,Y,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[Br,"auto",Y,Q]}],basis:[{basis:[Hs,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,Hs,"auto","initial","none",Q]}],grow:[{grow:["",se,Y,Q]}],shrink:[{shrink:["",se,Y,Q]}],order:[{order:[Br,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:$e()}],w:[{w:[a,"screen",...$e()]}],"min-w":[{"min-w":[a,"screen","none",...$e()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...$e()]}],h:[{h:["screen","lh",...$e()]}],"min-h":[{"min-h":["screen","lh","none",...$e()]}],"max-h":[{"max-h":["screen","lh",...$e()]}],"font-size":[{text:["base",n,Ia,ji]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",om,Q]}],"font-family":[{font:[iA,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Y,Q]}],"line-clamp":[{"line-clamp":[se,"none",Y,am]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$t(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",Y,ji]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[se,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Br,Y,Q],radial:["",Y,Q],conic:[Br,Y,Q]},oA,rA]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:Oe()}],"border-w-x":[{"border-x":Oe()}],"border-w-y":[{"border-y":Oe()}],"border-w-s":[{"border-s":Oe()}],"border-w-e":[{"border-e":Oe()}],"border-w-t":[{"border-t":Oe()}],"border-w-r":[{"border-r":Oe()}],"border-w-b":[{"border-b":Oe()}],"border-w-l":[{"border-l":Oe()}],"divide-x":[{"divide-x":Oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$t(),"hidden","none"]}],"divide-style":[{divide:[...$t(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...$t(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,Y,Q]}],"outline-w":[{outline:["",se,Ia,ji]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",h,Jc,Xc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,Jc,Xc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[se,ji]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Oe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",f,Jc,Xc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[se,Y,Q]}],"mix-blend":[{"mix-blend":[...dn(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":dn()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[se]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[se]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:Ap()}],brightness:[{brightness:[se,Y,Q]}],contrast:[{contrast:[se,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",y,Jc,Xc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",se,Y,Q]}],"hue-rotate":[{"hue-rotate":[se,Y,Q]}],invert:[{invert:["",se,Y,Q]}],saturate:[{saturate:[se,Y,Q]}],sepia:[{sepia:["",se,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":Ap()}],"backdrop-brightness":[{"backdrop-brightness":[se,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[se,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",se,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[se,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[se,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",se,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",Y,Q]}],ease:[{ease:["linear","initial",w,Y,Q]}],delay:[{delay:[se,Y,Q]}],animate:[{animate:["none",E,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Y,Q]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Ro()}],"rotate-x":[{"rotate-x":Ro()}],"rotate-y":[{"rotate-y":Ro()}],"rotate-z":[{"rotate-z":Ro()}],scale:[{scale:vr()}],"scale-x":[{"scale-x":vr()}],"scale-y":[{"scale-y":vr()}],"scale-z":[{"scale-z":vr()}],"scale-3d":["scale-3d"],skew:[{skew:fi()}],"skew-x":[{"skew-x":fi()}],"skew-y":[{"skew-y":fi()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:gi()}],"translate-x":[{"translate-x":gi()}],"translate-y":[{"translate-y":gi()}],"translate-z":[{"translate-z":gi()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[se,Ia,ji,am]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function lt(...t){return cA(lw(t))}function uA(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Mi(t){return uA(t.toLowerCase().trim())}function Zc(t,e){const n=[],r=Mi(t);for(let i=0;i<=r.length-e;i++)n.push(r.substring(i,i+e));return n}function lm(t,e){const n=Mi(t),r=e?Mi(e):"",i=r?`${n} ${r}`:n,s=Zc(i,2),o=Zc(i,3);return{searchText:i,searchGrams2:s,searchGrams3:o}}function pA(t,e,n){const r=Mi(e),i=Mi(t.username),s=t.displayName?Mi(t.displayName):"";let o=0;return i.startsWith(r)&&(o+=100),s.startsWith(r)&&(o+=80),i.includes(r)&&(o+=50),s.includes(r)&&(o+=40),o+=(t.followersCount||0)*.01,o}const dA=pw("ppm:inline-flex ppm:items-center ppm:justify-center ppm:gap-2 ppm:whitespace-nowrap ppm:rounded-md ppm:text-sm ppm:font-medium ppm:transition-all ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:[&_svg]:pointer-events-none ppm:[&_svg:not([class*=size-])]:size-4 ppm:shrink-0 ppm:[&_svg]:shrink-0 ppm:outline-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",{variants:{variant:{default:"ppm:bg-primary ppm:text-primary-foreground ppm:shadow-xs ppm:hover:bg-primary/90",destructive:"ppm:bg-destructive ppm:text-white ppm:shadow-xs ppm:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:border ppm:bg-background ppm:shadow-xs ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:bg-input/30 ppm:dark:border-input ppm:dark:hover:bg-input/50",secondary:"ppm:bg-secondary ppm:text-secondary-foreground ppm:shadow-xs ppm:hover:bg-secondary/80",ghost:"ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:hover:bg-accent/50",link:"ppm:text-primary ppm:underline-offset-4 ppm:hover:underline"},size:{default:"ppm:h-9 ppm:px-4 ppm:py-2 ppm:has-[>svg]:px-3",sm:"ppm:h-8 ppm:rounded-md ppm:gap-1.5 ppm:px-3 ppm:has-[>svg]:px-2.5",lg:"ppm:h-10 ppm:rounded-md ppm:px-6 ppm:has-[>svg]:px-4",icon:"ppm:size-9"}},defaultVariants:{variant:"default",size:"default"}});function Se({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?ow:"button";return p.jsx(s,{"data-slot":"button",type:"button",className:lt(dA({variant:e,size:n,className:t})),...i})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),bw=t=>{const e=mA(t);return e.charAt(0).toUpperCase()+e.slice(1)},Aw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),fA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>_.createElement("svg",{ref:c,...gA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Aw("lucide",i),...!s&&!fA(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>_.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(yA,{ref:s,iconNode:e,className:Aw(`lucide-${hA(bw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=bw(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=vt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=vt("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=vt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=vt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=vt("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=vt("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=vt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=vt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=vt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=vt("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=vt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=vt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=vt("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=vt("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=vt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=vt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function AA({onClose:t}){return p.jsx(Se,{onClick:t,variant:"ghost",size:"sm",className:"ppm:absolute ppm:-top-2 ppm:-right-2 ppm:bg-white ppm:rounded-full ppm:w-8 ppm:h-8 ppm:p-0 ppm:z-10",children:p.jsx(Pw,{className:"ppm:w-4 ppm:h-4"})})}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SA(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((y,T)=>h(y,typeof y=="string"?null:y.state,T===0?"default":void 0));let s=c(n??i.length-1),o="POP",a=null;function c(y){return Math.min(Math.max(y,0),i.length-1)}function u(){return i[s]}function h(y,T=null,b){let A=NA(i?u().pathname:"/",y,T,b);return ln(A.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(y)}`),A}function m(y){return typeof y=="string"?y:nu(y)}return{get index(){return s},get action(){return o},get location(){return u()},createHref:m,createURL(y){return new URL(m(y),"http://localhost")},encodeLocation(y){let T=typeof y=="string"?Vi(y):y;return{pathname:T.pathname||"",search:T.search||"",hash:T.hash||""}},push(y,T){o="PUSH";let b=h(y,T);s+=1,i.splice(s,i.length,b),r&&a&&a({action:o,location:b,delta:1})},replace(y,T){o="REPLACE";let b=h(y,T);i[s]=b,r&&a&&a({action:o,location:b,delta:0})},go(y){o="POP";let T=c(s+y),b=i[T];s=T,a&&a({action:o,location:b,delta:y})},listen(y){return a=y,()=>{a=null}}}}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function NA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:n,key:e&&e.key||r||CA()}}function nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Lw(t,e,n="/"){return RA(t,e,n,!1)}function RA(t,e,n,r){let i=typeof e=="string"?Vi(e):e,s=ar(i.pathname||"/",n);if(s==null)return null;let o=Dw(t);PA(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=$A(s);a=zA(o[c],u,r)}return a}function Dw(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=lr([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Dw(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:FA(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of jw(s.path))i(s,o,c)}),e}function jw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jw(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function PA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var LA=/^:[\w-]+$/,DA=3,jA=2,MA=1,VA=10,OA=-2,Mw=t=>t==="*";function FA(t,e){let n=t.split("/"),r=n.length;return n.some(Mw)&&(r+=OA),e&&(r+=jA),n.filter(i=>!Mw(i)).reduce((i,s)=>i+(LA.test(s)?DA:s===""?MA:VA),r)}function UA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=ru({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=ru({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:lr([s,m.pathname]),pathnameBase:GA(lr([s,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(s=lr([s,m.pathnameBase]))}return o}function ru(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:m},f)=>{if(h==="*"){let T=a[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function BA(t,e=!1,n=!0){ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $A(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vi(t):t;return{pathname:n?n.startsWith("/")?n:qA(n,e):e,search:KA(r),hash:QA(i)}}function qA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function um(t){let e=HA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pm(t,e,n,r=!1){let i;typeof t=="string"?i=Vi(t):(i={...t},je(!i.pathname||!i.pathname.includes("?"),cm("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),cm("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),cm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}a=m>=0?e[m]:"/"}let c=WA(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var lr=t=>t.join("/").replace(/\/\/+/g,"/"),GA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var XA=["GET",...Vw];new Set(XA);var Qs=_.createContext(null);Qs.displayName="DataRouter";var iu=_.createContext(null);iu.displayName="DataRouterState",_.createContext(!1);var Ow=_.createContext({isTransitioning:!1});Ow.displayName="ViewTransition";var JA=_.createContext(new Map);JA.displayName="Fetchers";var ZA=_.createContext(null);ZA.displayName="Await";var _n=_.createContext(null);_n.displayName="Navigation";var ba=_.createContext(null);ba.displayName="Location";var cn=_.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var dm=_.createContext(null);dm.displayName="RouteError";function eS(t,{relative:e}={}){je(Ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(_n),{hash:i,pathname:s,search:o}=Aa(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:lr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ys(){return _.useContext(ba)!=null}function $r(){return je(Ys(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ba).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uw(t){_.useContext(_n).static||_.useLayoutEffect(t)}function wt(){let{isDataRoute:t}=_.useContext(cn);return t?fS():tS()}function tS(){je(Ys(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Qs),{basename:e,navigator:n}=_.useContext(_n),{matches:r}=_.useContext(cn),{pathname:i}=$r(),s=JSON.stringify(um(r)),o=_.useRef(!1);return Uw(()=>{o.current=!0}),_.useCallback((c,u={})=>{if(ln(o.current,Fw),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=pm(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:lr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}var nS=_.createContext(null);function rS(t){let e=_.useContext(cn).outlet;return e&&_.createElement(nS.Provider,{value:t},e)}function su(){let{matches:t}=_.useContext(cn),e=t[t.length-1];return e?e.params:{}}function Aa(t,{relative:e}={}){let{matches:n}=_.useContext(cn),{pathname:r}=$r(),i=JSON.stringify(um(n));return _.useMemo(()=>pm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function iS(t,e){return zw(t,e)}function zw(t,e,n,r){var w;je(Ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(_n),{matches:s}=_.useContext(cn),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let E=h&&h.path||"";$w(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=$r(),f;if(e){let E=typeof e=="string"?Vi(e):e;je(u==="/"||((w=E.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),f=E}else f=m;let y=f.pathname||"/",T=y;if(u!=="/"){let E=u.replace(/^\//,"").split("/");T="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=Lw(t,{pathname:T});ln(h||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ln(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=cS(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:lr([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:lr([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&A?_.createElement(ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},A):A}function sS(){let t=mS(),e=YA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var oS=_.createElement(sS,null),aS=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(cn.Provider,{value:this.props.routeContext},_.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lS({routeContext:t,match:e,children:n}){let r=_.useContext(Qs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(cn.Provider,{value:t},n)}function cS(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);je(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:h,errors:m}=n,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,h)=>{let m,f=!1,y=null,T=null;n&&(m=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||oS,o&&(a<0&&h===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,T=null):a===h&&(f=!0,T=u.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),A=()=>{let w;return m?w=y:f?w=T:u.route.Component?w=_.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=c,_.createElement(lS,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?_.createElement(aS,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}function hm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uS(t){let e=_.useContext(Qs);return je(e,hm(t)),e}function pS(t){let e=_.useContext(iu);return je(e,hm(t)),e}function dS(t){let e=_.useContext(cn);return je(e,hm(t)),e}function mm(t){let e=dS(t),n=e.matches[e.matches.length-1];return je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hS(){return mm("useRouteId")}function mS(){var r;let t=_.useContext(dm),e=pS("useRouteError"),n=mm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fS(){let{router:t}=uS("useNavigate"),e=mm("useNavigate"),n=_.useRef(!1);return Uw(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{ln(n.current,Fw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Bw={};function $w(t,e,n){!e&&!Bw[t]&&(Bw[t]=!0,ln(!1,n))}_.memo(gS);function gS({routes:t,future:e,state:n}){return zw(t,void 0,n,e)}function yS({basename:t,children:e,initialEntries:n,initialIndex:r}){let i=_.useRef();i.current==null&&(i.current=SA({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=i.current,[o,a]=_.useState({action:s.action,location:s.location}),c=_.useCallback(u=>{_.startTransition(()=>a(u))},[a]);return _.useLayoutEffect(()=>s.listen(c),[s,c]),_.createElement(vS,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}function ou({to:t,replace:e,state:n,relative:r}){je(Ys(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(_n);ln(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(cn),{pathname:o}=$r(),a=wt(),c=pm(t,um(s),o,r==="path"),u=JSON.stringify(c);return _.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Ww(t){return rS(t.context)}function qe(t){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vS({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){je(!Ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Vi(n));let{pathname:c="/",search:u="",hash:h="",state:m=null,key:f="default"}=n,y=_.useMemo(()=>{let T=ar(c,o);return T==null?null:{location:{pathname:T,search:u,hash:h,state:m,key:f},navigationType:r}},[o,c,u,h,m,f,r]);return ln(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(_n.Provider,{value:a},_.createElement(ba.Provider,{children:e,value:y}))}function wS({children:t,location:e}){return iS(fm(t),e)}function fm(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,fm(r.props.children,s));return}je(r.type===qe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fm(r.props.children,s)),n.push(o)}),n}var au="get",lu="application/x-www-form-urlencoded";function cu(t){return t!=null&&typeof t.tagName=="string"}function _S(t){return cu(t)&&t.tagName.toLowerCase()==="button"}function ES(t){return cu(t)&&t.tagName.toLowerCase()==="form"}function xS(t){return cu(t)&&t.tagName.toLowerCase()==="input"}function kS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TS(t,e){return t.button===0&&(!e||e==="_self")&&!kS(t)}var uu=null;function IS(){if(uu===null)try{new FormData(document.createElement("form"),0),uu=!1}catch{uu=!0}return uu}var bS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(t){return t!=null&&!bS.has(t)?(ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lu}"`),null):t}function AS(t,e){let n,r,i,s,o;if(ES(t)){let a=t.getAttribute("action");r=a?ar(a,e):null,n=t.getAttribute("method")||au,i=gm(t.getAttribute("enctype"))||lu,s=new FormData(t)}else if(_S(t)||xS(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?ar(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||au,i=gm(t.getAttribute("formenctype"))||gm(a.getAttribute("enctype"))||lu,s=new FormData(a,t),!IS()){let{name:u,type:h,value:m}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,m)}}else{if(cu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=au,r=null,i=lu,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ym(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SS(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ar(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RS(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await CS(s,n);return o.links?o.links():[]}return[]}));return jS(r.flat(1).filter(NS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qw(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function PS(t,e,{includeHydrateFallback:n}={}){return LS(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function LS(t){return[...new Set(t)]}function DS(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jS(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(DS(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Hw(){let t=_.useContext(Qs);return ym(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MS(){let t=_.useContext(iu);return ym(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vm=_.createContext(void 0);vm.displayName="FrameworkContext";function Gw(){let t=_.useContext(vm);return ym(t,"You must render this element inside a <HydratedRouter> element"),t}function VS(t,e){let n=_.useContext(vm),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=e,f=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let b=w=>{w.forEach(E=>{o(E.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return f.current&&A.observe(f.current),()=>{A.disconnect()}}},[t]),_.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Sa(a,y),onBlur:Sa(c,T),onMouseEnter:Sa(u,y),onMouseLeave:Sa(h,T),onTouchStart:Sa(m,y)}]:[!1,f,{}]}function Sa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OS({page:t,...e}){let{router:n}=Hw(),r=_.useMemo(()=>Lw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(US,{page:t,matches:r,...e}):null}function FS(t){let{manifest:e,routeModules:n}=Gw(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return RS(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function US({page:t,matches:e,...n}){let r=$r(),{manifest:i,routeModules:s}=Gw(),{basename:o}=Hw(),{loaderData:a,matches:c}=MS(),u=_.useMemo(()=>qw(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>qw(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,b=!1;if(e.forEach(w=>{var x;let E=i.routes[w.route.id];!E||!E.hasLoader||(!u.some(L=>L.route.id===w.route.id)&&w.route.id in a&&((x=s[w.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?b=!0:T.add(w.route.id))}),T.size===0)return[];let A=SS(t,o,"data");return b&&T.size>0&&A.searchParams.set("_routes",e.filter(w=>T.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[o,a,r,i,u,e,t,s]),f=_.useMemo(()=>PS(h,i),[h,i]),y=FS(h);return _.createElement(_.Fragment,null,m.map(T=>_.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),f.map(T=>_.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),y.map(({key:T,link:b})=>_.createElement("link",{key:T,...b})))}function zS(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.7.1")}catch{}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yw=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:m,...f},y){let{basename:T}=_.useContext(_n),b=typeof u=="string"&&Qw.test(u),A,w=!1;if(typeof u=="string"&&b&&(A=u,Kw))try{let S=new URL(window.location.href),N=u.startsWith("//")?new URL(S.protocol+u):new URL(u),R=ar(N.pathname,T);N.origin===S.origin&&R!=null?u=R+N.search+N.hash:w=!0}catch{ln(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=eS(u,{relative:i}),[x,L,M]=VS(r,f),F=WS(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:m});function C(S){e&&e(S),S.defaultPrevented||F(S)}let v=_.createElement("a",{...f,...M,href:A||E,onClick:w||s?e:C,ref:zS(y,L),target:c,"data-discover":!b&&n==="render"?"true":void 0});return x&&!b?_.createElement(_.Fragment,null,v,_.createElement(OS,{page:E})):v});Yw.displayName="Link";var Xs=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},h){let m=Aa(o,{relative:u.relative}),f=$r(),y=_.useContext(iu),{navigator:T,basename:b}=_.useContext(_n),A=y!=null&&QS(m)&&a===!0,w=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,E=f.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase()),x&&b&&(x=ar(x,b)||x);const L=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=E===w||!i&&E.startsWith(w)&&E.charAt(L)==="/",F=x!=null&&(x===w||!i&&x.startsWith(w)&&x.charAt(w.length)==="/"),C={isActive:M,isPending:F,isTransitioning:A},v=M?e:void 0,S;typeof r=="function"?S=r(C):S=[r,M?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(C):s;return _.createElement(Yw,{...u,"aria-current":v,className:S,ref:h,style:N,to:o,viewTransition:a},typeof c=="function"?c(C):c)});Xs.displayName="NavLink";var BS=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=au,action:a,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:m,...f},y)=>{let T=GS(),b=KS(a,{relative:u}),A=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Qw.test(a),E=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let L=x.nativeEvent.submitter,M=(L==null?void 0:L.getAttribute("formmethod"))||o;T(L||x.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:m})};return _.createElement("form",{ref:y,method:A,action:b,onSubmit:r?c:E,...f,"data-discover":!w&&t==="render"?"true":void 0})});BS.displayName="Form";function $S(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(t){let e=_.useContext(Qs);return je(e,$S(t)),e}function WS(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=wt(),c=$r(),u=Aa(t,{relative:s});return _.useCallback(h=>{if(TS(h,e)){h.preventDefault();let m=n!==void 0?n:nu(c)===nu(u);a(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,e,t,i,s,o])}var qS=0,HS=()=>`__${String(++qS)}__`;function GS(){let{router:t}=Xw("useSubmit"),{basename:e}=_.useContext(_n),n=hS();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=AS(r,e);if(i.navigate===!1){let h=i.fetcherKey||HS();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KS(t,{relative:e}={}){let{basename:n}=_.useContext(_n),r=_.useContext(cn);je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Aa(t||".",{relative:e})},o=$r();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(m=>m).forEach(m=>a.append("index",m));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:lr([n,s.pathname])),nu(s)}function QS(t,{relative:e}={}){let n=_.useContext(Ow);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xw("useViewTransitionState"),i=Aa(t,{relative:e});if(!n.isTransitioning)return!1;let s=ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ru(i.pathname,o)!=null||ru(i.pathname,s)!=null}function Wr({className:t,...e}){return p.jsx("div",{"data-slot":"card",className:lt("ppm:bg-card ppm:text-card-foreground ppm:flex ppm:flex-col ppm:gap-6 ppm:rounded-xl ppm:border ppm:py-6 ppm:shadow-sm",t),...e})}function wm({className:t,...e}){return p.jsx("div",{"data-slot":"card-header",className:lt("ppm:@container/card-header ppm:grid ppm:auto-rows-min ppm:grid-rows-[auto_auto] ppm:items-start ppm:gap-1.5 ppm:px-6 ppm:has-data-[slot=card-action]:grid-cols-[1fr_auto] ppm:[.border-b]:pb-6",t),...e})}function Jw({className:t,...e}){return p.jsx("div",{"data-slot":"card-title",className:lt("ppm:leading-none ppm:font-semibold",t),...e})}function En({className:t,...e}){return p.jsx("div",{"data-slot":"card-content",className:lt("ppm:px-6",t),...e})}function nt({className:t,type:e,...n}){return p.jsx("input",{type:e,"data-slot":"input",className:lt("ppm:file:text-foreground ppm:placeholder:text-muted-foreground ppm:selection:bg-primary ppm:selection:text-primary-foreground ppm:dark:bg-input/30 ppm:border-input ppm:flex ppm:h-9 ppm:w-full ppm:min-w-0 ppm:rounded-md ppm:border ppm:bg-transparent ppm:px-3 ppm:py-1 ppm:text-base ppm:shadow-xs ppm:transition-[color,box-shadow] ppm:outline-none ppm:file:inline-flex ppm:file:h-7 ppm:file:border-0 ppm:file:bg-transparent ppm:file:text-sm ppm:file:font-medium ppm:disabled:pointer-events-none ppm:disabled:cursor-not-allowed ppm:disabled:opacity-50 ppm:md:text-sm","ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px]","ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",t),...n})}var YS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xn=YS.reduce((t,e)=>{const n=Yc(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),XS="Label",Zw=_.forwardRef((t,e)=>p.jsx(xn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Zw.displayName=XS;var JS=Zw;function ct({className:t,...e}){return p.jsx(JS,{"data-slot":"label",className:lt("ppm:flex ppm:items-center ppm:gap-2 ppm:text-sm ppm:leading-none ppm:font-medium ppm:select-none ppm:group-data-[disabled=true]:pointer-events-none ppm:group-data-[disabled=true]:opacity-50 ppm:peer-disabled:cursor-not-allowed ppm:peer-disabled:opacity-50",t),...e})}const ZS=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(f=64)),r.push(n[h],n[m],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new tC;const f=s<<2|a>>4;if(r.push(f),u!==64){const y=a<<4&240|u>>2;if(r.push(y),m!==64){const T=u<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nC=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},pu=function(t){return nC(t).replace(/\./g,"")},r1=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>rC().__FIREBASE_DEFAULTS__,sC=()=>{if(typeof process>"u"||typeof e1>"u")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r1(t[1]);return e&&JSON.parse(e)},du=()=>{try{return ZS()||iC()||sC()||oC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=du())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aC=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s1=()=>{var t;return(t=du())==null?void 0:t.config},o1=t=>{var e;return(e=du())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pu(JSON.stringify(n)),pu(JSON.stringify(o)),""].join(".")}const Ca={};function uC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ca))Ca[e]?t.emulator.push(e):t.prod.push(e);return t}function pC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let l1=!1;function c1(t,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||Ca[t]===e||Ca[t]||l1)return;Ca[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=uC().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{l1=!0,o()},f}function h(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=pC(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),A=document.getElementById(b)||document.createElement("a"),w=n("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),h(A,b);const L=u();c(E,w),x.append(E,T,A,L),document.body.appendChild(x)}s?(T.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function hC(){var e;const t=(e=du())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vC(){return!hC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EC,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Na.prototype.create)}}class Na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xC(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}}function xC(t,e){return t.replace(kC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kC=/\{\$([^}]+)}/g;function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u1(s)&&u1(o)){if(!Oi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function La(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IC(t,e){const n=new bC(t,e);return n.subscribe.bind(n)}class bC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_m),i.error===void 0&&(i.error=_m),i.complete===void 0&&(i.complete=_m);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(t){return t===Ui?void 0:t}function NC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const PC={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},LC=le.INFO,DC={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},jC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=LC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const MC=(t,e)=>e.some(n=>t instanceof n);let p1,d1;function VC(){return p1||(p1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,xm=new WeakMap,m1=new WeakMap,km=new WeakMap,Tm=new WeakMap;function FC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),Tm.set(e,t),e}function UC(t){if(xm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xm.set(t,e)}let Im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zC(t){Im=t(Im)}function BC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bm(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),qr(r)}:OC().includes(t)?function(...e){return t.apply(bm(this),e),qr(h1.get(this))}:function(...e){return qr(t.apply(bm(this),e))}}function $C(t){return typeof t=="function"?BC(t):(t instanceof IDBTransaction&&UC(t),MC(t,VC())?new Proxy(t,Im):t)}function qr(t){if(t instanceof IDBRequest)return FC(t);if(km.has(t))return km.get(t);const e=$C(t);return e!==t&&(km.set(t,e),Tm.set(e,t)),e}const bm=t=>Tm.get(t);function WC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qr(o.result),c.oldVersion,c.newVersion,qr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qC=["get","getKey","getAll","getAllKeys","count"],HC=["put","add","delete","clear"],Am=new Map;function f1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qC.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Am.set(e,s),s}zC(t=>({...t,get:(e,n,r)=>f1(e,n)||t.get(e,n,r),has:(e,n)=>!!f1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",g1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Em("@firebase/app"),QC="@firebase/app-compat",YC="@firebase/analytics-compat",XC="@firebase/analytics",JC="@firebase/app-check-compat",ZC="@firebase/app-check",eN="@firebase/auth",tN="@firebase/auth-compat",nN="@firebase/database",rN="@firebase/data-connect",iN="@firebase/database-compat",sN="@firebase/functions",oN="@firebase/functions-compat",aN="@firebase/installations",lN="@firebase/installations-compat",cN="@firebase/messaging",uN="@firebase/messaging-compat",pN="@firebase/performance",dN="@firebase/performance-compat",hN="@firebase/remote-config",mN="@firebase/remote-config-compat",fN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",vN="@firebase/ai",wN="@firebase/firestore-compat",_N="firebase",EN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",xN={[Sm]:"fire-core",[QC]:"fire-core-compat",[XC]:"fire-analytics",[YC]:"fire-analytics-compat",[ZC]:"fire-app-check",[JC]:"fire-app-check-compat",[eN]:"fire-auth",[tN]:"fire-auth-compat",[nN]:"fire-rtdb",[rN]:"fire-data-connect",[iN]:"fire-rtdb-compat",[sN]:"fire-fn",[oN]:"fire-fn-compat",[aN]:"fire-iid",[lN]:"fire-iid-compat",[cN]:"fire-fcm",[uN]:"fire-fcm-compat",[pN]:"fire-perf",[dN]:"fire-perf-compat",[hN]:"fire-rc",[mN]:"fire-rc-compat",[fN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[wN]:"fire-fst-compat",[vN]:"fire-vertex","fire-js":"fire-js",[_N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Map,kN=new Map,Nm=new Map;function y1(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zs(t){const e=t.name;if(Nm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of hu.values())y1(n,t);for(const n of kN.values())y1(n,t);return!0}function Rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Na("app","Firebase",TN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=EN;function v1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Cm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=s1()),!n)throw Hr.create("no-options");const s=hu.get(i);if(s){if(Oi(n,s.options)&&Oi(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}const o=new RC(i);for(const c of Nm.values())o.addComponent(c);const a=new IN(n,r,o);return hu.set(i,a),a}function w1(t=Cm){const e=hu.get(t);if(!e&&t===Cm&&s1())return v1();if(!e)throw Hr.create("no-app",{appName:t});return e}function Gr(t,e,n){let r=xN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(o.join(" "));return}Zs(new Fi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",AN=1,Da="firebase-heartbeat-store";let Pm=null;function _1(){return Pm||(Pm=WC(bN,AN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Pm}async function SN(t){try{const n=(await _1()).transaction(Da),r=await n.objectStore(Da).get(x1(t));return await n.done,r}catch(e){if(e instanceof cr)ur.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function E1(t,e){try{const r=(await _1()).transaction(Da,"readwrite");await r.objectStore(Da).put(e,x1(t)),await r.done}catch(n){if(n instanceof cr)ur.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function x1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,NN=30;class RN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>NN){const o=DN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k1(),{heartbeatsToSend:r,unsentEntries:i}=PN(this._heartbeatsCache.heartbeats),s=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ur.warn(n),""}}}function k1(){return new Date().toISOString().substring(0,10)}function PN(t,e=CN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return E1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T1(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}function DN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){Zs(new Fi("platform-logger",e=>new GC(e),"PRIVATE")),Zs(new Fi("heartbeat",e=>new RN(e),"PRIVATE")),Gr(Sm,g1,t),Gr(Sm,g1,"esm2020"),Gr("fire-js","")}jN("");function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MN=I1,b1=new Na("auth","Firebase",I1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Em("@firebase/auth");function VN(t,...e){mu.logLevel<=le.WARN&&mu.warn(`Auth (${eo}): ${t}`,...e)}function fu(t,...e){mu.logLevel<=le.ERROR&&mu.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw Lm(t,...e)}function Dn(t,...e){return Lm(t,...e)}function A1(t,e,n){const r={...MN(),[e]:n};return new Na("auth","Firebase",r).create(e,{appName:t.name})}function pr(t){return A1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b1.create(t,...e)}function ee(t,e,...n){if(!t)throw Lm(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fu(e),new Error(e)}function hr(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ON(){return S1()==="http:"||S1()==="https:"}function S1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ON()||fC()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||gC()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new ja(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qr(t,e,n,r,i={}){return N1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ra({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return mC()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Js(t.emulatorConfig.host)&&(u.credentials="include"),C1.fetch()(await R1(t,t.config.apiHost,n,a),u)})}async function N1(t,e,n){t._canInitEmulator=!1;const r={...zN,...e};try{const i=new qN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw A1(t,h,u);kn(t,h)}}catch(i){if(i instanceof cr)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function Ma(t,e,n,r,i={}){const s=await Qr(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function R1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?jm(t.config,i):`${t.config.apiScheme}://${i}`;return BN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function WN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),$N.get())})}}function gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}function P1(t){return t!==void 0&&t.enterprise!==void 0}class HN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GN(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function yu(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=Ce(t),r=await n.getIdToken(e),i=Vm(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Va(Mm(i.auth_time)),issuedAtTime:Va(Mm(i.iat)),expirationTime:Va(Mm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mm(t){return Number(t)*1e3}function Vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fu("JWT malformed, contained fewer than 3 sections"),null;try{const i=r1(n);return i?JSON.parse(i):(fu("Failed to decode base64 JWT payload"),null)}catch(i){return fu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L1(t){const e=Vm(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&YN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Oa(t,yu(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?D1(i.providerUserInfo):[],o=ZN(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function JN(t){const e=Ce(t);await vu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){const n=await N1(t,{},async()=>{const r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await R1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Js(t.emulatorConfig.host)&&(c.credentials="include"),C1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tR(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=L1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new to;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Om(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return JN(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await Oa(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:y,providerData:T,stsTokenManager:b}=n;ee(m&&b,e,"internal-error");const A=to.fromJSON(this.name,b);ee(typeof m=="string",e,"internal-error"),Yr(r,e.name),Yr(i,e.name),ee(typeof f=="boolean",e,"internal-error"),ee(typeof y=="boolean",e,"internal-error"),Yr(s,e.name),Yr(o,e.name),Yr(a,e.name),Yr(c,e.name),Yr(u,e.name),Yr(h,e.name);const w=new Tn({uid:m,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:A,createdAt:u,lastLoginAt:h});return T&&Array.isArray(T)&&(w.providerData=T.map(E=>({...E}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new to;i.updateFromServerResponse(n);const s=new Tn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?D1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new to;a.updateFromIdToken(r);const c=new Tn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function mr(t){hr(t instanceof Function,"Expected a class definition");let e=j1.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M1.type="NONE";const V1=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wu(this.userKey,i.apiKey,s),this.fullPersistenceKey=wu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yu(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new no(mr(V1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||mr(V1);const o=wu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let m;if(typeof h=="string"){const f=await yu(e,{idToken:h}).catch(()=>{});if(!f)break;m=await Tn._fromGetAccountInfoResponse(e,f,h)}else m=Tn._fromJSON(e,h);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new no(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new no(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W1(e))return"Blackberry";if(q1(e))return"Webos";if(U1(e))return"Safari";if((e.includes("chrome/")||z1(e))&&!e.includes("edge/"))return"Chrome";if($1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F1(t=_t()){return/firefox\//i.test(t)}function U1(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z1(t=_t()){return/crios\//i.test(t)}function B1(t=_t()){return/iemobile/i.test(t)}function $1(t=_t()){return/android/i.test(t)}function W1(t=_t()){return/blackberry/i.test(t)}function q1(t=_t()){return/webos/i.test(t)}function Fm(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nR(t=_t()){var e;return Fm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rR(){return yC()&&document.documentMode===10}function H1(t=_t()){return Fm(t)||$1(t)||q1(t)||W1(t)||/windows phone/i.test(t)||B1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e=[]){let n;switch(t){case"Browser":n=O1(_t());break;case"Worker":n=`${O1(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6;class aR{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K1(this),this.idTokenSubscription=new K1(this),this.beforeStateQueue=new iR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yu(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(pr(this));const n=e?Ce(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sR(this),n=new aR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&VN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zi(t){return Ce(t)}class K1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IC(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cR(t){_u=t}function Q1(t){return _u.loadJS(t)}function uR(){return _u.recaptchaEnterpriseScript}function pR(){return _u.gapiScript}function dR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hR{constructor(){this.enterprise=new mR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fR="recaptcha-enterprise",Y1="NO_RECAPTCHA";class gR{constructor(e){this.type=fR,this.auth=zi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new HN(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;P1(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Y1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hR().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&P1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=uR();c.length!==0&&(c+=a),Q1(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function X1(t,e,n,r=!1,i=!1){const s=new gR(t);let o;if(i)o=Y1;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Um(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await X1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await X1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){const n=Rm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Oi(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function vR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wR(t,e,n){const r=zi(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=J1(e),{host:o,port:a}=_R(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Oi(u,r.config.emulator)&&Oi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Js(o)?(a1(`${s}//${o}${c}`),c1("Auth",!0)):ER()}function J1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _R(t){const e=J1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Z1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Z1(o)}}}function Z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ER(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function xR(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e){return Ma(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function IR(t,e){return Ma(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends zm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",kR);case"emailLink":return TR(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,r,"signUpPassword",xR);case"emailLink":return IR(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t,e){return Ma(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="http://localhost";class Bi extends zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Bi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ra(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(t){const e=Pa(La(t)).link,n=e?Pa(La(e)).deep_link_id:null,r=Pa(La(t)).deep_link_id;return(r?Pa(La(r)).link:null)||r||n||e||t}class Bm{constructor(e){const n=Pa(La(e)),r=n.apiKey??null,i=n.oobCode??null,s=AR(n.mode??null);ee(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SR(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return ee(r,"argument-error"),Fa._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password",io.EMAIL_PASSWORD_SIGN_IN_METHOD="password",io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ua{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com",Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ua{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com",Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Ua{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com",ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e){return Ma(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tn._fromIdTokenResponse(e,r,i),o=t_(r);return new $i({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t_(r);return new $i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends cr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Eu(e,n,r,i)}}function n_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Eu._fromErrorAndOperation(t,s,e,r):s})}async function NR(t,e,n=!1){const r=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e,n=!1){const{auth:r}=t;if(un(r.app))return Promise.reject(pr(r));const i="reauthenticate";try{const s=await Oa(t,n_(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Vm(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),$i._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(t,e,n=!1){if(un(t.app))return Promise.reject(pr(t));const r="signIn",i=await n_(t,r,e),s=await $i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PR(t,e){return r_(zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(t){const e=zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LR(t,e,n){if(un(t.app))return Promise.reject(pr(t));const r=zi(t),o=await Um(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&i_(t),c}),a=await $i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function DR(t,e,n){return un(t.app)?Promise.reject(pr(t)):PR(Ce(t),io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){return Ce(t).setPersistence(e)}function MR(t,e,n,r){return Ce(t).onIdTokenChanged(e,n,r)}function VR(t,e,n){return Ce(t).beforeAuthStateChanged(e,n)}function OR(t,e,n,r){return Ce(t).onAuthStateChanged(e,n,r)}function FR(t){return Ce(t).signOut()}const xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1e3,zR=10;class o_ extends s_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o_.type="LOCAL";const a_=o_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends s_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l_.type="SESSION";const c_=l_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ku(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await BR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ku.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=$m("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function WR(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function qR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function GR(){return u_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firebaseLocalStorageDb",KR=1,Tu="firebaseLocalStorage",d_="fbase_key";class za{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iu(t,e){return t.transaction([Tu],e?"readwrite":"readonly").objectStore(Tu)}function QR(){const t=indexedDB.deleteDatabase(p_);return new za(t).toPromise()}function Wm(){const t=indexedDB.open(p_,KR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tu,{keyPath:d_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tu)?e(r):(r.close(),await QR(),e(await Wm()))})})}async function h_(t,e,n){const r=Iu(t,!0).put({[d_]:e,value:n});return new za(r).toPromise()}async function YR(t,e){const n=Iu(t,!1).get(e),r=await new za(n).toPromise();return r===void 0?null:r.value}function m_(t,e){const n=Iu(t,!0).delete(e);return new za(n).toPromise()}const XR=800,JR=3;class f_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ku._getInstance(GR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qR(),!this.activeServiceWorker)return;this.sender=new $R(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await h_(e,xu,"1"),await m_(e,xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iu(i,!1).getAll();return new za(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f_.type="LOCAL";const ZR=f_;new ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){return e?mr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tP(t){return r_(t.auth,new qm(t),t.bypassAuthState)}function nP(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),RR(n,new qm(t),t.bypassAuthState)}async function rP(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),NR(n,new qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tP;case"linkViaPopup":case"linkViaRedirect":return rP;case"reauthViaPopup":case"reauthViaRedirect":return nP;default:kn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new ja(2e3,1e4);class so extends g_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iP.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="pendingRedirect",bu=new Map;class oP extends g_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bu.get(this.auth._key());if(!e){try{const r=await aP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bu.set(this.auth._key(),e)}return this.bypassAuthState||bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aP(t,e){const n=uP(e),r=cP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lP(t,e){bu.set(t._key(),e)}function cP(t){return mr(t._redirectPersistence)}function uP(t){return wu(sP,t.config.apiKey,t.name)}async function pP(t,e,n=!1){if(un(t.app))return Promise.reject(pr(t));const r=zi(t),i=eP(r,e),o=await new oP(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=10*60*1e3;class hP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v_(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dP&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function vP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fP(t);for(const n of e)try{if(wP(n))return}catch{}kn(t,"unauthorized-domain")}function wP(t){const e=Dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yP.test(n))return!1;if(gP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new ja(3e4,6e4);function w_(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EP(t){return new Promise((e,n)=>{var i,s,o;function r(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(Dn(t,"network-request-failed"))},timeout:_P.get()})}if((s=(i=jn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=jn().gapi)!=null&&o.load)r();else{const a=dR("iframefcb");return jn()[a]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},Q1(`${pR()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Au=null,e})}let Au=null;function xP(t){return Au=Au||EP(t),Au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new ja(5e3,15e3),TP="__/auth/iframe",IP="emulator/auth/iframe",bP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SP(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jm(e,IP):`https://${t.config.authDomain}/${TP}`,r={apiKey:e.apiKey,appName:t.name,v:eo},i=AP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ra(r).slice(1)}`}async function CP(t){const e=await xP(t),n=jn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:SP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=jn().setTimeout(()=>{s(o)},kP.get());function c(){jn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RP=500,PP=600,LP="_blank",DP="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jP(t,e,n,r=RP,i=PP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...NP,width:r.toString(),height:i.toString(),top:s,left:o},u=_t().toLowerCase();n&&(a=z1(u)?LP:n),F1(u)&&(e=e||DP,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[y,T])=>`${f}${y}=${T},`,"");if(nR(u)&&a!=="_self")return MP(e||"",a),new __(null);const m=window.open(e||"",a,h);ee(m,t,"popup-blocked");try{m.focus()}catch{}return new __(m)}function MP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="__/auth/handler",OP="emulator/auth/handler",FP=encodeURIComponent("fac");async function E_(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(e instanceof e_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Ua){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${FP}=${encodeURIComponent(c)}`:"";return`${UP(t)}?${Ra(a).slice(1)}${u}`}function UP({config:t}){return t.emulator?jm(t,OP):`https://${t.authDomain}/${VP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class zP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c_,this._completeRedirectFn=pP,this._overrideRedirectResult=lP}async _openPopup(e,n,r,i){var o;hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await E_(e,n,r,Dm(),i);return jP(e,s,$m())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await E_(e,n,r,Dm(),i);return WR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CP(e),r=new hP(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Hm];s!==void 0&&n(!!s),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H1()||U1()||Fm()}}const BP=zP;var x_="@firebase/auth",k_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qP(t){Zs(new Fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G1(t)},u=new lR(r,i,s,c);return vR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zs(new Fi("auth-internal",e=>{const n=zi(e.getProvider("auth").getImmediate());return(r=>new $P(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(x_,k_,WP(t)),Gr(x_,k_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=5*60,GP=o1("authIdTokenMaxAge")||HP;let T_=null;const KP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GP)return;const i=n==null?void 0:n.token;T_!==i&&(T_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QP(t=w1()){const e=Rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yR(t,{popupRedirectResolver:BP,persistence:[ZR,a_,c_]}),r=o1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KP(s.toString());VR(n,o,()=>o(n.currentUser)),MR(n,a=>o(a))}}const i=i1("auth");return i&&wR(n,`http://${i}`),n}function YP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}cR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),qP("Browser");var XP="firebase",JP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(XP,JP,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,b_;(function(){var t;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(C,v){function S(){}S.prototype=v.prototype,C.D=v.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(N,R,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return v.prototype[R].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,S){S||(S=0);var N=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)N[R]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(R=0;16>R;++R)N[R]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=C.g[0],S=C.g[1],R=C.g[2];var D=C.g[3],P=v+(D^S&(R^D))+N[0]+3614090360&4294967295;v=S+(P<<7&4294967295|P>>>25),P=D+(R^v&(S^R))+N[1]+3905402710&4294967295,D=v+(P<<12&4294967295|P>>>20),P=R+(S^D&(v^S))+N[2]+606105819&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(v^R&(D^v))+N[3]+3250441966&4294967295,S=R+(P<<22&4294967295|P>>>10),P=v+(D^S&(R^D))+N[4]+4118548399&4294967295,v=S+(P<<7&4294967295|P>>>25),P=D+(R^v&(S^R))+N[5]+1200080426&4294967295,D=v+(P<<12&4294967295|P>>>20),P=R+(S^D&(v^S))+N[6]+2821735955&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(v^R&(D^v))+N[7]+4249261313&4294967295,S=R+(P<<22&4294967295|P>>>10),P=v+(D^S&(R^D))+N[8]+1770035416&4294967295,v=S+(P<<7&4294967295|P>>>25),P=D+(R^v&(S^R))+N[9]+2336552879&4294967295,D=v+(P<<12&4294967295|P>>>20),P=R+(S^D&(v^S))+N[10]+4294925233&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(v^R&(D^v))+N[11]+2304563134&4294967295,S=R+(P<<22&4294967295|P>>>10),P=v+(D^S&(R^D))+N[12]+1804603682&4294967295,v=S+(P<<7&4294967295|P>>>25),P=D+(R^v&(S^R))+N[13]+4254626195&4294967295,D=v+(P<<12&4294967295|P>>>20),P=R+(S^D&(v^S))+N[14]+2792965006&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(v^R&(D^v))+N[15]+1236535329&4294967295,S=R+(P<<22&4294967295|P>>>10),P=v+(R^D&(S^R))+N[1]+4129170786&4294967295,v=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(v^S))+N[6]+3225465664&4294967295,D=v+(P<<9&4294967295|P>>>23),P=R+(v^S&(D^v))+N[11]+643717713&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^v&(R^D))+N[0]+3921069994&4294967295,S=R+(P<<20&4294967295|P>>>12),P=v+(R^D&(S^R))+N[5]+3593408605&4294967295,v=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(v^S))+N[10]+38016083&4294967295,D=v+(P<<9&4294967295|P>>>23),P=R+(v^S&(D^v))+N[15]+3634488961&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^v&(R^D))+N[4]+3889429448&4294967295,S=R+(P<<20&4294967295|P>>>12),P=v+(R^D&(S^R))+N[9]+568446438&4294967295,v=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(v^S))+N[14]+3275163606&4294967295,D=v+(P<<9&4294967295|P>>>23),P=R+(v^S&(D^v))+N[3]+4107603335&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^v&(R^D))+N[8]+1163531501&4294967295,S=R+(P<<20&4294967295|P>>>12),P=v+(R^D&(S^R))+N[13]+2850285829&4294967295,v=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(v^S))+N[2]+4243563512&4294967295,D=v+(P<<9&4294967295|P>>>23),P=R+(v^S&(D^v))+N[7]+1735328473&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^v&(R^D))+N[12]+2368359562&4294967295,S=R+(P<<20&4294967295|P>>>12),P=v+(S^R^D)+N[5]+4294588738&4294967295,v=S+(P<<4&4294967295|P>>>28),P=D+(v^S^R)+N[8]+2272392833&4294967295,D=v+(P<<11&4294967295|P>>>21),P=R+(D^v^S)+N[11]+1839030562&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^v)+N[14]+4259657740&4294967295,S=R+(P<<23&4294967295|P>>>9),P=v+(S^R^D)+N[1]+2763975236&4294967295,v=S+(P<<4&4294967295|P>>>28),P=D+(v^S^R)+N[4]+1272893353&4294967295,D=v+(P<<11&4294967295|P>>>21),P=R+(D^v^S)+N[7]+4139469664&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^v)+N[10]+3200236656&4294967295,S=R+(P<<23&4294967295|P>>>9),P=v+(S^R^D)+N[13]+681279174&4294967295,v=S+(P<<4&4294967295|P>>>28),P=D+(v^S^R)+N[0]+3936430074&4294967295,D=v+(P<<11&4294967295|P>>>21),P=R+(D^v^S)+N[3]+3572445317&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^v)+N[6]+76029189&4294967295,S=R+(P<<23&4294967295|P>>>9),P=v+(S^R^D)+N[9]+3654602809&4294967295,v=S+(P<<4&4294967295|P>>>28),P=D+(v^S^R)+N[12]+3873151461&4294967295,D=v+(P<<11&4294967295|P>>>21),P=R+(D^v^S)+N[15]+530742520&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^v)+N[2]+3299628645&4294967295,S=R+(P<<23&4294967295|P>>>9),P=v+(R^(S|~D))+N[0]+4096336452&4294967295,v=S+(P<<6&4294967295|P>>>26),P=D+(S^(v|~R))+N[7]+1126891415&4294967295,D=v+(P<<10&4294967295|P>>>22),P=R+(v^(D|~S))+N[14]+2878612391&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~v))+N[5]+4237533241&4294967295,S=R+(P<<21&4294967295|P>>>11),P=v+(R^(S|~D))+N[12]+1700485571&4294967295,v=S+(P<<6&4294967295|P>>>26),P=D+(S^(v|~R))+N[3]+2399980690&4294967295,D=v+(P<<10&4294967295|P>>>22),P=R+(v^(D|~S))+N[10]+4293915773&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~v))+N[1]+2240044497&4294967295,S=R+(P<<21&4294967295|P>>>11),P=v+(R^(S|~D))+N[8]+1873313359&4294967295,v=S+(P<<6&4294967295|P>>>26),P=D+(S^(v|~R))+N[15]+4264355552&4294967295,D=v+(P<<10&4294967295|P>>>22),P=R+(v^(D|~S))+N[6]+2734768916&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~v))+N[13]+1309151649&4294967295,S=R+(P<<21&4294967295|P>>>11),P=v+(R^(S|~D))+N[4]+4149444226&4294967295,v=S+(P<<6&4294967295|P>>>26),P=D+(S^(v|~R))+N[11]+3174756917&4294967295,D=v+(P<<10&4294967295|P>>>22),P=R+(v^(D|~S))+N[2]+718787259&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~v))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var S=v-this.blockSize,N=this.B,R=this.h,D=0;D<v;){if(R==0)for(;D<=S;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<v;)if(N[R++]=C.charCodeAt(D++),R==this.blockSize){i(this,N),R=0;break}}else for(;D<v;)if(N[R++]=C[D++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var S=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=S&255,S/=256;for(this.u(C),C=Array(16),v=S=0;4>v;++v)for(var N=0;32>N;N+=8)C[S++]=this.g[v]>>>N&255;return C};function s(C,v){var S=a;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=v(C)}function o(C,v){this.h=v;for(var S=[],N=!0,R=C.length-1;0<=R;R--){var D=C[R]|0;N&&D==v||(S[R]=D,N=!1)}this.g=S}var a={};function c(C){return-128<=C&&128>C?s(C,function(v){return new o([v|0],0>v?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return A(u(-C));for(var v=[],S=1,N=0;C>=S;N++)v[N]=C/S|0,S*=4294967296;return new o(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return A(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(v,8)),N=m,R=0;R<C.length;R+=8){var D=Math.min(8,C.length-R),P=parseInt(C.substring(R,R+D),v);8>D?(D=u(Math.pow(v,D)),N=N.j(D).add(u(P))):(N=N.j(S),N=N.add(u(P)))}return N}var m=c(0),f=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-A(this).m();for(var C=0,v=1,S=0;S<this.g.length;S++){var N=this.i(S);C+=(0<=N?N:4294967296+N)*v,v*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(b(this))return"-"+A(this).toString(C);for(var v=u(Math.pow(C,6)),S=this,N="";;){var R=L(S,v).g;S=w(S,R.j(v));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=R,T(S))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=w(this,C),b(C)?-1:T(C)?0:1};function A(C){for(var v=C.g.length,S=[],N=0;N<v;N++)S[N]=~C.g[N];return new o(S,~C.h).add(f)}t.abs=function(){return b(this)?A(this):this},t.add=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],N=0,R=0;R<=v;R++){var D=N+(this.i(R)&65535)+(C.i(R)&65535),P=(D>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);N=P>>>16,D&=65535,P&=65535,S[R]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function w(C,v){return C.add(A(v))}t.j=function(C){if(T(this)||T(C))return m;if(b(this))return b(C)?A(this).j(A(C)):A(A(this).j(C));if(b(C))return A(this.j(A(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var v=this.g.length+C.g.length,S=[],N=0;N<2*v;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<C.g.length;R++){var D=this.i(N)>>>16,P=this.i(N)&65535,H=C.i(R)>>>16,q=C.i(R)&65535;S[2*N+2*R]+=P*q,E(S,2*N+2*R),S[2*N+2*R+1]+=D*q,E(S,2*N+2*R+1),S[2*N+2*R+1]+=P*H,E(S,2*N+2*R+1),S[2*N+2*R+2]+=D*H,E(S,2*N+2*R+2)}for(N=0;N<v;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=v;N<2*v;N++)S[N]=0;return new o(S,0)};function E(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function x(C,v){this.g=C,this.h=v}function L(C,v){if(T(v))throw Error("division by zero");if(T(C))return new x(m,m);if(b(C))return v=L(A(C),v),new x(A(v.g),A(v.h));if(b(v))return v=L(C,A(v)),new x(A(v.g),v.h);if(30<C.g.length){if(b(C)||b(v))throw Error("slowDivide_ only works with positive integers.");for(var S=f,N=v;0>=N.l(C);)S=M(S),N=M(N);var R=F(S,1),D=F(N,1);for(N=F(N,2),S=F(S,2);!T(N);){var P=D.add(N);0>=P.l(C)&&(R=R.add(S),D=P),N=F(N,1),S=F(S,1)}return v=w(C,R.j(v)),new x(R,v)}for(R=m;0<=C.l(v);){for(S=Math.max(1,Math.floor(C.m()/v.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=u(S),P=D.j(v);b(P)||0<P.l(C);)S-=N,D=u(S),P=D.j(v);T(D)&&(D=f),R=R.add(D),C=w(C,P)}return new x(R,C)}t.A=function(C){return L(this,C).h},t.and=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],N=0;N<v;N++)S[N]=this.i(N)&C.i(N);return new o(S,this.h&C.h)},t.or=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],N=0;N<v;N++)S[N]=this.i(N)|C.i(N);return new o(S,this.h|C.h)},t.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),S=[],N=0;N<v;N++)S[N]=this.i(N)^C.i(N);return new o(S,this.h^C.h)};function M(C){for(var v=C.g.length+1,S=[],N=0;N<v;N++)S[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(S,C.h)}function F(C,v){var S=v>>5;v%=32;for(var N=C.g.length-S,R=[],D=0;D<N;D++)R[D]=0<v?C.i(D+S)>>>v|C.i(D+S+1)<<32-v:C.i(D+S);return new o(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ti=o}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A_,Ba,S_,Cu,Gm,C_,N_,R_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var j=l[I];if(!(j in g))break e;g=g[j]}l=l[l.length-1],I=g[l],d=d(I),d!=I&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var g=0,I=!1,j={next:function(){if(!I&&g<l.length){var V=g++;return{value:d(V,l[V]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var o=o||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,g){return l.call.apply(l.bind,arguments)}function m(l,d,g){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),l.apply(d,j)}}return function(){return l.apply(d,arguments)}}function f(l,d,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,f.apply(null,arguments)}function y(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function T(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(I,j,V){for(var W=Array(arguments.length-2),we=2;we<arguments.length;we++)W[we-2]=arguments[we];return d.prototype[j].apply(I,W)}}function b(l){const d=l.length;if(0<d){const g=Array(d);for(let I=0;I<d;I++)g[I]=l[I];return g}return[]}function A(l,d){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(c(I)){const j=l.length||0,V=I.length||0;l.length=j+V;for(let W=0;W<V;W++)l[j+W]=I[W]}else l.push(I)}}class w{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function E(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function L(l){return L[" "](l),l}L[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(l,d,g){for(const I in l)d.call(g,l[I],I,l)}function C(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function v(l){const d={};for(const g in l)d[g]=l[g];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,d){let g,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(g in I)l[g]=I[g];for(let V=0;V<S.length;V++)g=S[V],Object.prototype.hasOwnProperty.call(I,g)&&(l[g]=I[g])}}function R(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=ne;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class H{constructor(){this.h=this.g=null}add(d,g){const I=q.get();I.set(d,g),this.h?this.h.next=I:this.g=I,this.h=I}}var q=new w(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,U=!1,ne=new H,ie=()=>{const l=a.Promise.resolve(void 0);$e=()=>{l.then(xe)}};var xe=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(g){D(g)}var d=q;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}U=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return l}();function $t(l,d){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{L(d.nodeName);var j=!0;break e}catch{}j=!1}j||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:dn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&$t.aa.h.call(this)}}T($t,ae);var dn={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ap=0;function Ro(l,d,g,I,j){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!I,this.ha=j,this.key=++Ap,this.da=this.fa=!1}function vr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fi(l){this.src=l,this.g={},this.h=0}fi.prototype.add=function(l,d,g,I,j){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var W=mg(l,d,I,j);return-1<W?(d=l[W],g||(d.fa=!1)):(d=new Ro(d,this.src,V,!!I,j),d.fa=g,l.push(d)),d};function gi(l,d){var g=d.type;if(g in l.g){var I=l.g[g],j=Array.prototype.indexOf.call(I,d,void 0),V;(V=0<=j)&&Array.prototype.splice.call(I,j,1),V&&(vr(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mg(l,d,g,I){for(var j=0;j<l.length;++j){var V=l[j];if(!V.da&&V.listener==d&&V.capture==!!g&&V.ha==I)return j}return-1}var fg="closure_lm_"+(1e6*Math.random()|0),gg={};function Jk(l,d,g,I,j){if(Array.isArray(d)){for(var V=0;V<d.length;V++)Jk(l,d[V],g,I,j);return null}return g=t2(g),l&&l[ve]?l.K(d,g,u(I)?!!I.capture:!!I,j):ij(l,d,g,!1,I,j)}function ij(l,d,g,I,j,V){if(!d)throw Error("Invalid event type");var W=u(j)?!!j.capture:!!j,we=vg(l);if(we||(l[fg]=we=new fi(l)),g=we.add(d,g,I,W,V),g.proxy)return g;if(I=sj(),g.proxy=I,I.src=l,I.listener=g,l.addEventListener)Oe||(j=W),j===void 0&&(j=!1),l.addEventListener(d.toString(),I,j);else if(l.attachEvent)l.attachEvent(e2(d.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function sj(){function l(g){return d.call(l.src,l.listener,g)}const d=oj;return l}function Zk(l,d,g,I,j){if(Array.isArray(d))for(var V=0;V<d.length;V++)Zk(l,d[V],g,I,j);else I=u(I)?!!I.capture:!!I,g=t2(g),l&&l[ve]?(l=l.i,d=String(d).toString(),d in l.g&&(V=l.g[d],g=mg(V,g,I,j),-1<g&&(vr(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete l.g[d],l.h--)))):l&&(l=vg(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mg(d,g,I,j)),(g=-1<l?d[l]:null)&&yg(g))}function yg(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[ve])gi(d.i,l);else{var g=l.type,I=l.proxy;d.removeEventListener?d.removeEventListener(g,I,l.capture):d.detachEvent?d.detachEvent(e2(g),I):d.addListener&&d.removeListener&&d.removeListener(I),(g=vg(d))?(gi(g,l),g.h==0&&(g.src=null,d[fg]=null)):vr(l)}}}function e2(l){return l in gg?gg[l]:gg[l]="on"+l}function oj(l,d){if(l.da)l=!0;else{d=new $t(d,this);var g=l.listener,I=l.ha||l.src;l.fa&&yg(l),l=g.call(I,d)}return l}function vg(l){return l=l[fg],l instanceof fi?l:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function t2(l){return typeof l=="function"?l:(l[wg]||(l[wg]=function(d){return l.handleEvent(d)}),l[wg])}function It(){fe.call(this),this.i=new fi(this),this.M=this,this.F=null}T(It,fe),It.prototype[ve]=!0,It.prototype.removeEventListener=function(l,d,g,I){Zk(this,l,d,g,I)};function Lt(l,d){var g,I=l.F;if(I)for(g=[];I;I=I.F)g.push(I);if(l=l.M,I=d.type||d,typeof d=="string")d=new ae(d,l);else if(d instanceof ae)d.target=d.target||l;else{var j=d;d=new ae(I,l),N(d,j)}if(j=!0,g)for(var V=g.length-1;0<=V;V--){var W=d.g=g[V];j=Sp(W,I,!0,d)&&j}if(W=d.g=l,j=Sp(W,I,!0,d)&&j,j=Sp(W,I,!1,d)&&j,g)for(V=0;V<g.length;V++)W=d.g=g[V],j=Sp(W,I,!1,d)&&j}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],I=0;I<g.length;I++)vr(g[I]);delete l.g[d],l.h--}}this.F=null},It.prototype.K=function(l,d,g,I){return this.i.add(String(l),d,!1,g,I)},It.prototype.L=function(l,d,g,I){return this.i.add(String(l),d,!0,g,I)};function Sp(l,d,g,I){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,V=0;V<d.length;++V){var W=d[V];if(W&&!W.da&&W.capture==g){var we=W.listener,ht=W.ha||W.src;W.fa&&gi(l.i,W),j=we.call(ht,I)!==!1&&j}}return j&&!I.defaultPrevented}function n2(l,d,g){if(typeof l=="function")g&&(l=f(l,g));else if(l&&typeof l.handleEvent=="function")l=f(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function r2(l){l.g=n2(()=>{l.g=null,l.i&&(l.i=!1,r2(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class aj extends fe{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:r2(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(l){fe.call(this),this.h=l,this.g={}}T(El,fe);var i2=[];function s2(l){F(l.g,function(d,g){this.g.hasOwnProperty(g)&&yg(d)},l),l.g={}}El.prototype.N=function(){El.aa.N.call(this),s2(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _g=a.JSON.stringify,lj=a.JSON.parse,cj=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Eg(){}Eg.prototype.h=null;function o2(l){return l.h||(l.h=l.i())}function a2(){}var xl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xg(){ae.call(this,"d")}T(xg,ae);function kg(){ae.call(this,"c")}T(kg,ae);var hs={},l2=null;function Cp(){return l2=l2||new It}hs.La="serverreachability";function c2(l){ae.call(this,hs.La,l)}T(c2,ae);function kl(l){const d=Cp();Lt(d,new c2(d))}hs.STAT_EVENT="statevent";function u2(l,d){ae.call(this,hs.STAT_EVENT,l),this.stat=d}T(u2,ae);function Dt(l){const d=Cp();Lt(d,new u2(d,l))}hs.Ma="timingevent";function p2(l,d){ae.call(this,hs.Ma,l),this.size=d}T(p2,ae);function Tl(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Il(){this.g=!0}Il.prototype.xa=function(){this.g=!1};function uj(l,d,g,I,j,V){l.info(function(){if(l.g)if(V)for(var W="",we=V.split("&"),ht=0;ht<we.length;ht++){var me=we[ht].split("=");if(1<me.length){var bt=me[0];me=me[1];var At=bt.split("_");W=2<=At.length&&At[1]=="type"?W+(bt+"="+me+"&"):W+(bt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+d+`
`+g+`
`+W})}function pj(l,d,g,I,j,V,W){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+d+`
`+g+`
`+V+" "+W})}function Po(l,d,g,I){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+hj(l,g)+(I?" "+I:"")})}function dj(l,d){l.info(function(){return"TIMEOUT: "+d})}Il.prototype.info=function(){};function hj(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var I=g[l];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return _g(g)}catch{return d}}var Np={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},d2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tg;function Rp(){}T(Rp,Eg),Rp.prototype.g=function(){return new XMLHttpRequest},Rp.prototype.i=function(){return{}},Tg=new Rp;function yi(l,d,g,I){this.j=l,this.i=d,this.l=g,this.R=I||1,this.U=new El(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new h2}function h2(){this.i=null,this.g="",this.h=!1}var m2={},Ig={};function bg(l,d,g){l.L=1,l.v=jp(wr(d)),l.m=g,l.P=!0,f2(l,null)}function f2(l,d){l.F=Date.now(),Pp(l),l.A=wr(l.v);var g=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),C2(g.i,"t",I),l.C=0,g=l.j.J,l.h=new h2,l.g=G2(l.j,g?d:null,!l.m),0<l.O&&(l.M=new aj(f(l.Y,l,l.g),l.O)),d=l.U,g=l.g,I=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(i2[0]=j.toString()),j=i2);for(var V=0;V<j.length;V++){var W=Jk(g,j[V],I||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),kl(),uj(l.i,l.u,l.A,l.l,l.R,l.m)}yi.prototype.ca=function(l){l=l.target;const d=this.M;d&&_r(l)==3?d.j():this.Y(l)},yi.prototype.Y=function(l){try{if(l==this.g)e:{const At=_r(this.g);var d=this.g.Ba();const jo=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||M2(this.g)))){this.J||At!=4||d==7||(d==8||0>=jo?kl(3):kl(2)),Ag(this);var g=this.g.Z();this.X=g;t:if(g2(this)){var I=M2(this.g);l="";var j=I.length,V=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),bl(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,l+=this.h.i.decode(I[d],{stream:!(V&&d==j-1)});I.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,pj(this.i,this.u,this.A,this.l,this.R,At,g),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ht=this.g;if((we=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(we)){var me=we;break t}}me=null}if(g=me)Po(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sg(this,g);else{this.o=!1,this.s=3,Dt(12),ms(this),bl(this);break e}}if(this.P){g=!0;let Sn;for(;!this.J&&this.C<W.length;)if(Sn=mj(this,W),Sn==Ig){At==4&&(this.s=4,Dt(14),g=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==m2){this.s=4,Dt(15),Po(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Po(this.i,this.l,Sn,null),Sg(this,Sn);if(g2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||W.length!=0||this.h.h||(this.s=1,Dt(16),g=!1),this.o=this.o&&g,!g)Po(this.i,this.l,W,"[Invalid Chunked Response]"),ms(this),bl(this);else if(0<W.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Dg(bt),bt.M=!0,Dt(11))}}else Po(this.i,this.l,W,null),Sg(this,W);At==4&&ms(this),this.o&&!this.J&&(At==4?$2(this.j,this):(this.o=!1,Pp(this)))}else Rj(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),ms(this),bl(this)}}}catch{}finally{}};function g2(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function mj(l,d){var g=l.C,I=d.indexOf(`
`,g);return I==-1?Ig:(g=Number(d.substring(g,I)),isNaN(g)?m2:(I+=1,I+g>d.length?Ig:(d=d.slice(I,I+g),l.C=I+g,d)))}yi.prototype.cancel=function(){this.J=!0,ms(this)};function Pp(l){l.S=Date.now()+l.I,y2(l,l.I)}function y2(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tl(f(l.ba,l),d)}function Ag(l){l.B&&(a.clearTimeout(l.B),l.B=null)}yi.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(dj(this.i,this.A),this.L!=2&&(kl(),Dt(17)),ms(this),this.s=2,bl(this)):y2(this,this.S-l)};function bl(l){l.j.G==0||l.J||$2(l.j,l)}function ms(l){Ag(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,s2(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Sg(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Cg(g.h,l))){if(!l.K&&Cg(g.h,l)&&g.G==3){try{var I=g.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)zp(g),Fp(g);else break e;Lg(g),Dt(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=Tl(f(g.Za,g),6e3));if(1>=_2(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gs(g,11)}else if((l.K||g.g==l)&&zp(g),!E(d))for(j=g.Da.g.parse(d),d=0;d<j.length;d++){let me=j[d];if(g.T=me[0],me=me[1],g.G==2)if(me[0]=="c"){g.K=me[1],g.ia=me[2];const bt=me[3];bt!=null&&(g.la=bt,g.j.info("VER="+g.la));const At=me[4];At!=null&&(g.Aa=At,g.j.info("SVER="+g.Aa));const jo=me[5];jo!=null&&typeof jo=="number"&&0<jo&&(I=1.5*jo,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const Sn=l.g;if(Sn){const $p=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($p){var V=I.h;V.g||$p.indexOf("spdy")==-1&&$p.indexOf("quic")==-1&&$p.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ng(V,V.h),V.h=null))}if(I.D){const jg=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;jg&&(I.ya=jg,be(I.I,I.D,jg))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var W=l;if(I.qa=H2(I,I.J?I.ia:null,I.W),W.K){E2(I.h,W);var we=W,ht=I.L;ht&&(we.I=ht),we.B&&(Ag(we),Pp(we)),I.g=W}else z2(I);0<g.i.length&&Up(g)}else me[0]!="stop"&&me[0]!="close"||gs(g,7);else g.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?gs(g,7):Pg(g):me[0]!="noop"&&g.l&&g.l.ta(me),g.v=0)}}kl(4)}catch{}}var fj=class{constructor(l,d){this.g=l,this.map=d}};function v2(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w2(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _2(l){return l.h?1:l.g?l.g.size:0}function Cg(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Ng(l,d){l.g?l.g.add(d):l.h=d}function E2(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}v2.prototype.cancel=function(){if(this.i=x2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function x2(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return b(l.i)}function gj(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],g=l.length,I=0;I<g;I++)d.push(l[I]);return d}d=[],g=0;for(I in l)d[g++]=l[I];return d}function yj(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const I in l)d[g++]=I;return d}}}function k2(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=yj(l),I=gj(l),j=I.length,V=0;V<j;V++)d.call(void 0,I[V],g&&g[V],l)}var T2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vj(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var I=l[g].indexOf("="),j=null;if(0<=I){var V=l[g].substring(0,I);j=l[g].substring(I+1)}else V=l[g];d(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof fs){this.h=l.h,Lp(this,l.j),this.o=l.o,this.g=l.g,Dp(this,l.s),this.l=l.l;var d=l.i,g=new Cl;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),I2(this,g),this.m=l.m}else l&&(d=String(l).match(T2))?(this.h=!1,Lp(this,d[1]||"",!0),this.o=Al(d[2]||""),this.g=Al(d[3]||"",!0),Dp(this,d[4]),this.l=Al(d[5]||"",!0),I2(this,d[6]||"",!0),this.m=Al(d[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}fs.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sl(d,b2,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sl(d,b2,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Sl(g,g.charAt(0)=="/"?Ej:_j,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Sl(g,kj)),l.join("")};function wr(l){return new fs(l)}function Lp(l,d,g){l.j=g?Al(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Dp(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function I2(l,d,g){d instanceof Cl?(l.i=d,Tj(l.i,l.h)):(g||(d=Sl(d,xj)),l.i=new Cl(d,l.h))}function be(l,d,g){l.i.set(d,g)}function jp(l){return be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Al(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sl(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,wj),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wj(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var b2=/[#\/\?@]/g,_j=/[#\?:]/g,Ej=/[#\?]/g,xj=/[#\?@]/g,kj=/#/g;function Cl(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function vi(l){l.g||(l.g=new Map,l.h=0,l.i&&vj(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Cl.prototype,t.add=function(l,d){vi(this),this.i=null,l=Lo(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function A2(l,d){vi(l),d=Lo(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function S2(l,d){return vi(l),d=Lo(l,d),l.g.has(d)}t.forEach=function(l,d){vi(this),this.g.forEach(function(g,I){g.forEach(function(j){l.call(d,j,I,this)},this)},this)},t.na=function(){vi(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let I=0;I<d.length;I++){const j=l[I];for(let V=0;V<j.length;V++)g.push(d[I])}return g},t.V=function(l){vi(this);let d=[];if(typeof l=="string")S2(this,l)&&(d=d.concat(this.g.get(Lo(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},t.set=function(l,d){return vi(this),this.i=null,l=Lo(this,l),S2(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function C2(l,d,g){A2(l,d),0<g.length&&(l.i=null,l.g.set(Lo(l,d),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var I=d[g];const V=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var j=V;W[I]!==""&&(j+="="+encodeURIComponent(String(W[I]))),l.push(j)}}return this.i=l.join("&")};function Lo(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Tj(l,d){d&&!l.j&&(vi(l),l.i=null,l.g.forEach(function(g,I){var j=I.toLowerCase();I!=j&&(A2(this,I),C2(this,j,g))},l)),l.j=d}function Ij(l,d){const g=new Il;if(a.Image){const I=new Image;I.onload=y(wi,g,"TestLoadImage: loaded",!0,d,I),I.onerror=y(wi,g,"TestLoadImage: error",!1,d,I),I.onabort=y(wi,g,"TestLoadImage: abort",!1,d,I),I.ontimeout=y(wi,g,"TestLoadImage: timeout",!1,d,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else d(!1)}function bj(l,d){const g=new Il,I=new AbortController,j=setTimeout(()=>{I.abort(),wi(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:I.signal}).then(V=>{clearTimeout(j),V.ok?wi(g,"TestPingServer: ok",!0,d):wi(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),wi(g,"TestPingServer: error",!1,d)})}function wi(l,d,g,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(g)}catch{}}function Aj(){this.g=new cj}function Sj(l,d,g){const I=g||"";try{k2(l,function(j,V){let W=j;u(j)&&(W=_g(j)),d.push(I+V+"="+encodeURIComponent(W))})}catch(j){throw d.push(I+"type="+encodeURIComponent("_badmap")),j}}function Mp(l){this.l=l.Ub||null,this.j=l.eb||!1}T(Mp,Eg),Mp.prototype.g=function(){return new Vp(this.l,this.j)},Mp.prototype.i=function(l){return function(){return l}}({});function Vp(l,d){It.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Vp,It),t=Vp.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N2(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function N2(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Nl(this):Rl(this),this.readyState==3&&N2(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Nl(this))},t.Qa=function(l){this.g&&(this.response=l,Nl(this))},t.ga=function(){this.g&&Nl(this)};function Nl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rl(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Rl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function R2(l){let d="";return F(l,function(g,I){d+=I,d+=":",d+=g,d+=`\r
`}),d}function Rg(l,d,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=R2(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):be(l,d,g))}function Ue(l){It.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ue,It);var Cj=/^https?$/i,Nj=["POST","PUT"];t=Ue.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tg.g(),this.v=this.o?o2(this.o):o2(Tg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){P2(this,V);return}if(l=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)g.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())g.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Nj,d,void 0))||I||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of g)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{j2(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){P2(this,V)}};function P2(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,L2(l),Op(l)}function L2(l){l.A||(l.A=!0,Lt(l,"complete"),Lt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Lt(this,"complete"),Lt(this,"abort"),Op(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Op(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D2(this):this.bb())},t.bb=function(){D2(this)};function D2(l){if(l.h&&typeof o<"u"&&(!l.v[1]||_r(l)!=4||l.Z()!=2)){if(l.u&&_r(l)==4)n2(l.Ea,0,l);else if(Lt(l,"readystatechange"),_r(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var I;if(I=W===0){var j=String(l.D).match(T2)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),I=!Cj.test(j?j.toLowerCase():"")}g=I}if(g)Lt(l,"complete"),Lt(l,"success");else{l.m=6;try{var V=2<_r(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",L2(l)}}finally{Op(l)}}}}function Op(l,d){if(l.g){j2(l);const g=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Lt(l,"ready");try{g.onreadystatechange=I}catch{}}}function j2(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function _r(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),lj(d)}};function M2(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Rj(l){const d={};l=(l.g&&2<=_r(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(E(l[I]))continue;var g=R(l[I]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=d[j]||[];d[j]=V,V.push(g)}C(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pl(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function V2(l){this.Aa=0,this.i=[],this.j=new Il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pl("baseRetryDelayMs",5e3,l),this.cb=Pl("retryDelaySeedMs",1e4,l),this.Wa=Pl("forwardChannelMaxRetries",2,l),this.wa=Pl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new v2(l&&l.concurrentRequestLimit),this.Da=new Aj,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=V2.prototype,t.la=8,t.G=1,t.connect=function(l,d,g,I){Dt(0),this.W=l,this.H=d||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=H2(this,null,this.W),Up(this)};function Pg(l){if(O2(l),l.G==3){var d=l.U++,g=wr(l.I);if(be(g,"SID",l.K),be(g,"RID",d),be(g,"TYPE","terminate"),Ll(l,g),d=new yi(l,l.j,d),d.L=2,d.v=jp(wr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.v,g=!0),g||(d.g=G2(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pp(d)}q2(l)}function Fp(l){l.g&&(Dg(l),l.g.cancel(),l.g=null)}function O2(l){Fp(l),l.u&&(a.clearTimeout(l.u),l.u=null),zp(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Up(l){if(!w2(l.h)&&!l.s){l.s=!0;var d=l.Ga;$e||ie(),U||($e(),U=!0),ne.add(d,l),l.B=0}}function Pj(l,d){return _2(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tl(f(l.Ga,l,d),W2(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new yi(this,this.j,l);let V=this.o;if(this.S&&(V?(V=v(V),N(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=U2(this,j,d),g=wr(this.I),be(g,"RID",l),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),Ll(this,g),V&&(this.O?d="headers="+encodeURIComponent(String(R2(V)))+"&"+d:this.m&&Rg(g,this.m,V)),Ng(this.h,j),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",d),be(g,"SID","null"),j.T=!0,bg(j,g,null)):bg(j,g,d),this.G=2}}else this.G==3&&(l?F2(this,l):this.i.length==0||w2(this.h)||F2(this))};function F2(l,d){var g;d?g=d.l:g=l.U++;const I=wr(l.I);be(I,"SID",l.K),be(I,"RID",g),be(I,"AID",l.T),Ll(l,I),l.m&&l.o&&Rg(I,l.m,l.o),g=new yi(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=U2(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ng(l.h,g),bg(g,I,d)}function Ll(l,d){l.H&&F(l.H,function(g,I){be(d,I,g)}),l.l&&k2({},function(g,I){be(d,I,g)})}function U2(l,d,g){g=Math.min(l.i.length,g);var I=l.l?f(l.l.Na,l.l,l):null;e:{var j=l.i;let V=-1;for(;;){const W=["count="+g];V==-1?0<g?(V=j[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let we=!0;for(let ht=0;ht<g;ht++){let me=j[ht].g;const bt=j[ht].map;if(me-=V,0>me)V=Math.max(0,j[ht].g-100),we=!1;else try{Sj(bt,W,"req"+me+"_")}catch{I&&I(bt)}}if(we){I=W.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,I}function z2(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;$e||ie(),U||($e(),U=!0),ne.add(d,l),l.v=0}}function Lg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tl(f(l.Fa,l),W2(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,B2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tl(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Fp(this),B2(this))};function Dg(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function B2(l){l.g=new yi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=wr(l.qa);be(d,"RID","rpc"),be(d,"SID",l.K),be(d,"AID",l.T),be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&be(d,"TO",l.ja),be(d,"TYPE","xmlhttp"),Ll(l,d),l.m&&l.o&&Rg(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=jp(wr(d)),g.m=null,g.P=!0,f2(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Fp(this),Lg(this),Dt(19))};function zp(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function $2(l,d){var g=null;if(l.g==d){zp(l),Dg(l),l.g=null;var I=2}else if(Cg(l.h,d))g=d.D,E2(l.h,d),I=1;else return;if(l.G!=0){if(d.o)if(I==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var j=l.B;I=Cp(),Lt(I,new p2(I,g)),Up(l)}else z2(l);else if(j=d.s,j==3||j==0&&0<d.X||!(I==1&&Pj(l,d)||I==2&&Lg(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),j){case 1:gs(l,5);break;case 4:gs(l,10);break;case 3:gs(l,6);break;default:gs(l,2)}}}function W2(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function gs(l,d){if(l.j.info("Error code "+d),d==2){var g=f(l.fb,l),I=l.Xa;const j=!I;I=new fs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lp(I,"https"),jp(I),j?Ij(I.toString(),g):bj(I.toString(),g)}else Dt(2);l.G=0,l.l&&l.l.sa(d),q2(l),O2(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function q2(l){if(l.G=0,l.ka=[],l.l){const d=x2(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function H2(l,d,g){var I=g instanceof fs?wr(g):new fs(g);if(I.g!="")d&&(I.g=d+"."+I.g),Dp(I,I.s);else{var j=a.location;I=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var V=new fs(null);I&&Lp(V,I),d&&(V.g=d),j&&Dp(V,j),g&&(V.l=g),I=V}return g=l.D,d=l.ya,g&&d&&be(I,g,d),be(I,"VER",l.la),Ll(l,I),I}function G2(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ue(new Mp({eb:g})):new Ue(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K2(){}t=K2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bp(){}Bp.prototype.g=function(l,d){return new en(l,d)};function en(l,d){It.call(this),this.g=new V2(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!E(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Do(this)}T(en,It),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Pg(this.g)},en.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=_g(l),l=g);d.i.push(new fj(d.Ya++,l)),d.G==3&&Up(d)},en.prototype.N=function(){this.g.l=null,delete this.j,Pg(this.g),delete this.g,en.aa.N.call(this)};function Q2(l){xg.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}T(Q2,xg);function Y2(){kg.call(this),this.status=1}T(Y2,kg);function Do(l){this.g=l}T(Do,K2),Do.prototype.ua=function(){Lt(this.g,"a")},Do.prototype.ta=function(l){Lt(this.g,new Q2(l))},Do.prototype.sa=function(l){Lt(this.g,new Y2)},Do.prototype.ra=function(){Lt(this.g,"b")},Bp.prototype.createWebChannel=Bp.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,R_=function(){return new Bp},N_=function(){return Cp()},C_=hs,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,Cu=Np,d2.COMPLETE="complete",S_=d2,a2.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",It.prototype.listen=It.prototype.K,Ba=a2,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,A_=Ue}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",L_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Em("@firebase/firestore");function ao(){return Wi.logLevel}function G(t,...e){if(Wi.logLevel<=le.DEBUG){const n=e.map(Km);Wi.debug(`Firestore (${oo}): ${t}`,...n)}}function fr(t,...e){if(Wi.logLevel<=le.ERROR){const n=e.map(Km);Wi.error(`Firestore (${oo}): ${t}`,...n)}}function lo(t,...e){if(Wi.logLevel<=le.WARN){const n=e.map(Km);Wi.warn(`Firestore (${oo}): ${t}`,...n)}}function Km(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D_(t,r,n)}function D_(t,e,n){let r=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fr(r),new Error(r)}function pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||D_(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class e4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t4{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class n4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new n4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=s4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Ym(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xm(i)===Xm(s)?ce(i,s):Xm(i)?1:-1}return ce(t.length,e.length)}const o4=55296,a4=57343;function Xm(t){const e=t.charCodeAt(0);return e>=o4&&e<=a4}function co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class Vn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Vn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=Vn.isNumericId(e),i=Vn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vn.extractNumericId(e).compare(Vn.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class ye extends Vn{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Vn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new ut([V_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(ye.fromString(e))}static fromName(e){return new X(ye.fromString(e).popFirst(5))}static empty(){return new X(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c4(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F_(t){if(!X.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U_(t){if(X.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function z_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nu(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function u4(t,e){if(e<=0)throw new $(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function $a(t,e){if(!z_(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,$_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$_);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B_)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($a(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:He("string",Ie._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ie(0,0))}static max(){return new te(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=-1;function p4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new ni(i,X.empty(),e)}function d4(t){return new ni(t.readTime,t.key,Wa)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(te.min(),X.empty(),Wa)}static max(){return new ni(te.max(),X.empty(),Wa)}}function h4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==m4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function g4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ru.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function qa(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function v4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q_(e)),e=w4(t.get(n),e);return q_(e)}function w4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case W_:n+="";break;default:n+=s}}return n}function q_(t){return t+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new Ze(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Q_("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const _4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=_4.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="server_timestamp",X_="__type__",J_="__previous_value__",Z_="__local_write_time__";function Du(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[X_])==null?void 0:r.stringValue)===Y_}function ju(t){const e=t.mapValue.fields[J_];return Du(e)?ju(e):e}function Ha(t){const e=ii(t.mapValue.fields[Z_].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,i,s,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Mu="(default)";class Ga{constructor(e,n){this.projectId=e,this.database=n||Mu}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database===Mu}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",tE="__max__",Vu={mapValue:{fields:{__type__:{stringValue:tE}}}},nE="__vector__",Ou="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Du(t)?4:k4(t)?9007199254740991:x4(t)?10:11:J(28295,{value:t})}function On(t,e){if(t===e)return!0;const n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ha(t).isEqual(Ha(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ii(i.timestampValue),a=ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return si(i.bytesValue).isEqual(si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Pu(o)===Pu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(H_(o)!==H_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!On(o[c],a[c])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Ka(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=oi(t),r=oi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),c=Be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return rE(t.timestampValue,e.timestampValue);case 4:return rE(Ha(t),Ha(e));case 5:return Ym(t.stringValue,e.stringValue);case 6:return function(s,o){const a=si(s),c=si(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=ce(a[u],c[u]);if(h!==0)return h}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ce(Be(s.latitude),Be(o.latitude));return a!==0?a:ce(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,y,T,b;const a=s.fields||{},c=o.fields||{},u=(f=a[Ou])==null?void 0:f.arrayValue,h=(y=c[Ou])==null?void 0:y.arrayValue,m=ce(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return m!==0?m:iE(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vu.mapValue&&o===Vu.mapValue)return 0;if(s===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=Ym(c[m],h[m]);if(f!==0)return f;const y=ho(a[c[m]],u[h[m]]);if(y!==0)return y}return ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function rE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ii(t),r=ii(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function iE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ho(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function mo(t){return Zm(t)}function Zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zm(n.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function Fu(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ju(t);return e?16+Fu(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Fu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ri(r.fields,(s,o)=>{i+=s.length+Fu(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function Uu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ef(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function sE(t){return!!t&&"nullValue"in t}function oE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zu(t){return!!t&&"mapValue"in t}function x4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eE])==null?void 0:r.stringValue)===nE}function Qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return{...t}}function k4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ri(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(Qa(this.value))}}function aE(t){const e=[];return ri(t.fields,(n,r)=>{const i=new ut([n]);if(zu(r)){const s=aE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rt(e,0,te.min(),te.min(),te.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,te.min(),te.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,te.min(),te.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.position=e,this.inclusive=n}}function lE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=ho(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function T4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{}class Ge extends uE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b4(e,n,r):n==="array-contains"?new C4(e,r):n==="in"?new N4(e,r):n==="not-in"?new R4(e,r):n==="array-contains-any"?new P4(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A4(e,r):new S4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends uE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new In(e,n)}matches(e){return pE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(t){return t.op==="and"}function dE(t){return I4(t)&&pE(t)}function I4(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function nf(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(dE(t))return t.filters.map(e=>nf(e)).join(",");{const e=t.filters.map(n=>nf(n)).join(",");return`${t.op}(${e})`}}function hE(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hE(o,i.filters[a]),!0):!1}(t,e):void J(19439)}function mE(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(mE).join(" ,")+"}"}(t):"Filter"}class b4 extends Ge{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class A4 extends Ge{constructor(e,n){super(e,"in",n),this.keys=fE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S4 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=fE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class C4 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&Ka(n.arrayValue,this.value)}}class N4 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ka(this.value.arrayValue,n)}}class R4 extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ka(this.value.arrayValue,n)}}class P4 extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ka(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function gE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new L4(t,e,n,r,i,s,o)}function rf(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.Te=n}return e.Te}function sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cE(t.startAt,e.startAt)&&cE(t.endAt,e.endAt)}function of(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D4(t,e,n,r,i,s,o,a){return new qi(t,e,n,r,i,s,o,a)}function Bu(t){return new qi(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function af(t){return t.collectionGroup!==null}function go(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ze(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ya(s,r))}),n.has(ut.keyField().canonicalString())||e.Ie.push(new Ya(ut.keyField(),r))}return e.Ie}function Fn(t){const e=re(t);return e.Ee||(e.Ee=j4(e,go(t))),e.Ee}function j4(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ya(i.field,s)});const n=t.endAt?new fo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fo(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lf(t,e){const n=t.filters.concat([e]);return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $u(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wu(t,e){return sf(Fn(t),Fn(e))&&t.limitType===e.limitType}function vE(t){return`${rf(Fn(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mE(i)).join(", ")}]`),qa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(Fn(t))}; limitType=${t.limitType})`}function qu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of go(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=lE(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,go(r),i)||r.endAt&&!function(o,a,c){const u=lE(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,go(r),i))}(t,e)}function M4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wE(t){return(e,n)=>{let r=!1;for(const i of go(t)){const s=V4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function V4(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ho(c,u):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return G_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Me(X.comparator);function gr(){return O4}const _E=new Me(X.comparator);function Xa(...t){let e=_E;for(const n of t)e=e.insert(n.key,n);return e}function EE(t){let e=_E;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return Ja()}function xE(){return Ja()}function Ja(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const F4=new Me(X.comparator),U4=new Ze(X.comparator);function ue(...t){let e=U4;for(const n of t)e=e.add(n);return e}const z4=new Ze(ce);function B4(){return z4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function kE(t){return{integerValue:""+t}}function $4(t,e){return y4(e)?kE(e):cf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function W4(t,e,n){return t instanceof Gu?function(i,s){const o={fields:{[X_]:{stringValue:Y_},[Z_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Du(s)&&(s=ju(s)),s&&(o.fields[J_]=s),{mapValue:o}}(n,e):t instanceof Za?IE(t,e):t instanceof el?bE(t,e):function(i,s){const o=TE(i,s),a=AE(o)+AE(i.Ae);return ef(o)&&ef(i.Ae)?kE(a):cf(i.serializer,a)}(t,e)}function q4(t,e,n){return t instanceof Za?IE(t,e):t instanceof el?bE(t,e):n}function TE(t,e){return t instanceof Ku?function(r){return ef(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gu extends Hu{}class Za extends Hu{constructor(e){super(),this.elements=e}}function IE(t,e){const n=SE(e);for(const r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}class el extends Hu{constructor(e){super(),this.elements=e}}function bE(t,e){let n=SE(e);for(const r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}class Ku extends Hu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AE(t){return Be(t.integerValue||t.doubleValue)}function SE(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Za&&i instanceof Za||r instanceof el&&i instanceof el?co(r.elements,i.elements,On):r instanceof Ku&&i instanceof Ku?On(r.Ae,i.Ae):r instanceof Gu&&i instanceof Gu}(t.transform,e.transform)}class G4{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function CE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rl(t.key,Ke.none()):new nl(t.key,t.data,Ke.none());{const n=t.data,r=Pt.empty();let i=new Ze(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ai(t.key,r,new Yt(i.toArray()),Ke.none())}}function K4(t,e,n){t instanceof nl?function(i,s,o){const a=i.value.clone(),c=PE(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,s,o){if(!Qu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=PE(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(RE(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tl(t,e,n,r){return t instanceof nl?function(s,o,a,c){if(!Qu(s.precondition,o))return a;const u=s.value.clone(),h=LE(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(s,o,a,c){if(!Qu(s.precondition,o))return a;const u=LE(s.fieldTransforms,c,o),h=o.data;return h.setAll(RE(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Qu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Q4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TE(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function NE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&co(r,i,(s,o)=>H4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PE(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,q4(o,a,n[i]))}return r}function LE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,W4(s,o,e))}return r}class rl extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DE extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&K4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=CE(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,r)=>NE(n,r))&&co(this.baseMutations,e.baseMutations,(n,r)=>NE(n,r))}}class uf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return F4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function jE(t){switch(t){case O.OK:return J(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function ME(t){if(t===void 0)return fr("GRPC error has no .code"),O.UNKNOWN;switch(t){case Qe.OK:return O.OK;case Qe.CANCELLED:return O.CANCELLED;case Qe.UNKNOWN:return O.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return O.INTERNAL;case Qe.UNAVAILABLE:return O.UNAVAILABLE;case Qe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Qe.NOT_FOUND:return O.NOT_FOUND;case Qe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Qe.ABORTED:return O.ABORTED;case Qe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Qe.DATA_LOSS:return O.DATA_LOSS;default:return J(39323,{code:t})}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new ti([4294967295,4294967295],0);function VE(t){const e=Z4().encode(t),n=new b_;return n.update(e),new Uint8Array(n.digest())}function OE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ti([n,r],0),new ti([i,s],0)]}class pf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ti.fromNumber(r)));return i.compare(eL)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pf(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=VE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xu(te.min(),i,new Me(ce),gr(),ue())}}class sl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sl(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class FE{constructor(e,n){this.targetId=e,this.Ce=n}}class UE{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zE{constructor(){this.ve=0,this.Fe=BE(),this.Me=dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:s})}}),new sl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tL{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Zu(),this.He=Zu(),this.Ye=new Me(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(of(s))if(r===0){const o=new X(s.path);this.et(n,o,rt.newNoDocument(o,te.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=si(r).toUint8Array()}catch(c){if(c instanceof Q_)return lo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new pf(o,i,s)}catch(c){return lo(c instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&of(a.target)){const c=new X(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,rt.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ue();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Xu(e,n,this.Ye,this.je,r);return this.je=gr(),this.Je=Zu(),this.He=Zu(),this.Ye=new Me(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new Me(X.comparator)}function BE(){return new Me(X.comparator)}const nL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iL={and:"AND",or:"OR"};class sL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function df(t,e){return t.useProto3Json||qa(e)?e:{value:e}}function ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $E(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oL(t,e){return ep(t,e.toTimestamp())}function Xt(t){return pe(!!t,49232),te.fromTimestamp(function(n){const r=ii(n);return new Ie(r.seconds,r.nanos)}(t))}function hf(t,e){return mf(t,e).canonicalString()}function mf(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WE(t){const e=ye.fromString(t);return pe(XE(e),10190,{key:e.toString()}),e}function tp(t,e){return hf(t.databaseId,e.path)}function ol(t,e){const n=WE(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(HE(n))}function qE(t,e){return hf(t.databaseId,e)}function aL(t){const e=WE(t);return e.length===4?ye.emptyPath():HE(e)}function ff(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HE(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GE(t,e,n){return{name:tp(t,e),fields:n.value.mapValue.fields}}function lL(t,e){return"found"in e?function(r,i){pe(!!i.found,43571),i.found.name,i.found.updateTime;const s=ol(r,i.found.name),o=Xt(i.found.updateTime),a=i.found.createTime?Xt(i.found.createTime):te.min(),c=new Pt({mapValue:{fields:i.found.fields}});return rt.newFoundDocument(s,o,a,c)}(t,e):"missing"in e?function(r,i){pe(!!i.missing,3894),pe(!!i.readTime,22933);const s=ol(r,i.missing),o=Xt(i.readTime);return rt.newNoDocument(s,o)}(t,e):J(7234,{result:e})}function cL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(pe(h===void 0||typeof h=="string",58123),dt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?O.UNKNOWN:ME(u.code);return new $(h,u.message||"")}(o);n=new UE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ol(t,r.document.name),s=Xt(r.document.updateTime),o=r.document.createTime?Xt(r.document.createTime):te.min(),a=new Pt({mapValue:{fields:r.document.fields}}),c=rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Ju(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ol(t,r.document),s=r.readTime?Xt(r.readTime):te.min(),o=rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ol(t,r.document),s=r.removedTargetIds||[];n=new Ju([],s,i,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new J4(i,s),a=r.targetId;n=new FE(a,o)}}return n}function KE(t,e){let n;if(e instanceof nl)n={update:GE(t,e.key,e.value)};else if(e instanceof rl)n={delete:tp(t,e.key)};else if(e instanceof ai)n={update:GE(t,e.key,e.data),updateMask:vL(e.fieldMask)};else{if(!(e instanceof DE))return J(16599,{Vt:e.type});n={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Za)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof el)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)}(t,e.precondition)),n}function uL(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Xt(i.updateTime):Xt(s);return o.isEqual(te.min())&&(o=Xt(s)),new G4(o,i.transformResults||[])}(n,e))):[]}function pL(t,e){return{documents:[qE(t,e.path)]}}function dL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qE(t,i);const s=function(u){if(u.length!==0)return YE(In.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:vo(f.field),direction:fL(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=df(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function hL(t){let e=aL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const f=QE(m);return f instanceof In&&dE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(T){return new Ya(wo(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(m){let f;return f=typeof m=="object"?m.value:m,qa(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,y=m.values||[];return new fo(y,f)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const f=!m.before,y=m.values||[];return new fo(y,f)}(n.endAt)),D4(e,i,o,s,a,"F",c,u)}function mL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wo(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wo(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wo(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wo(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>QE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function fL(t){return nL[t]}function gL(t){return rL[t]}function yL(t){return iL[t]}function vo(t){return{fieldPath:t.canonicalString()}}function wo(t){return ut.fromServerFormat(t.fieldPath)}function YE(t){return t instanceof Ge?function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:gL(n.op),value:n.value}}}(t):t instanceof In?function(n){const r=n.getFilters().map(i=>YE(i));return r.length===1?r[0]:{compositeFilter:{op:yL(n.op),filters:r}}}(t):J(54877,{filter:t})}function vL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,i,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.yt=e}}function _L(t){const e=hL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$u(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Cn=new xL}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ni.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class xL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(ZE,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="LruGarbageCollector",kL=1048576;function tx([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class TL{constructor(e){this.Ir=e,this.buffer=new Ze(tx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(ex,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?G(ex,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)})}}class bL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Ru.ce);const r=new TL(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(JE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),ao()<=le.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function AL(t,e){return new bL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tl(r.mutation,i,Yt.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=Ja(),a=function(){return Ja()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ai)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),tl(h.mutation,u,h.mutation.getFieldMask(),Ie.now())):o.set(u.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new CL(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ja();let i=new Me((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Yt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const m=(i.get(a.batchId)||ue()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,m=xE();h.forEach(f=>{if(!s.has(f)){const y=CE(n.get(f),r.get(f));y!==null&&m.set(f,y),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):af(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Gi());let a=Wa,c=s;return o.next(u=>z.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ue())).next(h=>({batchId:a,changes:EE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{const u=function(m,f){return new qi(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,rt.newInvalidDocument(h)))});let a=Xa();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&tl(h.mutation,u,Yt.empty(),Ie.now()),qu(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:_L(i.bundledQuery),readTime:Xt(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.overlays=new Me(X.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Gi(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Gi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return z.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new X4(n,r));let s=this.qr.get(n);s===void 0&&(s=ue(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.Qr=new Ze(it.$r),this.Ur=new Ze(it.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new it(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new ye([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new ye([])),r=new it(n,e),i=new it(n,e+1);let s=ue();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(it.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ce);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new it(new X(s),0);let a=new Ze(ce);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new it(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.ri=e,this.docs=function(){return new Me(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h4(d4(h),r)<=0||(i.has(h.key)||qu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ML(this)}getSize(e){return z.resolve(this.size)}}class ML extends SL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.persistence=e,this.si=new Hi(n=>rf(n),sf),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new gf,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ru(0),this.li=!1,this.li=!0,this.hi=new LL,this.referenceDelegate=e(this),this.Pi=new VL(this),this.indexManager=new EL,this.remoteDocumentCache=function(i){return new jL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new wL(n),this.Ii=new RL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new OL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class OL extends f4{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.Ri=new gf,this.Vi=null}static mi(e){return new yf(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class np{constructor(e,n){this.persistence=e,this.pi=new Hi(r=>v4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=AL(this,n)}static mi(e,n){return new np(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fu(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vC()?8:g4(_t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new FL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ao()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ao()<=le.DEBUG&&G("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ao()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(n))):z.resolve())}ys(e,n){if(yE(n))return z.resolve(null);let r=Fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$u(n,null,"F"),r=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,$u(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return yE(n)||i.isEqual(te.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(ao()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.vs(e,o,n,p4(i,Wa)).next(a=>a))})}Ds(e,n){let r=new Ze(wE(e));return n.forEach((i,s)=>{qu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ao()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,ni.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="LocalStore",zL=3e8;class BL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(ce),this.xs=new Hi(s=>rf(s),sf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $L(t,e,n,r){return new BL(t,e,n,r)}async function rx(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ue();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function WL(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const m=u.batch,f=m.keys();let y=z.resolve();return f.forEach(T=>{y=y.next(()=>h.getEntry(c,T)).next(b=>{const A=u.docVersions.get(T);pe(A!==null,48541),b.version.compareTo(A)<0&&(m.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ix(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function qL(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const f=i.get(m);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,m)));let y=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),function(b,A,w){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=zL?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,y,h)&&a.push(n.Pi.updateTargetData(s,y))});let c=gr(),u=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(HL(s,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function HL(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G(wf,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function GL(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KL(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _f(t,e,n){const r=re(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!po(o))throw o;G(wf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function sx(t,e,n){const r=re(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=re(c),f=m.xs.get(h);return f!==void 0?z.resolve(m.Ms.get(f)):m.Pi.getTargetData(u,h)}(r,o,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(QL(r,M4(e),a),{documents:a,Qs:s})))}function QL(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class ox{constructor(){this.activeTargetIds=B4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.Mo=new ox,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ox,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="ConnectivityMonitor";class lx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(ax,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(ax,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=null;function Ef(){return rp===null?rp=function(){return 268435456+Math.round(2147483648*Math.random())}():rp++,"0x"+rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",JL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Mu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Ef(),a=this.zo(e,n.toUriEncodedString());G(xf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),h=Js(u);return this.Jo(e,a,c,r,h).then(m=>(G(xf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw lo(xf,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=JL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class t8 extends ZL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Ef();return new Promise((a,c)=>{const u=new A_;u.setWithCredentials(!0),u.listenOnce(S_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cu.NO_ERROR:const m=u.getResponseJson();G(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Cu.TIMEOUT:G(kt,`RPC '${e}' ${o} timed out`),c(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case Cu.HTTP_ERROR:const f=u.getStatus();if(G(kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const b=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(E)>=0?E:O.UNKNOWN}(T.status);c(new $(b,T.message))}else c(new $(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(O.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Ef(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=R_(),a=N_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");G(kt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let f=!1,y=!1;const T=new e8({Yo:A=>{y?G(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(f||(G(kt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),G(kt,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},Zo:()=>m.close()}),b=(A,w,E)=>{A.listen(w,x=>{try{E(x)}catch(L){setTimeout(()=>{throw L},0)}})};return b(m,Ba.EventType.OPEN,()=>{y||(G(kt,`RPC '${e}' stream ${i} transport opened.`),T.o_())}),b(m,Ba.EventType.CLOSE,()=>{y||(y=!0,G(kt,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(m))}),b(m,Ba.EventType.ERROR,A=>{y||(y=!0,lo(kt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),b(m,Ba.EventType.MESSAGE,A=>{var w;if(!y){const E=A.data[0];pe(!!E,16349);const x=E,L=(x==null?void 0:x.error)||((w=x[0])==null?void 0:w.error);if(L){G(kt,`RPC '${e}' stream ${i} received error:`,L);const M=L.status;let F=function(S){const N=Qe[S];if(N!==void 0)return ME(N)}(M),C=L.message;F===void 0&&(F=O.INTERNAL,C="Unknown error status: "+M+" with message "+L.message),y=!0,T.a_(new $(F,C)),m.close()}else G(kt,`RPC '${e}' stream ${i} received:`,E),T.u_(E)}}),b(a,C_.STAT_EVENT,A=>{A.stat===Gm.PROXY?G(kt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Gm.NOPROXY&&G(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return new sL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="PersistentStream";class ux{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tf(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(cx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(cx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n8 extends ux{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cL(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Xt(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ff(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=of(c)?{documents:pL(s,c)}:{query:dL(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$E(s,o.resumeToken);const u=df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=ep(s,o.snapshotVersion.toTimestamp());const u=df(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=mL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ff(this.serializer),n.removeTarget=e,this.q_(n)}}class r8 extends ux{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uL(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ff(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KE(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{}class s8 extends i8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,mf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,mf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class o8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="RemoteStore";class a8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(G(Ki,"Restarting streams for network reachability change."),await async function(c){const u=re(c);u.Ea.add(4),await al(u),u.Ra.set("Unknown"),u.Ea.delete(4),await sp(u)}(this))})}),this.Ra=new o8(r,i)}}async function sp(t){if(Qi(t))for(const e of t.da)await e(!0)}async function al(t){for(const e of t.da)await e(!1)}function px(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sf(n)?Af(n):Eo(n).O_()&&bf(n,e))}function If(t,e){const n=re(t),r=Eo(n);n.Ia.delete(e),r.O_()&&dx(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qi(n)&&n.Ra.set("Unknown"))}function bf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).Y_(e)}function dx(t,e){t.Va.Ue(e),Eo(t).Z_(e)}function Af(t){t.Va=new tL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.Ra.ua()}function Sf(t){return Qi(t)&&!Eo(t).x_()&&t.Ia.size>0}function Qi(t){return re(t).Ea.size===0}function hx(t){t.Va=void 0}async function l8(t){t.Ra.set("Online")}async function c8(t){t.Ia.forEach((e,n)=>{bf(t,e)})}async function u8(t,e){hx(t),Sf(t)?(t.Ra.ha(e),Af(t)):t.Ra.set("Unknown")}async function p8(t,e,n){if(t.Ra.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await op(t,r)}else if(e instanceof Ju?t.Va.Ze(e):e instanceof FE?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await ix(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),dx(s,c);const m=new li(h.target,c,u,h.sequenceNumber);bf(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Ki,"Failed to raise snapshot:",r),await op(t,r)}}async function op(t,e,n){if(!po(e))throw e;t.Ea.add(1),await al(t),t.Ra.set("Offline"),n||(n=()=>ix(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Ki,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sp(t)})}function mx(t,e){return e().catch(n=>op(t,n,e))}async function ap(t){const e=re(t),n=ci(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;d8(e);)try{const i=await GL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,h8(e,i)}catch(i){await op(e,i)}fx(e)&&gx(e)}function d8(t){return Qi(t)&&t.Ta.length<10}function h8(t,e){t.Ta.push(e);const n=ci(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fx(t){return Qi(t)&&!ci(t).x_()&&t.Ta.length>0}function gx(t){ci(t).start()}async function m8(t){ci(t).ra()}async function f8(t){const e=ci(t);for(const n of t.Ta)e.ea(n.mutations)}async function g8(t,e,n){const r=t.Ta.shift(),i=uf.from(r,e,n);await mx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ap(t)}async function y8(t,e){e&&ci(t).X_&&await async function(r,i){if(function(o){return jE(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();ci(r).B_(),await mx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ap(r)}}(t,e),fx(t)&&gx(t)}async function yx(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(Ki,"RemoteStore received new credentials");const r=Qi(n);n.Ea.add(3),await al(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sp(n)}async function v8(t,e){const n=re(t);e?(n.Ea.delete(2),await sp(n)):e||(n.Ea.add(2),await al(n),n.Ra.set("Unknown"))}function Eo(t){return t.ma||(t.ma=function(n,r,i){const s=re(n);return s.sa(),new n8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:l8.bind(null,t),t_:c8.bind(null,t),r_:u8.bind(null,t),H_:p8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Sf(t)?Af(t):t.Ra.set("Unknown")):(await t.ma.stop(),hx(t))})),t.ma}function ci(t){return t.fa||(t.fa=function(n,r,i){const s=re(n);return s.sa(),new r8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:m8.bind(null,t),r_:y8.bind(null,t),ta:f8.bind(null,t),na:g8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ap(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Ki,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cf(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nf(t,e){if(fr("AsyncQueue",`${e}: ${t}`),po(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.ga=new Me(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ko(e,n,xo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class _8{constructor(){this.queries=wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=wx(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function wx(){return new Hi(t=>vE(t),Wu)}async function Rf(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new w8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Nf(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Lf(n)}async function Pf(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E8(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Lf(n)}function x8(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Lf(t){t.Ca.forEach(e=>{e.next()})}var Df,_x;(_x=Df||(Df={})).Ma="default",_x.Cache="cache";class jf{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class k8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=wE(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vx,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const f=i.get(h),y=qu(this.query,m)?m:null,T=!!f&&this.mutatedKeys.has(f.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;f&&y?f.data.isEqual(y.data)?T!==b&&(r.track({type:3,doc:y}),A=!0):this.su(f,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),A=!0):f&&!y&&(r.track({type:1,doc:f}),A=!0,(c||u)&&(a=!0)),A&&(y?(o=o.add(y),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(y,T){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:A})}};return b(y)-b(T)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ko(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new xx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Ex(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mf="SyncEngine";class T8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I8{constructor(e){this.key=e,this.hu=!1}}class b8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hi(a=>vE(a),Wu),this.Iu=new Map,this.Eu=new Set,this.du=new Me(X.comparator),this.Au=new Map,this.Ru=new gf,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A8(t,e,n=!0){const r=Nx(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await kx(r,e,n,!0),i}async function S8(t,e){const n=Nx(t);await kx(n,e,!0,!1)}async function kx(t,e,n,r){const i=await KL(t.localStore,Fn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await C8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&px(t.remoteStore,i),a}async function C8(t,e,n,r,i){t.pu=(m,f,y)=>async function(b,A,w,E){let x=A.view.ru(w);x.Cs&&(x=await sx(b.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,x)));const L=E&&E.targetChanges.get(A.targetId),M=E&&E.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(x,b.isPrimaryClient,L,M);return Cx(b,A.targetId,F.au),F.snapshot}(t,m,f,y);const s=await sx(t.localStore,e,!0),o=new k8(e,s.Qs),a=o.ru(s.documents),c=sl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Cx(t,n,u.au);const h=new T8(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function N8(t,e,n){const r=re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Wu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _f(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&If(r.remoteStore,i.targetId),Vf(r,i.targetId)}).catch(uo)):(Vf(r,i.targetId),await _f(r.localStore,i.targetId,!0))}async function R8(t,e){const n=re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),If(n.remoteStore,r.targetId))}async function P8(t,e,n){const r=F8(t);try{const i=await function(o,a){const c=re(o),u=Ie.now(),h=a.reduce((y,T)=>y.add(T.key),ue());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=gr(),b=ue();return c.Ns.getEntries(y,h).next(A=>{T=A,T.forEach((w,E)=>{E.isValidDocument()||(b=b.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(A=>{m=A;const w=[];for(const E of a){const x=Q4(E,m.get(E.key).overlayedDocument);x!=null&&w.push(new ai(E.key,x,aE(x.value.mapValue),Ke.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,w,a)}).next(A=>{f=A;const w=A.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(y,A.batchId,w)})}).then(()=>({batchId:f.batchId,changes:EE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Me(ce)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await ll(r,i.changes),await ap(r.remoteStore)}catch(i){const s=Nf(i,"Failed to persist write");n.reject(s)}}async function Tx(t,e){const n=re(t);try{const r=await qL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pe(o.hu,14607):i.removedDocuments.size>0&&(pe(o.hu,42227),o.hu=!1))}),await ll(n,r,e)}catch(r){await uo(r)}}function Ix(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=re(o);c.onlineState=a;let u=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(a)&&(u=!0)}),u&&Lf(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L8(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(X.comparator);o=o.insert(s,rt.newNoDocument(s,te.min()));const a=ue().add(s),c=new Xu(te.min(),new Map,new Me(ce),o,a);await Tx(r,c),r.du=r.du.remove(s),r.Au.delete(e),Of(r)}else await _f(r.localStore,e,!1).then(()=>Vf(r,e,n)).catch(uo)}async function D8(t,e){const n=re(t),r=e.batch.batchId;try{const i=await WL(n.localStore,e);Ax(n,r,null),bx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ll(n,i)}catch(i){await uo(i)}}async function j8(t,e,n){const r=re(t);try{const i=await function(o,a){const c=re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(pe(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);Ax(r,e,n),bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ll(r,i)}catch(i){await uo(i)}}function bx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ax(t,e,n){const r=re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Sx(t,r)})}function Sx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(If(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Of(t))}function Cx(t,e,n){for(const r of n)r instanceof Ex?(t.Ru.addReference(r.key,e),M8(t,r)):r instanceof xx?(G(Mf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Sx(t,r.key)):J(19791,{wu:r})}function M8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Mf,"New document in limbo: "+n),t.Eu.add(r),Of(t))}function Of(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(ye.fromString(e)),r=t.fu.next();t.Au.set(r,new I8(n)),t.du=t.du.insert(n,r),px(t.remoteStore,new li(Fn(Bu(n.path)),r,"TargetPurposeLimboResolution",Ru.ce))}}async function ll(t,e,n){const r=re(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=vf.As(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const h=re(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(u,f=>z.forEach(f.Es,y=>h.persistence.referenceDelegate.addReference(m,f.targetId,y)).next(()=>z.forEach(f.ds,y=>h.persistence.referenceDelegate.removeReference(m,f.targetId,y)))))}catch(m){if(!po(m))throw m;G(wf,"Failed to update sequence numbers: "+m)}for(const m of u){const f=m.targetId;if(!m.fromCache){const y=h.Ms.get(f),T=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(f,b)}}}(r.localStore,s))}async function V8(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(Mf,"User change. New user:",e.toKey());const r=await rx(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ll(n,r.Ls)}}function O8(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Nx(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L8.bind(null,e),e.Pu.H_=E8.bind(null,e.eventManager),e.Pu.yu=x8.bind(null,e.eventManager),e}function F8(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j8.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $L(this.persistence,new UL,e.initialUser,this.serializer)}Cu(e){return new nx(yf.mi,this.serializer)}Du(e){return new YL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class U8 extends lp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new nx(r=>np.mi(r,n),this.serializer)}}class Ff{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ix(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,this.syncEngine),await v8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _8}()}createDatastore(e){const n=ip(e.databaseInfo.databaseId),r=function(s){return new t8(s)}(e.databaseInfo);return function(s,o,a,c){return new s8(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new a8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ix(this.syncEngine,n,0),function(){return lx.v()?new lx:new XL}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const m=new b8(i,s,o,a,c,u);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);G(Ki,"RemoteStore shutting down."),s.Ea.add(5),await al(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=re(i),a={documents:s.map(m=>tp(o.serializer,m))},c=await o.Ho("BatchGetDocuments",o.serializer.databaseId,ye.emptyPath(),a,s.length),u=new Map;c.forEach(m=>{const f=lL(o.serializer,m);u.set(f.key.toString(),f)});const h=[];return s.forEach(m=>{const f=u.get(m.toString());pe(!!f,55234,{key:m}),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=X.fromPath(r);this.mutations.push(new DE(i,this.precondition(i)))}),await async function(r,i){const s=re(r),o={writes:i.map(a=>KE(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,ye.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw J(50498,{Gu:e.constructor.name});n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new Tf(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new z8(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!jE(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class $8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ui,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),G(ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W8(t);G(ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yx(e.remoteStore,i)),t._onlineComponents=e}async function W8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ui,"Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new lp)}}else G(ui,"Using default OfflineComponentProvider"),await zf(t,new U8(void 0));return t._offlineComponents}async function Bf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ui,"Using user provided OnlineComponentProvider"),await Rx(t,t._uninitializedComponentsProvider._online)):(G(ui,"Using default OnlineComponentProvider"),await Rx(t,new Ff))),t._onlineComponents}function q8(t){return Bf(t).then(e=>e.syncEngine)}function H8(t){return Bf(t).then(e=>e.datastore)}async function cp(t){const e=await Bf(t),n=e.eventManager;return n.onListen=A8.bind(null,e.syncEngine),n.onUnlisten=N8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R8.bind(null,e.syncEngine),n}function G8(t,e,n={}){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new Uf({next:f=>{h.Nu(),o.enqueueAndForget(()=>Pf(s,m));const y=f.docs.has(a);!y&&f.fromCache?u.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&f.fromCache&&c&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new jf(Bu(a.path),h,{includeMetadataChanges:!0,qa:!0});return Rf(s,m)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}function K8(t,e,n={}){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new Uf({next:f=>{h.Nu(),o.enqueueAndForget(()=>Pf(s,m)),f.fromCache&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new jf(a,h,{includeMetadataChanges:!0,qa:!0});return Rf(s,m)}(await cp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="firestore.googleapis.com",jx=!0;class Mx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dx,this.ssl=jx}else this.host=e.host,this.ssl=e.ssl??jx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kL)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Px(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZP;switch(r.type){case"firstParty":return new r4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lx.get(n);r&&(G("ComponentProvider","Removing Datastore"),Lx.delete(n),r.terminate())}(this),Promise.resolve()}}function Q8(t,e,n,r={}){var u;t=xt(t,up);const i=Js(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(a1(`https://${a}`),c1("Firestore",!0)),s.host!==Dx&&s.host!==a&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Oi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Et.MOCK_USER;else{h=cC(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Et(f)}t._authCredentials=new e4(new j_(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class Ve{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($a(n,Ve._jsonSchema))return new Ve(e,r||null,new X(ye.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:He("string",Ve._jsonSchemaVersion),referencePath:He("string")};class pi extends Un{constructor(e,n,r){super(e,n,Bu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new X(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function pn(t,e,...n){if(t=Ce(t),O_("collection","path",e),t instanceof up){const r=ye.fromString(e,...n);return U_(r),new pi(t,null,r)}{if(!(t instanceof Ve||t instanceof pi))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return U_(r),new pi(t.firestore,null,r)}}function zn(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=Qm.newId()),O_("doc","path",e),t instanceof up){const r=ye.fromString(e,...n);return F_(r),new Ve(t,null,new X(r))}{if(!(t instanceof Ve||t instanceof pi))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return F_(r),new Ve(t.firestore,t instanceof pi?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="AsyncQueue";class Ox{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tf(this,"async_queue_retry"),this._c=()=>{const r=kf();r&&G(Vx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;G(Vx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",Fx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Cf.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:Fx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class bn extends up{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ox,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ox(e),this._firestoreClient=void 0,await e}}}function Y8(t,e){const n=typeof t=="object"?t:w1(),r=typeof t=="string"?t:Mu,i=Rm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aC("firestore");s&&Q8(i,...s)}return i}function To(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X8(t),t._firestoreClient}function X8(t){var r,i,s;const e=t._freezeSettings(),n=function(a,c,u,h){return new E4(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Px(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(dt.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($a(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:He("string",Jt._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bn._jsonSchemaVersion}}static fromJSON(e){if($a(e,Bn._jsonSchema))return new Bn(e.latitude,e.longitude)}}Bn._jsonSchemaVersion="firestore/geoPoint/1.0",Bn._jsonSchema={type:He("string",Bn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($a(e,$n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new $n(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:He("string",$n._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=/^__.*__$/;class Z8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}class zx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class Wf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bx(this.Ac)&&J8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ip(e)}Cc(e,n,r,i=!1){return new Wf({Ac:e,methodName:n,Dc:r,path:ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yi(t){const e=t._freezeSettings(),n=ip(t._databaseId);return new eD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pp(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Gf("Data must be an object, but it was:",o,r);const a=Wx(r,o);let c,u;if(s.merge)c=new Yt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const f=Kf(e,m,n);if(!o.contains(f))throw new $(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Hx(h,f)||h.push(f)}c=new Yt(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new Z8(new Pt(a),c,u)}class dp extends $f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dp}}function qf(t,e,n,r){const i=t.Cc(1,e,n);Gf("Data must be an object, but it was:",i,r);const s=[],o=Pt.empty();ri(r,(c,u)=>{const h=Qf(e,c,n);u=Ce(u);const m=i.yc(h);if(u instanceof dp)s.push(h);else{const f=cl(u,m);f!=null&&(s.push(h),o.set(h,f))}});const a=new Yt(s);return new zx(o,a,i.fieldTransforms)}function Hf(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Kf(e,r,n)],c=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Kf(e,s[f])),c.push(s[f+1]);const u=[],h=Pt.empty();for(let f=a.length-1;f>=0;--f)if(!Hx(u,a[f])){const y=a[f];let T=c[f];T=Ce(T);const b=o.yc(y);if(T instanceof dp)u.push(y);else{const A=cl(T,b);A!=null&&(u.push(y),h.set(y,A))}}const m=new Yt(u);return new zx(h,m,o.fieldTransforms)}function $x(t,e,n,r=!1){return cl(n,t.Cc(r?4:3,e))}function cl(t,e){if(qx(t=Ce(t)))return Gf("Unsupported field value:",e,t),Wx(t,e);if(t instanceof $f)return function(r,i){if(!Bx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=cl(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:ep(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ep(i.serializer,s)}}if(r instanceof Bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jt)return{bytesValue:$E(i.serializer,r._byteString)};if(r instanceof Ve){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $n)return function(o,a){return{mapValue:{fields:{[eE]:{stringValue:nE},[Ou]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return cf(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Nu(r)}`)}(t,e)}function Wx(t,e){const n={};return G_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(t,(r,i)=>{const s=cl(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof Bn||t instanceof Jt||t instanceof Ve||t instanceof $f||t instanceof $n)}function Gf(t,e,n){if(!qx(n)||!z_(n)){const r=Nu(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Kf(t,e,n){if((e=Ce(e))instanceof Io)return e._internalPath;if(typeof e=="string")return Qf(t,e);throw hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const tD=new RegExp("[~\\*/\\[\\]]");function Qf(t,e,n){if(e.search(tD)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Io(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(O.INVALID_ARGUMENT,a+t+c)}function Hx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nD extends ul{data(){return super.data()}}function mp(t,e){return typeof e=="string"?Qf(t,e):e instanceof Io?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yf{}class fp extends Yf{}function di(t,e,...n){let r=[];e instanceof Yf&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Xf).length,a=s.filter(c=>c instanceof gp).length;if(o>1||o>0&&a>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gp extends fp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gp(e,n,r)}_apply(e){const n=this._parse(e);return Xx(e._query,n),new Un(e.firestore,e.converter,lf(e._query,n))}_parse(e){const n=Yi(e.firestore);return function(s,o,a,c,u,h,m){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Yx(m,h);const T=[];for(const b of m)T.push(Qx(c,s,b));f={arrayValue:{values:T}}}else f=Qx(c,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Yx(m,h),f=$x(a,o,m,h==="in"||h==="not-in");return Ge.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pl(t,e,n){const r=e,i=mp("where",t);return gp._create(i,r,n)}class Xf extends Yf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)Xx(o,c),o=lf(o,c)}(e._query,n),new Un(e.firestore,e.converter,lf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jf extends fp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jf(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ya(s,o)}(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function dl(t,e="asc"){const n=e,r=mp("orderBy",t);return Jf._create(r,n)}class Zf extends fp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Zf(e,n,r)}_apply(e){return new Un(e.firestore,e.converter,$u(e._query,this._limit,this._limitType))}}function hl(t){return u4("limit",t),Zf._create("limit",t,"F")}class eg extends fp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new eg(e,n,r)}_apply(e){const n=rD(e,this.type,this._docOrFields,this._inclusive);return new Un(e.firestore,e.converter,function(i,s){return new qi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Kx(...t){return eg._create("startAfter",t,!1)}function rD(t,e,n,r){if(n[0]=Ce(n[0]),n[0]instanceof ul)return function(s,o,a,c,u){if(!c)throw new $(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of go(s))if(m.field.isKeyField())h.push(Uu(o,c.key));else{const f=c.data.field(m.field);if(Du(f))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const y=m.field.canonicalString();throw new $(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(f)}return new fo(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yi(t.firestore);return function(o,a,c,u,h,m){const f=o.explicitOrderBy;if(h.length>f.length)throw new $(O.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let T=0;T<h.length;T++){const b=h[T];if(f[T].field.isKeyField()){if(typeof b!="string")throw new $(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!af(o)&&b.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const A=o.path.child(ye.fromString(b));if(!X.isDocumentKey(A))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const w=new X(A);y.push(Uu(a,w))}else{const A=$x(c,u,b);y.push(A)}}return new fo(y,m)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Qx(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!af(e)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!X.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uu(t,new X(r))}if(n instanceof Ve)return Uu(t,n._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nu(n)}.`)}function Yx(t,e){if(!Array.isArray(t)||t.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Jx{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ri(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ou].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Be(o.doubleValue));return new $n(n)}convertGeoPoint(e){return new Bn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ju(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){const n=ii(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);pe(XE(r),9688,{name:e});const i=new Ga(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class iD extends Jx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}class bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends ul{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",hi._jsonSchema={type:He("string",hi._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class vp extends hi{data(e={}){return super.data(e)}}class Xi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vp(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new vp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new vp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:sD(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){t=xt(t,Ve);const e=xt(t.firestore,bn);return G8(To(e),t._key).then(n=>tk(e,t,n))}Xi._jsonSchemaVersion="firestore/querySnapshot/1.0",Xi._jsonSchema={type:He("string",Xi._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class wp extends Jx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function Ji(t){t=xt(t,Un);const e=xt(t.firestore,bn),n=To(e),r=new wp(e);return Gx(t._query),K8(n,t._query).then(i=>new Xi(e,r,t,i))}function Zx(t,e,n){t=xt(t,Ve);const r=xt(t.firestore,bn),i=yp(t.converter,e,n);return ml(r,[pp(Yi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function aD(t,e,n,...r){t=xt(t,Ve);const i=xt(t.firestore,bn),s=Yi(i);let o;return o=typeof(e=Ce(e))=="string"||e instanceof Io?Hf(s,"updateDoc",t._key,e,n,r):qf(s,"updateDoc",t._key,e),ml(i,[o.toMutation(t._key,Ke.exists(!0))])}function tg(t){return ml(xt(t.firestore,bn),[new rl(t._key,Ke.none())])}function ng(t,e){const n=xt(t.firestore,bn),r=zn(t),i=yp(t.converter,e);return ml(n,[pp(Yi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function ek(t,...e){var c,u,h;t=Ce(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ux(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ux(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(u=m.error)==null?void 0:u.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let s,o,a;if(t instanceof Ve)o=xt(t.firestore,bn),a=Bu(t._key.path),s={next:m=>{e[r]&&e[r](tk(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=xt(t,Un);o=xt(m.firestore,bn),a=m._query;const f=new wp(o);s={next:y=>{e[r]&&e[r](new Xi(o,f,m,y))},error:e[r+1],complete:e[r+2]},Gx(t._query)}return function(f,y,T,b){const A=new Uf(b),w=new jf(y,A,T);return f.asyncQueue.enqueueAndForget(async()=>Rf(await cp(f),w)),()=>{A.Nu(),f.asyncQueue.enqueueAndForget(async()=>Pf(await cp(f),w))}}(To(o),a,i,s)}function ml(t,e){return function(r,i){const s=new Mn;return r.asyncQueue.enqueueAndForget(async()=>P8(await q8(r),i,s)),s.promise}(To(t),e)}function tk(t,e,n){const r=n.docs.get(e._key),i=new wp(t);return new hi(t,i,e._key,r,new bo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yi(e)}set(e,n,r){this._verifyNotCommitted();const i=mi(e,this._firestore),s=yp(i.converter,n,r),o=pp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=mi(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof Io?Hf(this._dataReader,"WriteBatch.update",s._key,n,r,i):qf(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mi(e,this._firestore);return this._mutations=this._mutations.concat(new rl(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mi(t,e){if((t=Ce(t)).firestore!==e)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Yi(e)}get(e){const n=mi(e,this._firestore),r=new iD(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return J(24041);const s=i[0];if(s.isFoundDocument())return new ul(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ul(this._firestore,r,n._key,null,n.converter);throw J(18433,{doc:s})})}set(e,n,r){const i=mi(e,this._firestore),s=yp(i.converter,n,r),o=pp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=mi(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof Io?Hf(this._dataReader,"Transaction.update",s._key,n,r,i):qf(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=mi(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD extends uD{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mi(e,this._firestore),r=new wp(this._firestore);return super.get(e).then(i=>new hi(this._firestore,r,n._key,i._document,new bo(!1,!1),n.converter))}}function dD(t,e,n){t=xt(t,bn);const r={...lD,...n};return function(s){if(s.maxAttempts<1)throw new $(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new Mn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await H8(s);new B8(s.asyncQueue,u,a,o,c).ju()}),c.promise}(To(t),i=>e(new pD(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return To(t=xt(t,bn)),new cD(t,e=>ml(t,e))}(function(e,n=!0){(function(i){oo=i})(eo),Zs(new Fi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bn(new t4(r.getProvider("auth-internal")),new i4(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gr(P_,L_,e),Gr(P_,L_,"esm2020")})();const nk=v1({apiKey:"AIzaSyDjL3e2KxKqchkzJtyUcY7VZ-w1cC70QHM",authDomain:"drinkwater-5fca5.firebaseapp.com",projectId:"drinkwater-5fca5",storageBucket:"drinkwater-5fca5.firebasestorage.app",messagingSenderId:"815020126595",appId:"1:815020126595:web:118fc15974861e291d06b6"}),Ao=QP(nk),Ne=Y8(nk);class fl{constructor(e){Kn(this,"collectionName");this.collectionName=e}async create(e){return(await ng(pn(Ne,this.collectionName),{...e,createdAt:new Date,updatedAt:new Date})).id}async getById(e){const n=zn(Ne,this.collectionName,e),r=await oD(n);return r.exists()?{id:r.id,...r.data()}:null}async update(e,n){const r=zn(Ne,this.collectionName,e);await aD(r,{...n,updatedAt:new Date})}async delete(e){const n=zn(Ne,this.collectionName,e);await tg(n)}async find(e={}){const n=[];e.where&&e.where.forEach(s=>{n.push(pl(s.field,s.operator,s.value))}),e.orderBy&&e.orderBy.forEach(s=>{n.push(dl(s.field,s.direction))}),e.limit&&n.push(hl(e.limit)),e.startAfter&&n.push(Kx(e.startAfter));const r=di(pn(Ne,this.collectionName),...n);return(await Ji(r)).docs.map(s=>({id:s.id,...s.data()}))}async findOne(e={}){const n=await this.find({...e,limit:1});return n.length>0?n[0]:null}async findWithPagination(e){const n=[];e.orderBy&&n.push(dl(e.orderBy,e.orderDirection||"desc")),e.startAfter&&n.push(Kx(e.startAfter)),n.push(hl(e.limit+1));const r=di(pn(Ne,this.collectionName),...n),s=(await Ji(r)).docs,o=s.length>e.limit;return{data:s.slice(0,e.limit).map(c=>({id:c.id,...c.data()})),lastDoc:o?s[s.length-2]:null,hasMore:o}}async createBatch(e){const n=rg(Ne),r=[];return e.forEach(i=>{const s=zn(pn(Ne,this.collectionName));n.set(s,{...i,createdAt:new Date,updatedAt:new Date}),r.push(s)}),await n.commit(),r.map(i=>i.id)}async updateBatch(e){const n=rg(Ne);e.forEach(({id:r,data:i})=>{const s=zn(Ne,this.collectionName,r);n.update(s,{...i,updatedAt:new Date})}),await n.commit()}async deleteBatch(e){const n=rg(Ne);e.forEach(r=>{const i=zn(Ne,this.collectionName,r);n.delete(i)}),await n.commit()}async runTransaction(e){return dD(Ne,e)}onSnapshot(e,n={}){const r=[];n.where&&n.where.forEach(s=>{r.push(pl(s.field,s.operator,s.value))}),n.orderBy&&n.orderBy.forEach(s=>{r.push(dl(s.field,s.direction))}),n.limit&&r.push(hl(n.limit));const i=di(pn(Ne,this.collectionName),...r);return ek(i,s=>{const o=s.docs.map(a=>({id:a.id,...a.data()}));e(o)})}onSnapshotById(e,n){const r=zn(Ne,this.collectionName,e);return ek(r,i=>{if(i.exists()){const s={id:i.id,...i.data()};n(s)}else n(null)})}}const gl={async onPostLiked(t,e){try{await An.createPostLikeActivity(t,e)}catch(n){console.error("Erro ao criar atividade de like:",n)}},async onPostCommented(t,e,n,r){try{await An.createCommentActivity(t,e,n,r)}catch(i){console.error("Erro ao criar atividade de comentrio:",i)}},async onUserFollowed(t,e){try{await An.createFollowActivity(t,e)}catch(n){console.error("Erro ao criar atividade de follow:",n)}},async onCommentLiked(t,e){try{await An.createCommentLikeActivity(t,e)}catch(n){console.error("Erro ao criar atividade de like em comentrio:",n)}},async onPostMentioned(t,e,n){try{await An.createMentionActivity(t,e,n)}catch(r){console.error("Erro ao criar atividade de meno:",r)}}};class _p extends fl{constructor(){super("users")}async create(e){const n=lm(e.username,e.displayName),r={...e,...n,createdAt:new Date,updatedAt:new Date};if(e.uid){const i=zn(Ne,"users",e.uid);return await Zx(i,{...r,id:e.uid}),e.uid}else return super.create(r)}async updateSearchFields(e,n,r){const i=await this.getById(e);if(!i)return;const s=n||i.username,o=r!==void 0?r:i.displayName,a=lm(s,o);await this.update(e,{...n&&{username:s},...r!==void 0&&{displayName:o},...a,updatedAt:new Date})}async findByEmail(e){return this.findOne({where:[{field:"email",operator:"==",value:e}]})}async findByUsername(e){return this.findOne({where:[{field:"username",operator:"==",value:e}]})}async searchUsersImproved(e,n=50){const r=Mi(e);if(r.length<2)return[];const i=Zc(r,2),s=Zc(r,3),o=i.slice(0,10),a=s.slice(0,10),c=await this.find({where:[{field:"searchGrams2",operator:"array-contains-any",value:o}],limit:n}),u=await this.find({where:[{field:"searchGrams3",operator:"array-contains-any",value:a}],limit:n});return[...c,...u].filter((b,A,w)=>w.findIndex(E=>E.id===b.id)===A).filter(b=>{const A={searchGrams2:b.searchGrams2||[],searchGrams3:b.searchGrams3||[]},w=i.every(x=>A.searchGrams2.includes(x)),E=s.every(x=>A.searchGrams3.includes(x));return w&&E}).map(b=>({user:b,score:pA(b,e,{searchGrams2:b.searchGrams2||[],searchGrams3:b.searchGrams3||[]})})).sort((b,A)=>A.score-b.score).slice(0,n).map(b=>b.user).map(b=>({id:b.id,username:b.username,avatarUrl:b.avatarUrl,bio:b.bio,displayName:b.displayName,createdAt:b.createdAt,updatedAt:b.updatedAt,followersCount:b.followersCount,followingCount:b.followingCount,postsCount:b.postsCount,isPrivate:b.isPrivate}))}async searchUsers(e,n=10){return(await this.find({where:[{field:"username",operator:">=",value:e},{field:"username",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async searchUsersByDisplayName(e,n=10){return(await this.find({where:[{field:"displayName",operator:">=",value:e},{field:"displayName",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async followUser(e,n){const r={followerId:e,followedId:n,followedAt:new Date};await ng(pn(Ne,"users",n,"followers"),r),await ng(pn(Ne,"users",e,"following"),r),await this.updateFollowersCount(n,1),await this.updateFollowingCount(e,1),await gl.onUserFollowed(n,e)}async unfollowUser(e,n){const r=di(pn(Ne,"users",n,"followers"),pl("followerId","==",e));(await Ji(r)).docs.forEach(async a=>{await tg(a.ref)});const s=di(pn(Ne,"users",e,"following"),pl("followedId","==",n));(await Ji(s)).docs.forEach(async a=>{await tg(a.ref)}),await this.updateFollowersCount(n,-1),await this.updateFollowingCount(e,-1)}async isFollowing(e,n){const r=di(pn(Ne,"users",n,"followers"),pl("followerId","==",e));return!(await Ji(r)).empty}async getFollowers(e,n=20){const r=di(pn(Ne,"users",e,"followers"),dl("followedAt","desc"),hl(n)),s=(await Ji(r)).docs.map(a=>a.data().followerId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(a=>({id:a.id,username:a.username,avatarUrl:a.avatarUrl,bio:a.bio,displayName:a.displayName,createdAt:a.createdAt,updatedAt:a.updatedAt,followersCount:a.followersCount,followingCount:a.followingCount,postsCount:a.postsCount,isPrivate:a.isPrivate}))}async getFollowing(e,n=20){const r=di(pn(Ne,"users",e,"following"),dl("followedAt","desc"),hl(n)),s=(await Ji(r)).docs.map(a=>a.data().followedId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(a=>({id:a.id,username:a.username,avatarUrl:a.avatarUrl,bio:a.bio,displayName:a.displayName,createdAt:a.createdAt,updatedAt:a.updatedAt,followersCount:a.followersCount,followingCount:a.followingCount,postsCount:a.postsCount,isPrivate:a.isPrivate}))}async updateFollowersCount(e,n){const r=await this.getById(e);if(r){const i=(r.followersCount||0)+n;await this.update(e,{followersCount:Math.max(0,i)})}}async updateFollowingCount(e,n){const r=await this.getById(e);if(r){const i=(r.followingCount||0)+n;await this.update(e,{followingCount:Math.max(0,i)})}}async updatePostsCount(e,n){const r=await this.getById(e);if(r){const i=(r.postsCount||0)+n;await this.update(e,{postsCount:Math.max(0,i)})}}async migrateUserToUid(e,n){try{const r=await this.getById(e);if(!r)throw new Error("Usurio no encontrado");const i=zn(Ne,"users",n);await Zx(i,{...r,id:n,updatedAt:new Date}),await this.delete(e),console.log(`Usurio migrado: ${e} -> ${n}`)}catch(r){throw console.error("Erro ao migrar usurio:",r),r}}async migrateAllUsersToSearchFields(){try{console.log("Iniciando migrao dos campos de busca...");const e=await this.find({});let n=0;for(const r of e){if(r.searchGrams2&&r.searchGrams3)continue;const i=lm(r.username,r.displayName);await this.update(r.id,{...i,updatedAt:new Date}),n++,n%10===0&&console.log(`${n} usurios migrados...`)}console.log(`Migrao concluda! ${n} usurios atualizados.`)}catch(e){throw console.error("Erro na migrao:",e),e}}async findByUid(e){return this.getById(e)}}class Ep extends fl{constructor(){super("posts");Kn(this,"userRepository");this.userRepository=new _p}async getPostsByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPublicPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:n})}async getPostsByTaggedUser(n,r=20){return this.find({where:[{field:"tags",operator:"array-contains",value:n},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getFeedPosts(n,r,i=20){if(r.length===0)return[];const s=await this.find({where:[{field:"userId",operator:"in",value:r},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:i}),o=[];for(const a of s){const c=await this.userRepository.getById(a.userId);c&&o.push({...a,user:{id:c.id,username:c.username,avatarUrl:c.avatarUrl,displayName:c.displayName}})}return o}async getPostsByTags(n,r=20){return this.find({where:[{field:"tags",operator:"array-contains-any",value:n},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPopularPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"likeCount",direction:"desc"}],limit:n})}async createPost(n){const r=await this.create({...n,likeCount:0,commentCount:0,createdAt:new Date,updatedAt:new Date});return await this.userRepository.updatePostsCount(n.userId,1),n.tags&&n.tags.length>0&&await gl.onPostMentioned(r,n.userId,n.tags),r}async deletePost(n){const r=await this.getById(n);r&&(await this.delete(n),await this.userRepository.updatePostsCount(r.userId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async updateCommentCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.commentCount+r);await this.update(n,{commentCount:s})}}async getPostsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}}class ig extends fl{constructor(){super("comments");Kn(this,"userRepository");Kn(this,"postRepository");this.userRepository=new _p,this.postRepository=new Ep}async debugGetAllComments(){console.log("Debug: Buscando todos os comentrios...");const n=await this.find({});return console.log("Debug: Total de comentrios na coleo:",n.length),console.log("Debug: Comentrios:",n),n}async getCommentsByPost(n,r=50){console.log("Buscando comentrios para postId:",n);const i=await this.find({where:[{field:"postId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});return console.log("Comentrios encontrados:",i.length),i}async getCommentsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}async getCommentsByPostWithUser(n,r=50){const i=await this.getCommentsByPost(n,r);return this.getCommentsWithUser(i)}async getRepliesToComment(n,r=20){const i=await this.find({where:[{field:"parentCommentId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"asc"}],limit:r});return this.getCommentsWithUser(i)}async createComment(n){const r=await this.create({...n,likeCount:0,createdAt:new Date,updatedAt:new Date});return await this.postRepository.updateCommentCount(n.postId,1),await gl.onPostCommented(n.postId,r,n.userId,n.text),r}async deleteComment(n){const r=await this.getById(n);r&&(await this.delete(n),await this.postRepository.updateCommentCount(r.postId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async getCommentsByUser(n,r=20){const i=await this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});return this.getCommentsWithUser(i)}}class hD extends fl{constructor(){super("likes");Kn(this,"postRepository");Kn(this,"commentRepository");this.postRepository=new Ep,this.commentRepository=new ig}async like(n,r,i){await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})||(await this.create({userId:n,targetId:r,targetType:i,createdAt:new Date}),i==="post"?(await this.postRepository.updateLikeCount(r,1),await gl.onPostLiked(r,n)):(await this.commentRepository.updateLikeCount(r,1),await gl.onCommentLiked(r,n)))}async unlike(n,r,i){const s=await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]});s&&(await this.delete(s.id),i==="post"?await this.postRepository.updateLikeCount(r,-1):await this.commentRepository.updateLikeCount(r,-1))}async isLiked(n,r,i){return!!await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})}async getUsersWhoLikedPost(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getUsersWhoLikedComment(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"comment"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getLikesByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPostsLikedByUser(n,r=20){return(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.targetId)}async getLikeCount(n,r){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:r}]})).length}}class mD extends fl{constructor(){super("activities");Kn(this,"userRepository");Kn(this,"postRepository");Kn(this,"commentRepository");this.userRepository=new _p,this.postRepository=new Ep,this.commentRepository=new ig}async createActivity(n){const r={...n,createdAt:new Date,isRead:!1};return this.create(r)}async getActivitiesByUser(n,r=50){console.log(" ActivityRepository.getActivitiesByUser - userId:",n,"limit:",r),await this.debugGetAllActivities();const i=await this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});console.log(" ActivityRepository.getActivitiesByUser - atividades encontradas:",i.length),console.log(" ActivityRepository.getActivitiesByUser - atividades:",i);const s=i.map(a=>({...a,createdAt:this.convertFirestoreTimestamp(a.createdAt)}));console.log(" ActivityRepository.getActivitiesByUser - atividades com datas convertidas:",s);const o=await this.enrichActivitiesWithActor(s);return console.log(" ActivityRepository.getActivitiesByUser - atividades enriquecidas:",o.length),console.log(" ActivityRepository.getActivitiesByUser - atividades enriquecidas:",o),o}async getUnreadActivities(n,r=50){const s=(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"isRead",operator:"==",value:!1}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(o=>({...o,createdAt:this.convertFirestoreTimestamp(o.createdAt)}));return this.enrichActivitiesWithActor(s)}async markAsRead(n){const r=n.map(i=>this.update(i,{isRead:!0}));await Promise.all(r)}async markAllAsRead(n){const i=(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"isRead",operator:"==",value:!1}]})).map(s=>this.update(s.id,{isRead:!0}));await Promise.all(i)}async getUnreadCount(n){return(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"isRead",operator:"==",value:!1}]})).length}convertFirestoreTimestamp(n){return n instanceof Date?n:n&&typeof n.toDate=="function"?n.toDate():n&&typeof n.seconds=="number"?new Date(n.seconds*1e3):typeof n=="string"||typeof n=="number"?new Date(n):(console.warn(" ActivityRepository.convertFirestoreTimestamp - timestamp invlido:",n),new Date)}async debugGetAllActivities(){console.log(" ActivityRepository.debugGetAllActivities - buscando todas as atividades...");const n=await this.find({});return console.log(" ActivityRepository.debugGetAllActivities - total de atividades na coleo:",n.length),console.log(" ActivityRepository.debugGetAllActivities - todas as atividades:",n),n}async enrichActivitiesWithActor(n){console.log(" ActivityRepository.enrichActivitiesWithActor - iniciando enriquecimento de",n.length,"atividades");const r=[];for(const i of n){console.log(" ActivityRepository.enrichActivitiesWithActor - processando atividade:",i.id,"actorId:",i.actorId);const s=await this.userRepository.getById(i.actorId);console.log(" ActivityRepository.enrichActivitiesWithActor - ator encontrado:",s?s.username:"NO ENCONTRADO");const o={...i,actor:s?{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}:void 0};if(i.targetId&&i.targetType)try{if(i.targetType==="post"){const a=await this.postRepository.getById(i.targetId);a&&(o.target={id:a.id,type:"post",preview:a.imageUrl},console.log(" ActivityRepository.enrichActivitiesWithActor - target post encontrado:",a.id))}else if(i.targetType==="comment"){const a=await this.commentRepository.getById(i.targetId);a&&(o.target={id:a.id,type:"comment",preview:a.text},console.log(" ActivityRepository.enrichActivitiesWithActor - target comment encontrado:",a.id))}}catch(a){console.error(" ActivityRepository.enrichActivitiesWithActor - erro ao enriquecer target:",a)}r.push(o)}return console.log(" ActivityRepository.enrichActivitiesWithActor - enriquecimento concludo, retornando",r.length,"atividades"),r}async createPostLikeActivity(n,r){const i=await this.postRepository.getById(n);i&&await this.createActivity({userId:i.userId,actorId:r,targetId:n,targetType:"post",actionType:"like"})}async createCommentActivity(n,r,i,s){const o=await this.postRepository.getById(n);o&&await this.createActivity({userId:o.userId,actorId:i,targetId:r,targetType:"comment",actionType:"comment",text:s})}async createFollowActivity(n,r){await this.createActivity({userId:n,actorId:r,targetId:n,targetType:"user",actionType:"follow"})}async createCommentLikeActivity(n,r){const i=await this.commentRepository.getById(n);i&&await this.createActivity({userId:i.userId,actorId:r,targetId:n,targetType:"comment",actionType:"like_comment"})}async createMentionActivity(n,r,i){const s=i.map(o=>this.createActivity({userId:o,actorId:r,targetId:n,targetType:"post",actionType:"mention"}));await Promise.all(s)}async deleteActivitiesByPost(n){const i=(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}]})).map(s=>this.delete(s.id));await Promise.all(i)}async deleteActivitiesByComment(n){const i=(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"comment"}]})).map(s=>this.delete(s.id));await Promise.all(i)}}const Ee=new _p,zt=new Ep,xp=new ig,So=new hD,An=new mD;function Tt(){const[t,e]=_.useState(null),[n,r]=_.useState(!0),[i,s]=_.useState(null),o=wt();return _.useEffect(()=>{const m=OR(Ao,f=>{console.log("onAuthStateChanged",f),e(f),r(!1)});return()=>m()},[]),{user:t,loading:n,error:i,login:async(m,f)=>{try{r(!0),s(null),await jR(Ao,a_).then(()=>DR(Ao,m,f)).catch(T=>{console.error("Error setting persistence:",T)});const y=Ao.currentUser;if(e(y),y&&m&&m.trim()!=="")try{const T=await Ee.findByEmail(m);T&&T.id!==y.uid&&(console.log("Migrando usurio existente..."),T.id&&y.uid?(await Ee.migrateUserToUid(T.id,y.uid),console.log("Usurio migrado com sucesso!")):console.warn("IDs invlidos para migrao:",T.id,y.uid))}catch(T){console.error("Erro na migrao:",T)}o("/profile")}catch(y){s(sg(y.code))}finally{r(!1)}},register:async(m,f,y)=>{try{r(!0),s(null);const b=(await LR(Ao,m,f)).user;if(y&&b){if(await Ee.findByUsername(y.username)){await b.delete(),s("Este nome de usurio j est em uso.");return}await Ee.create({uid:b.uid,username:y.username,email:m,displayName:y.displayName,bio:y.bio||"",avatarUrl:y.avatarUrl||"",createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,postsCount:0,isPrivate:!1})}o("/login")}catch(T){s(sg(T.code))}finally{r(!1)}},logout:async()=>{try{r(!0),s(null),await FR(Ao),e(null),o("/login")}catch(m){s(sg(m.code))}finally{r(!1)}},clearError:()=>{s(null)},setError:s}}function sg(t){switch(t){case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/email-already-in-use":return"Este email j est em uso.";case"auth/weak-password":return"A senha deve ter pelo menos 6 caracteres.";case"auth/invalid-email":return"Email invlido.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Erro de autenticao. Tente novamente."}}function fD(){const{login:t,loading:e,error:n,clearError:r}=Tt(),[i,s]=_.useState(""),[o,a]=_.useState(""),c=wt(),u=async h=>{h.preventDefault(),r(),await t(i,o),n||(s(""),a(""))};return p.jsxs(p.Fragment,{children:[p.jsxs(wm,{className:"ppm:text-center ppm:pb-6",children:[p.jsx(Jw,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Login"}),p.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Entre com suas credenciais"})]}),p.jsxs(En,{children:[n&&p.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),p.jsxs("form",{onSubmit:u,className:"ppm:space-y-4",children:[p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),p.jsx(nt,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:h=>s(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),p.jsx(nt,{id:"password",type:"password",placeholder:"",value:o,onChange:h=>a(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),p.jsx(Se,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Entrar"})]}),p.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:p.jsx("button",{type:"button",onClick:()=>{r(),c("/register")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"No tem uma conta? Cadastre-se"})})]})]})}function gD(){const{register:t,loading:e,error:n,clearError:r,setError:i}=Tt(),[s,o]=_.useState(""),[a,c]=_.useState(""),[u,h]=_.useState(""),[m,f]=_.useState(""),[y,T]=_.useState(""),[b,A]=_.useState(""),w=wt(),E=async x=>{if(x.preventDefault(),r(),!u.trim()){i("Nome de usurio  obrigatrio");return}if(!m.trim()){i("Nome completo  obrigatrio");return}if(!s.trim()){i("Email  obrigatrio");return}if(a.length<6){i("A senha deve ter pelo menos 6 caracteres");return}await t(s,a,{username:u.trim(),displayName:m.trim(),bio:y.trim(),avatarUrl:b.trim()}),n||(o(""),c(""),h(""),f(""),T(""),A(""))};return p.jsxs(p.Fragment,{children:[p.jsxs(wm,{className:"ppm:text-center ppm:pb-6",children:[p.jsx(Jw,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Cadastro"}),p.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Crie sua conta"})]}),p.jsxs(En,{children:[n&&p.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),p.jsxs("form",{onSubmit:E,className:"ppm:space-y-4",children:[p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usurio"}),p.jsx(nt,{id:"username",type:"text",placeholder:"jose_britto",value:u,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),p.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usurio nico para sua conta"})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),p.jsx(nt,{id:"displayName",type:"text",placeholder:"Jos Britto",value:m,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),p.jsx(nt,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),p.jsx(nt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre voc...",value:y,onChange:x=>T(x.target.value),className:"ppm:w-full",disabled:e})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),p.jsx(nt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:b,onChange:x=>A(x.target.value),className:"ppm:w-full",disabled:e})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),p.jsx(nt,{id:"password",type:"password",placeholder:"",value:a,onChange:x=>c(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),p.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"A senha deve ter pelo menos 6 caracteres"})]}),p.jsx(Se,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Cadastrar"})]}),p.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:p.jsx("button",{onClick:()=>{r(),w("/login")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"J tem uma conta? Faa login"})})]})]})}function kp(t,e=[]){let n=[];function r(s,o){const a=_.createContext(o),c=n.length;n=[...n,o];const u=m=>{var w;const{scope:f,children:y,...T}=m,b=((w=f==null?void 0:f[t])==null?void 0:w[c])||a,A=_.useMemo(()=>T,Object.values(T));return p.jsx(b.Provider,{value:A,children:y})};u.displayName=s+"Provider";function h(m,f){var b;const y=((b=f==null?void 0:f[t])==null?void 0:b[c])||a,T=_.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,yD(i,...e)]}function yD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...a,...m}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function rk(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Zi=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},ik={exports:{}},sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Co=_;function vD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wD=typeof Object.is=="function"?Object.is:vD,_D=Co.useState,ED=Co.useEffect,xD=Co.useLayoutEffect,kD=Co.useDebugValue;function TD(t,e){var n=e(),r=_D({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return xD(function(){i.value=n,i.getSnapshot=e,og(i)&&s({inst:i})},[t,n,e]),ED(function(){return og(i)&&s({inst:i}),t(function(){og(i)&&s({inst:i})})},[t]),kD(n),n}function og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wD(t,n)}catch{return!0}}function ID(t,e){return e()}var bD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ID:TD;sk.useSyncExternalStore=Co.useSyncExternalStore!==void 0?Co.useSyncExternalStore:bD,ik.exports=sk;var AD=ik.exports;function SD(){return AD.useSyncExternalStore(CD,()=>!0,()=>!1)}function CD(){return()=>{}}var ag="Avatar",[ND,Zj]=kp(ag),[RD,ok]=ND(ag),ak=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=_.useState("idle");return p.jsx(RD,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:p.jsx(xn.span,{...r,ref:e})})});ak.displayName=ag;var lk="AvatarImage",ck=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=ok(lk,n),a=PD(r,s),c=rk(u=>{i(u),o.onImageLoadingStatusChange(u)});return Zi(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?p.jsx(xn.img,{...s,ref:e,src:r}):null});ck.displayName=lk;var uk="AvatarFallback",pk=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=ok(uk,n),[o,a]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?p.jsx(xn.span,{...i,ref:e}):null});pk.displayName=uk;function dk(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function PD(t,{referrerPolicy:e,crossOrigin:n}){const r=SD(),i=_.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=_.useState(()=>dk(s,t));return Zi(()=>{a(dk(s,t))},[s,t]),Zi(()=>{const c=m=>()=>{a(m)};if(!s)return;const u=c("loaded"),h=c("error");return s.addEventListener("load",u),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",h)}},[s,n,e]),o}var LD=ak,DD=ck,jD=pk;function Wn({className:t,...e}){return p.jsx(LD,{"data-slot":"avatar",className:lt("ppm:relative ppm:flex ppm:size-8 ppm:shrink-0 ppm:overflow-hidden ppm:rounded-full",t),...e})}function qn({className:t,...e}){return p.jsx(DD,{"data-slot":"avatar-image",className:lt("ppm:aspect-square ppm:size-full",t),...e})}function Hn({className:t,...e}){return p.jsx(jD,{"data-slot":"avatar-fallback",className:lt("ppm:bg-muted ppm:flex ppm:size-full ppm:items-center ppm:justify-center ppm:rounded-full",t),...e})}var MD="Separator",hk="horizontal",VD=["horizontal","vertical"],mk=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=hk,...i}=t,s=OD(r)?r:hk,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(xn.div,{"data-orientation":s,...a,...i,ref:e})});mk.displayName=MD;function OD(t){return VD.includes(t)}var FD=mk;function UD({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return p.jsx(FD,{"data-slot":"separator",decorative:n,orientation:e,className:lt("ppm:bg-border ppm:shrink-0 ppm:data-[orientation=horizontal]:h-px ppm:data-[orientation=horizontal]:w-full ppm:data-[orientation=vertical]:h-full ppm:data-[orientation=vertical]:w-px",t),...r})}function Re({className:t,...e}){return p.jsx("div",{"data-slot":"skeleton",className:lt("ppm:bg-accent ppm:animate-pulse ppm:rounded-md",t),...e})}function zD(){return p.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[p.jsxs("div",{className:"ppm:flex ppm:items-start ppm:space-x-8",children:[p.jsx(Re,{className:"ppm:w-24 ppm:h-24 ppm:rounded-full"}),p.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[p.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:p.jsx(Re,{className:"ppm:h-6 ppm:w-32"})}),p.jsxs("div",{className:"ppm:flex ppm:space-x-8",children:[p.jsx(Re,{className:"ppm:h-4 ppm:w-16"}),p.jsx(Re,{className:"ppm:h-4 ppm:w-20"}),p.jsx(Re,{className:"ppm:h-4 ppm:w-16"})]}),p.jsx(Re,{className:"ppm:h-8 ppm:w-24"}),p.jsx(Re,{className:"ppm:h-4 ppm:w-48"}),p.jsx(Re,{className:"ppm:h-3 ppm:w-32"})]})]}),p.jsx(Re,{className:"ppm:h-px ppm:w-full"}),p.jsxs("div",{className:"ppm:flex ppm:space-x-8 ppm:border-b ppm:border-gray-200",children:[p.jsx(Re,{className:"ppm:h-8 ppm:w-16"}),p.jsx(Re,{className:"ppm:h-8 ppm:w-20"})]}),p.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:Array.from({length:9}).map((t,e)=>p.jsx(Re,{className:"ppm:aspect-square ppm:w-full"},e))})]})}function yr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function BD(t){const e=t+"CollectionProvider",[n,r]=kp(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:A,children:w}=b,E=k.useRef(null),x=k.useRef(new Map).current;return p.jsx(i,{scope:A,itemMap:x,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=Yc(a),u=k.forwardRef((b,A)=>{const{scope:w,children:E}=b,x=s(a,w),L=Qc(A,x.collectionRef);return p.jsx(c,{ref:L,children:E})});u.displayName=a;const h=t+"CollectionItemSlot",m="data-radix-collection-item",f=Yc(h),y=k.forwardRef((b,A)=>{const{scope:w,children:E,...x}=b,L=k.useRef(null),M=Qc(A,L),F=s(h,w);return k.useEffect(()=>(F.itemMap.set(L,{ref:L,...x}),()=>void F.itemMap.delete(L))),p.jsx(f,{[m]:"",ref:M,children:E})});y.displayName=h;function T(b){const A=s(t+"CollectionConsumer",b);return k.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort((F,C)=>x.indexOf(F.ref.current)-x.indexOf(C.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},T,r]}var $D=Kg[" useId ".trim().toString()]||(()=>{}),WD=0;function fk(t){const[e,n]=_.useState($D());return Zi(()=>{t||n(r=>r??String(WD++))},[t]),t||(e?`radix-${e}`:"")}var qD=Kg[" useInsertionEffect ".trim().toString()]||Zi;function gk({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=HD({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const m=h.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=_.useCallback(h=>{var m;if(a){const f=GD(h)?h(t):h;f!==t&&((m=o.current)==null||m.call(o,f))}else s(h)},[a,t,s,o]);return[c,u]}function HD({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return qD(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function GD(t){return typeof t=="function"}var KD=_.createContext(void 0);function yk(t){const e=_.useContext(KD);return t||e||"ltr"}var lg="rovingFocusGroup.onEntryFocus",QD={bubbles:!1,cancelable:!0},yl="RovingFocusGroup",[cg,vk,YD]=BD(yl),[XD,wk]=kp(yl,[YD]),[JD,ZD]=XD(yl),_k=_.forwardRef((t,e)=>p.jsx(cg.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(cg.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(e6,{...t,ref:e})})}));_k.displayName=yl;var e6=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=t,f=_.useRef(null),y=Qc(e,f),T=yk(s),[b,A]=gk({prop:o,defaultProp:a??null,onChange:c,caller:yl}),[w,E]=_.useState(!1),x=rk(u),L=vk(n),M=_.useRef(!1),[F,C]=_.useState(0);return _.useEffect(()=>{const v=f.current;if(v)return v.addEventListener(lg,x),()=>v.removeEventListener(lg,x)},[x]),p.jsx(JD,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:b,onItemFocus:_.useCallback(v=>A(v),[A]),onItemShiftTab:_.useCallback(()=>E(!0),[]),onFocusableItemAdd:_.useCallback(()=>C(v=>v+1),[]),onFocusableItemRemove:_.useCallback(()=>C(v=>v-1),[]),children:p.jsx(xn.div,{tabIndex:w||F===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:yr(t.onMouseDown,()=>{M.current=!0}),onFocus:yr(t.onFocus,v=>{const S=!M.current;if(v.target===v.currentTarget&&S&&!w){const N=new CustomEvent(lg,QD);if(v.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=L().filter(Z=>Z.focusable),D=R.find(Z=>Z.active),P=R.find(Z=>Z.id===b),q=[D,P,...R].filter(Boolean).map(Z=>Z.ref.current);kk(q,h)}}M.current=!1}),onBlur:yr(t.onBlur,()=>E(!1))})})}),Ek="RovingFocusGroupItem",xk=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,c=fk(),u=s||c,h=ZD(Ek,n),m=h.currentTabStopId===u,f=vk(n),{onFocusableItemAdd:y,onFocusableItemRemove:T,currentTabStopId:b}=h;return _.useEffect(()=>{if(r)return y(),()=>T()},[r,y,T]),p.jsx(cg.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:p.jsx(xn.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:yr(t.onMouseDown,A=>{r?h.onItemFocus(u):A.preventDefault()}),onFocus:yr(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:yr(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){h.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const w=r6(A,h.orientation,h.dir);if(w!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let x=f().filter(L=>L.focusable).map(L=>L.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const L=x.indexOf(A.currentTarget);x=h.loop?i6(x,L+1):x.slice(L+1)}setTimeout(()=>kk(x))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:b!=null}):o})})});xk.displayName=Ek;var t6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function r6(t,e,n){const r=n6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return t6[r]}function kk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function i6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var s6=_k,o6=xk;function a6(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Tk=t=>{const{present:e,children:n}=t,r=l6(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=Qc(r.ref,c6(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};Tk.displayName="Presence";function l6(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[a,c]=a6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Tp(r.current);s.current=a==="mounted"?u:"none"},[a]),Zi(()=>{const u=r.current,h=i.current;if(h!==t){const f=s.current,y=Tp(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Zi(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,m=y=>{const b=Tp(r.current).includes(y.animationName);if(y.target===e&&b&&(c("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},f=y=>{y.target===e&&(s.current=Tp(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Tp(t){return(t==null?void 0:t.animationName)||"none"}function c6(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ip="Tabs",[u6,eM]=kp(Ip,[wk]),Ik=wk(),[p6,ug]=u6(Ip),bk=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,h=yk(a),[m,f]=gk({prop:r,onChange:i,defaultProp:s??"",caller:Ip});return p.jsx(p6,{scope:n,baseId:fk(),value:m,onValueChange:f,orientation:o,dir:h,activationMode:c,children:p.jsx(xn.div,{dir:h,"data-orientation":o,...u,ref:e})})});bk.displayName=Ip;var Ak="TabsList",Sk=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=ug(Ak,n),o=Ik(n);return p.jsx(s6,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(xn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Sk.displayName=Ak;var Ck="TabsTrigger",Nk=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=ug(Ck,n),a=Ik(n),c=Lk(o.baseId,r),u=Dk(o.baseId,r),h=r===o.value;return p.jsx(o6,{asChild:!0,...a,focusable:!i,active:h,children:p.jsx(xn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:yr(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:yr(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:yr(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(r)})})})});Nk.displayName=Ck;var Rk="TabsContent",Pk=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=ug(Rk,n),c=Lk(a.baseId,r),u=Dk(a.baseId,r),h=r===a.value,m=_.useRef(h);return _.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(Tk,{present:i||h,children:({present:f})=>p.jsx(xn.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:f&&s})})});Pk.displayName=Rk;function Lk(t,e){return`${t}-trigger-${e}`}function Dk(t,e){return`${t}-content-${e}`}var d6=bk,h6=Sk,m6=Nk,f6=Pk;function g6({className:t,...e}){return p.jsx(d6,{"data-slot":"tabs",className:lt("ppm:flex ppm:flex-col ppm:gap-2",t),...e})}function y6({className:t,...e}){return p.jsx(h6,{"data-slot":"tabs-list",className:lt("ppm:bg-muted ppm:text-muted-foreground ppm:inline-flex ppm:h-9 ppm:w-fit ppm:items-center ppm:justify-center ppm:rounded-lg ppm:p-[3px]",t),...e})}function jk({className:t,...e}){return p.jsx(m6,{"data-slot":"tabs-trigger",className:lt("ppm:data-[state=active]:bg-background ppm:dark:data-[state=active]:text-foreground ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:outline-ring ppm:dark:data-[state=active]:border-input ppm:dark:data-[state=active]:bg-input/30 ppm:text-foreground ppm:dark:text-muted-foreground ppm:inline-flex ppm:h-[calc(100%-1px)] ppm:flex-1 ppm:items-center ppm:justify-center ppm:gap-1.5 ppm:rounded-md ppm:border ppm:border-transparent ppm:px-2 ppm:py-1 ppm:text-sm ppm:font-medium ppm:whitespace-nowrap ppm:transition-[color,box-shadow] ppm:focus-visible:ring-[3px] ppm:focus-visible:outline-1 ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:data-[state=active]:shadow-sm ppm:[&_svg]:pointer-events-none ppm:[&_svg]:shrink-0 ppm:[&_svg:not([class*=size-])]:size-4",t),...e})}function Mk({className:t,...e}){return p.jsx(f6,{"data-slot":"tabs-content",className:lt("ppm:flex-1 ppm:outline-none",t),...e})}function bp(){const{user:t}=Tt(),[e,n]=_.useState(null),[r,i]=_.useState(!0),[s,o]=_.useState(null);return _.useEffect(()=>{(async()=>{if(!(t!=null&&t.email)){n(null),i(!1);return}try{i(!0),o(null);const h=await Ee.findByEmail(t.email);n(h)}catch(h){o("Erro ao carregar perfil do usurio"),console.error("Erro ao buscar perfil:",h)}finally{i(!1)}})()},[t==null?void 0:t.email]),{userProfile:e,loading:r,error:s,updateProfile:async u=>{if(e!=null&&e.id)try{i(!0),o(null),await Ee.update(e.id,{...u,updatedAt:new Date}),n(h=>h?{...h,...u,updatedAt:new Date}:null)}catch(h){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",h)}finally{i(!1)}},refreshProfile:async()=>{if(t!=null&&t.email)try{i(!0),o(null);const u=await Ee.findByEmail(t.email);n(u)}catch(u){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",u)}finally{i(!1)}}}}const Vk=_.createContext(void 0);function Gn(){const t=_.useContext(Vk);if(!t)throw new Error("useAppBar deve ser usado dentro de AppBarProvider");return t}function Ok({children:t}){const[e,n]=_.useState(null),r=_.useCallback(s=>{n(s)},[]),i=_.useMemo(()=>({content:e,setAppBarContent:r}),[e,r]);return p.jsx(Vk.Provider,{value:i,children:t})}function Fk(){const{user:t,loading:e,logout:n}=Tt(),{userProfile:r,loading:i,updateProfile:s}=bp(),o=wt(),{username:a}=su(),{setAppBarContent:c}=Gn(),[u,h]=_.useState(null),[m,f]=_.useState(!1),[y,T]=_.useState(!1),[b,A]=_.useState("posts"),[w,E]=_.useState([]),[x,L]=_.useState([]),[M,F]=_.useState(!1),[C,v]=_.useState(!1),S=!a||r&&r.username===a;_.useEffect(()=>{(async()=>{if(S){h(r);return}if(a){f(!0);try{const Z=await Ee.findByUsername(a);if(h(Z),t&&Z&&Z.id){const $e=await Ee.isFollowing(t.uid,Z.id);T($e)}}catch(Z){console.error("Erro ao carregar perfil:",Z)}finally{f(!1)}}})()},[a,r,t,S]),_.useEffect(()=>{b==="posts"&&(async()=>{if(u!=null&&u.id){F(!0);try{const Z=await zt.getPostsByUser(u.id,50);E(Z)}catch(Z){console.error("Erro ao carregar posts:",Z),E([])}finally{F(!1)}}})()},[u==null?void 0:u.id,b]),_.useEffect(()=>{b==="tagged"&&(async()=>{if(u!=null&&u.id){v(!0);try{const Z=await zt.getPostsByTaggedUser(u.username,50);L(Z)}catch(Z){console.error("Erro ao carregar posts marcados:",Z),L([])}finally{v(!1)}}})()},[u==null?void 0:u.id,u==null?void 0:u.username,b]),_.useEffect(()=>{const q=u||r;return q&&c(p.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:q.username})),()=>c(null)},[u,r,c]);const N=async()=>{await n(),o("/login")},R=async()=>{if(!(!t||!u||!u.id))try{if(y?(await Ee.unfollowUser(t.uid,u.id),T(!1),h(q=>{const Z=Math.max(0,((q==null?void 0:q.followersCount)||0)-1);return q?{...q,followersCount:Z}:null})):(await Ee.followUser(t.uid,u.id),T(!0),h(q=>{const Z=((q==null?void 0:q.followersCount)||0)+1;return q?{...q,followersCount:Z}:null})),a){const q=await Ee.findByUsername(a);q&&h(q)}}catch(q){console.error("Erro ao seguir/deixar de seguir:",q)}},D=()=>{o("/edit-profile")},P=q=>q.split(" ").map(Z=>Z.charAt(0)).join("").toUpperCase().slice(0,2);if(e||i||m)return p.jsx(zD,{});if(!u&&!S)return p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsx("p",{className:"ppm:text-gray-600",children:"Usurio no encontrado"})});const H=u||r;return H?p.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:gap-4 ppm:items-start ppm:space-x-8",children:[p.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:items-start ppm:space-x-8",children:[p.jsxs(Wn,{className:"ppm:w-16 ppm:h-16",children:[p.jsx(qn,{src:H.avatarUrl||"",alt:H.displayName||""}),p.jsx(Hn,{className:"ppm:text-2xl ppm:bg-blue-500",children:P(H.displayName||"")})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[p.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:p.jsx("h1",{className:"ppm:text-base ppm:font-semibold ppm:text-gray-900",children:H.displayName})}),p.jsxs("div",{className:"ppm:flex ppm:space-x-6 ppm:text-xs",children:[p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1",children:[p.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.postsCount||0}),p.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Posts"})]}),p.jsxs("button",{type:"button",onClick:()=>o(`/followers/${H.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[p.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.followersCount||0}),p.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Seguidores"})]}),p.jsxs("button",{type:"button",onClick:()=>o(`/following/${H.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[p.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.followingCount||0}),p.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Seguindo"})]})]})]})]}),p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-start ppm:gap-4 ppm:w-full",children:[p.jsx("div",{className:"ppm:space-y-1 ppm:w-full",children:H.bio&&p.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:H.bio})}),S?p.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:gap-2 ppm:w-full",children:[p.jsxs(Se,{variant:"outline",size:"sm",onClick:D,className:"ppm:flex ppm:items-center ppm:space-x-2",children:[p.jsx(TA,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-xs",children:"Editar Perfil"})]}),p.jsxs(Se,{onClick:N,variant:"outline",size:"sm",className:"ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100 ppm:space-x-2",disabled:e,children:[p.jsx(xA,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-xs",children:e?"Saindo...":"Sair da Conta"})]})]}):p.jsxs(Se,{variant:y?"outline":"default",size:"sm",onClick:R,className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:w-full",children:[p.jsx(tu,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-xs",children:y?"Seguindo":"Seguir"})]})]})]}),p.jsx(UD,{}),p.jsxs(g6,{value:b,onValueChange:A,className:"ppm:w-full",children:[p.jsxs(y6,{className:"ppm:grid ppm:w-full ppm:grid-cols-2 ppm:bg-transparent ppm:border-b ppm:border-gray-200",children:[p.jsxs(jk,{value:"posts",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[p.jsx(_A,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-xs ppm:font-medium",children:"Posts"})]}),p.jsxs(jk,{value:"tagged",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[p.jsx(tu,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-xs ppm:font-medium",children:"Marcado"})]})]}),p.jsx(Mk,{value:"posts",className:"ppm:mt-6",children:M?p.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:[...Array(6)].map((q,Z)=>p.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"},Z))}):w.length>0?p.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:w.map(q=>p.jsxs("div",{className:"ppm:aspect-square ppm:bg-gray-100 ppm:rounded ppm:overflow-hidden ppm:relative ppm:group ppm:cursor-pointer",onClick:()=>o(`/post/${q.id}`),children:[p.jsx("img",{src:q.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:group-hover:scale-105 ppm:transition-transform"}),p.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:bg-black/0 ppm:group-hover:bg-black/20 ppm:transition-colors ppm:flex ppm:items-center ppm:justify-center",children:p.jsxs("div",{className:"ppm:opacity-0 ppm:group-hover:opacity-100 ppm:transition-opacity ppm:flex ppm:items-center ppm:gap-4 ppm:text-white",children:[p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(Cw,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-sm",children:q.likeCount})]}),p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(Nw,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-sm",children:q.commentCount})]})]})})]},q.id))}):p.jsxs("div",{className:"ppm:col-span-3 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[p.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:p.jsx(Sw,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),p.jsxs("div",{className:"ppm:text-center",children:[p.jsx("h3",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Nenhum Post Ainda"}),p.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:"Quando voc compartilhar fotos e vdeos, eles aparecero aqui."})]})]})}),p.jsx(Mk,{value:"tagged",className:"ppm:mt-6",children:C?p.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:[...Array(6)].map((q,Z)=>p.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"},Z))}):x.length>0?p.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:x.map(q=>p.jsxs("div",{className:"ppm:aspect-square ppm:bg-gray-100 ppm:rounded ppm:overflow-hidden ppm:relative ppm:group ppm:cursor-pointer",onClick:()=>o(`/post/${q.id}`),children:[p.jsx("img",{src:q.imageUrl,alt:"Post marcado",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:group-hover:scale-105 ppm:transition-transform"}),p.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:bg-black/0 ppm:group-hover:bg-black/20 ppm:transition-colors ppm:flex ppm:items-center ppm:justify-center",children:p.jsxs("div",{className:"ppm:opacity-0 ppm:group-hover:opacity-100 ppm:transition-opacity ppm:flex ppm:items-center ppm:gap-4 ppm:text-white",children:[p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(Cw,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-sm",children:q.likeCount})]}),p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(Nw,{className:"ppm:w-4 ppm:h-4"}),p.jsx("span",{className:"ppm:text-sm",children:q.commentCount})]})]})})]},q.id))}):p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[p.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:p.jsx(tu,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),p.jsxs("div",{className:"ppm:text-center",children:[p.jsx("h3",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Nenhuma Foto Marcada"}),p.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:"Fotos em que voc foi marcado aparecero aqui."})]})]})})]})]}):null}function v6(){const{setAppBarContent:t}=Gn(),{userProfile:e,loading:n,updateProfile:r}=bp(),i=wt(),[s,o]=_.useState(""),[a,c]=_.useState(""),[u,h]=_.useState(""),[m,f]=_.useState(""),[y,T]=_.useState(!1),[b,A]=_.useState("");_.useEffect(()=>{e&&(o(e.username||""),c(e.displayName||""),h(e.bio||""),f(e.avatarUrl||""))},[e]),_.useEffect(()=>(t(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"ppm:p-2",children:p.jsx(eu,{className:"ppm:w-5 ppm:h-5"})}),p.jsx("span",{className:"ppm:text-lg ppm:font-bold ppm:text-gray-900",children:"Editar Perfil"})]})),()=>t(null)),[t,i]);const w=async x=>{x.preventDefault(),A(""),T(!0);try{if(!s.trim()){A("Nome de usurio  obrigatrio");return}if(!a.trim()){A("Nome completo  obrigatrio");return}if(s!==(e==null?void 0:e.username)){const L=await Ee.findByUsername(s);if(L&&L.id!==(e==null?void 0:e.id)){A("Este nome de usurio j est em uso");return}}await r({username:s.trim(),displayName:a.trim(),bio:u.trim(),avatarUrl:m.trim()}),i("/profile")}catch(L){console.error("Erro ao atualizar perfil:",L),A("Erro ao atualizar perfil. Tente novamente.")}finally{T(!1)}},E=()=>{i("/profile")};return n?p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsx("p",{className:"ppm:text-gray-600",children:"Carregando..."})}):e?p.jsxs(p.Fragment,{children:[p.jsx(wm,{className:"ppm:text-center ppm:pb-6"}),p.jsxs(En,{children:[b&&p.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:b}),p.jsxs("form",{onSubmit:w,className:"ppm:space-y-4",children:[p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usurio"}),p.jsx(nt,{id:"username",type:"text",placeholder:"jose_britto",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:y,required:!0}),p.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usurio nico para sua conta"})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),p.jsx(nt,{id:"displayName",type:"text",placeholder:"Jos Britto",value:a,onChange:x=>c(x.target.value),className:"ppm:w-full",disabled:y,required:!0})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),p.jsx(nt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre voc...",value:u,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:y})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),p.jsx(nt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:m,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:y})]}),p.jsxs("div",{className:"ppm:flex ppm:space-x-3 ppm:mt-6",children:[p.jsx(Se,{type:"button",variant:"outline",onClick:E,className:"ppm:flex-1",disabled:y,children:"Cancelar"}),p.jsx(Se,{type:"submit",className:"ppm:flex-1",variant:"default",disabled:y,children:y?"Salvando...":"Salvar"})]})]})]})]}):p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsx("p",{className:"ppm:text-gray-600",children:"Usurio no encontrado"})})}function Uk(){const{setAppBarContent:t}=Gn(),{user:e}=Tt(),{userProfile:n}=bp(),r=wt(),{username:i}=su(),[s,o]=_.useState([]),[a,c]=_.useState(!0),[u,h]=_.useState({}),[m,f]=_.useState({});!i||n&&n.username;const y=i||(n==null?void 0:n.username);_.useEffect(()=>{(async()=>{if(y){c(!0);try{const E=await Ee.findByUsername(y);if(!E||!E.id){console.error("Usurio no encontrado");return}const x=await Ee.getFollowers(E.id,50),L=x.map(M=>({...M,email:M.email??""}));if(o(L),e){const M={};for(const F of x){const C=await Ee.isFollowing(e.uid,F.id);M[F.id]=C}h(M)}}catch(E){console.error("Erro ao carregar seguidores:",E)}finally{c(!1)}}})()},[y,e]),_.useEffect(()=>{t(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:p.jsx(eu,{className:"ppm:w-5 ppm:h-5"})}),p.jsx("p",{className:"ppm:text-xs ppm:text-gray-600",children:y?`@${y}`:""})]}))},[t]),_.useEffect(()=>()=>t(null),[t]);const T=async w=>{if(!(!e||!w)){f(E=>({...E,[w]:!0}));try{u[w]?(await Ee.unfollowUser(e.uid,w),h(E=>({...E,[w]:!1}))):(await Ee.followUser(e.uid,w),h(E=>({...E,[w]:!0})))}catch(E){console.error("Erro ao seguir/deixar de seguir:",E)}finally{f(E=>({...E,[w]:!1}))}}},b=w=>{r(`/profile/${w}`)},A=w=>w.split(" ").map(E=>E.charAt(0)).join("").toUpperCase().slice(0,2);return p.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[p.jsx("div",{children:p.jsx("h1",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Seguidores"})}),a?p.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((w,E)=>p.jsx(Wr,{children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[p.jsx(Re,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),p.jsxs("div",{className:"ppm:flex-1",children:[p.jsx(Re,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),p.jsx(Re,{className:"ppm:w-20 ppm:h-3"})]}),p.jsx(Re,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},E))}):p.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(w=>p.jsx(Wr,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>b(w.username),children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[p.jsxs(Wn,{className:"ppm:w-12 ppm:h-12",children:[p.jsx(qn,{src:w.avatarUrl||"",alt:w.displayName||w.username}),p.jsx(Hn,{className:"ppm:bg-blue-500 ppm:text-white",children:A(w.displayName||w.username)})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:w.displayName}),p.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",w.username]})]}),e&&w.id!==e.uid&&p.jsx(Se,{size:"sm",variant:u[w.id]?"outline":"default",onClick:E=>{E.stopPropagation(),T(w.id)},disabled:m[w.id],className:"ppm:flex ppm:items-center ppm:space-x-2",children:m[w.id]?p.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):u[w.id]?p.jsx(p.Fragment,{children:p.jsx(tu,{className:"ppm:w-4 ppm:h-4"})}):p.jsx(p.Fragment,{children:p.jsx(bA,{className:"ppm:w-4 ppm:h-4"})})})]})},w.id)):p.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:p.jsx("p",{className:"ppm:text-xs",children:"Nenhum seguidor ainda."})})})]})}function zk(){const{setAppBarContent:t}=Gn(),{user:e}=Tt(),{userProfile:n}=bp(),r=wt(),{username:i}=su(),[s,o]=_.useState([]),[a,c]=_.useState(!0),[u,h]=_.useState({}),m=!i||n&&n.username===i,f=i||(n==null?void 0:n.username);_.useEffect(()=>{(async()=>{if(f){c(!0);try{const w=await Ee.findByUsername(f);if(!w||!w.id){console.error("Usurio no encontrado");return}const x=(await Ee.getFollowing(w.id,50)).map(L=>({...L,email:L.email??""}));o(x)}catch(w){console.error("Erro ao carregar seguindo:",w)}finally{c(!1)}}})()},[f]),_.useEffect(()=>{t(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:p.jsx(eu,{className:"ppm:w-5 ppm:h-5"})}),p.jsx("p",{className:"ppm:text-xs ppm:text-gray-600",children:f?`@${f}`:""})]}))},[t]),_.useEffect(()=>()=>t(null),[t]);const y=async A=>{if(!(!e||!A)){h(w=>({...w,[A]:!0}));try{await Ee.unfollowUser(e.uid,A),o(w=>w.filter(E=>E.id!==A))}catch(w){console.error("Erro ao deixar de seguir:",w)}finally{h(w=>({...w,[A]:!1}))}}},T=A=>{r(`/profile/${A}`)},b=A=>A.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2);return p.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[p.jsx("div",{children:p.jsx("h1",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Seguindo"})}),a?p.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((A,w)=>p.jsx(Wr,{className:"ppm:p-2",children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4 ",children:[p.jsx(Re,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),p.jsxs("div",{className:"ppm:flex-1",children:[p.jsx(Re,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),p.jsx(Re,{className:"ppm:w-20 ppm:h-3"})]}),p.jsx(Re,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},w))}):p.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(A=>p.jsx(Wr,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>T(A.username),children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[p.jsxs(Wn,{className:"ppm:w-12 ppm:h-12",children:[p.jsx(qn,{src:A.avatarUrl||"",alt:A.displayName||A.username}),p.jsx(Hn,{className:"ppm:bg-blue-500 ppm:text-white",children:b(A.displayName||A.username)})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:A.displayName}),p.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",A.username]})]}),m&&e&&A.id!==e.uid&&p.jsx(Se,{size:"sm",variant:"outline",onClick:w=>{w.stopPropagation(),y(A.id)},disabled:u[A.id],className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100",children:u[A.id]?p.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):p.jsx(p.Fragment,{children:p.jsx(IA,{className:"ppm:w-4 ppm:h-4"})})})]})},A.id)):p.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:p.jsx("p",{className:"ppm:text-xs",children:"No est seguindo ningum ainda."})})})]})}function w6(){return p.jsxs("div",{className:"ppm:space-y-4",children:[p.jsx("h2",{className:"ppm:text-lg ppm:font-bold",children:"Ajuda"}),p.jsx("p",{className:"ppm:text-sm",children:"Aqui vo informaes de ajuda."}),p.jsx(Se,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:"Voltar"})]})}function _6({children:t}){const{user:e,loading:n}=Tt();return n?null:e?p.jsx(p.Fragment,{children:t}):p.jsx(ou,{to:"/login",replace:!0})}var E6=_.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Zt=function(e,n,r){var i=r.get(e);return i?i(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function Bk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Bt=_.forwardRef(function(t,e){var n=t.alt,r=t.color,i=t.size,s=t.weight,o=t.mirrored,a=t.children,c=t.renderPath,u=Bk(t,["alt","color","size","weight","mirrored","children","renderPath"]),h=_.useContext(E6),m=h.color,f=m===void 0?"currentColor":m,y=h.size,T=h.weight,b=T===void 0?"regular":T,A=h.mirrored,w=A===void 0?!1:A,E=Bk(h,["color","size","weight","mirrored"]);return k.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i??y,height:i??y,fill:r??f,viewBox:"0 0 256 256",transform:o||w?"scale(-1, 1)":void 0},E,u),!!n&&k.createElement("title",null,n),a,k.createElement("rect",{width:"256",height:"256",fill:"none"}),c(s??b,r??f))});Bt.displayName="IconBase";var es=new Map;es.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),es.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),es.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-4.9,7.4,8.5,8.5,0,0,1-3.1.6,8.3,8.3,0,0,1-5.7-2.3l-72-72a8.1,8.1,0,0,1,0-11.4l72-72a8.4,8.4,0,0,1,8.8-1.7A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))}),es.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),es.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),es.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var x6=function(e,n){return Zt(e,n,es)},$k=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:x6}))});$k.displayName="ArrowLeft";var ts=new Map;ts.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("path",{d:"M181.1,208A96,96,0,1,1,224,128c0,22.1-8,40-28,40s-28-17.9-28-40V88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ts.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),k.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("path",{d:"M181.1,208A96,96,0,1,1,224,128c0,22.1-8,40-28,40s-28-17.9-28-40V88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ts.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,24A104.1,104.1,0,0,0,24.1,132.1c2.1,54.7,47,98.8,101.8,99.9a104,104,0,0,0,91.4-50.8,4,4,0,0,0-4.1-6,52.5,52.5,0,0,1-9.2.8c-18.3,0-28.5-8-33.9-14.7a43.9,43.9,0,0,1-3.4-5A48,48,0,1,1,128,80a47.4,47.4,0,0,1,32,12.3v-4a8.2,8.2,0,0,1,7.5-8.3,8,8,0,0,1,8.5,8v40c0,14.6,4.9,32,28,32s27.6-16.2,28-30.5V128A104.1,104.1,0,0,0,128,24Z"}),k.createElement("circle",{cx:"128",cy:"128",r:"32"}))}),ts.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("path",{d:"M181.1,208A96,96,0,1,1,224,128c0,22.1-8,40-28,40s-28-17.9-28-40V88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ts.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("path",{d:"M181.1,208A96,96,0,1,1,224,128c0,22.1-8,40-28,40s-28-17.9-28-40V88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ts.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"40",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("path",{d:"M181.1,208A96,96,0,1,1,224,128c0,22.1-8,40-28,40s-28-17.9-28-40V88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var k6=function(e,n){return Zt(e,n,ts)},Wk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:k6}))});Wk.displayName="At";var ns=new Map;ns.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ns.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",opacity:"0.2"}),k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ns.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,24A104,104,0,0,0,36.8,178l-8.5,30A15.9,15.9,0,0,0,48,227.7l30-8.5A104,104,0,1,0,128,24Z"}))}),ns.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ns.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ns.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var T6=function(e,n){return Zt(e,n,ns)},pg=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:T6}))});pg.displayName="ChatCircle";var rs=new Map;rs.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),rs.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),rs.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M104,192a8.5,8.5,0,0,1-5.7-2.3l-56-56a8.1,8.1,0,0,1,11.4-11.4L104,172.7,210.3,66.3a8.1,8.1,0,0,1,11.4,11.4l-112,112A8.5,8.5,0,0,1,104,192Z"}))}),rs.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),rs.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),rs.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var I6=function(e,n){return Zt(e,n,rs)},qk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:I6}))});qk.displayName="Check";var is=new Map;is.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),is.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),k.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),is.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))}),is.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),is.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),is.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var b6=function(e,n){return Zt(e,n,is)},vl=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:b6}))});vl.displayName="Clock";var ss=new Map;ss.set("bold",function(){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"16"}),k.createElement("circle",{cx:"64",cy:"128",r:"16"}),k.createElement("circle",{cx:"192",cy:"128",r:"16"}))}),ss.set("duotone",function(){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"12"}),k.createElement("circle",{cx:"192",cy:"128",r:"12"}),k.createElement("circle",{cx:"64",cy:"128",r:"12"}))}),ss.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm52-12a12,12,0,1,0,12,12A12,12,0,0,0,192,116ZM64,116a12,12,0,1,0,12,12A12,12,0,0,0,64,116Z"}))}),ss.set("light",function(){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"10"}),k.createElement("circle",{cx:"64",cy:"128",r:"10"}),k.createElement("circle",{cx:"192",cy:"128",r:"10"}))}),ss.set("thin",function(){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"8"}),k.createElement("circle",{cx:"64",cy:"128",r:"8"}),k.createElement("circle",{cx:"192",cy:"128",r:"8"}))}),ss.set("regular",function(){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"128",r:"12"}),k.createElement("circle",{cx:"192",cy:"128",r:"12"}),k.createElement("circle",{cx:"64",cy:"128",r:"12"}))});var A6=function(e,n){return Zt(e,n,ss)},Hk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:A6}))});Hk.displayName="DotsThree";var os=new Map;os.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),os.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),os.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))}),os.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),os.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),os.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var S6=function(e,n){return Zt(e,n,os)},No=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:S6}))});No.displayName="Heart";var as=new Map;as.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),as.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",opacity:"0.2"}),k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),as.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M218.8,103.7,138.8,31a16,16,0,0,0-21.6,0l-80,72.7A16,16,0,0,0,32,115.5v92.1a16.4,16.4,0,0,0,4,11A15.9,15.9,0,0,0,48,224H96a8,8,0,0,0,8-8V168a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8v48a8,8,0,0,0,8,8h48a15.6,15.6,0,0,0,7.6-1.9A16.1,16.1,0,0,0,224,208V115.5A16,16,0,0,0,218.8,103.7Z"}))}),as.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),as.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),as.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var C6=function(e,n){return Zt(e,n,as)},wl=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:C6}))});wl.displayName="House";var ls=new Map;ls.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ls.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),k.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ls.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))}),ls.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ls.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ls.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var N6=function(e,n){return Zt(e,n,ls)},Gk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:N6}))});Gk.displayName="MagnifyingGlass";var cs=new Map;cs.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),cs.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),k.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),cs.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.2,83.4,134.6a8.3,8.3,0,0,0,9.2,0C136,236.2,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))}),cs.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),cs.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),cs.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var R6=function(e,n){return Zt(e,n,cs)},dg=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:R6}))});dg.displayName="MapPin";var us=new Map;us.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),us.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),us.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))}),us.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),us.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),us.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var P6=function(e,n){return Zt(e,n,us)},Kk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:P6}))});Kk.displayName="Plus";var ps=new Map;ps.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ps.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),k.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ps.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))}),ps.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ps.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ps.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var L6=function(e,n){return Zt(e,n,ps)},Qk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:L6}))});Qk.displayName="User";var ds=new Map;ds.set("bold",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"204",y1:"136",x2:"244",y2:"136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("line",{x1:"224",y1:"116",x2:"224",y2:"156",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("circle",{cx:"108",cy:"100",r:"60",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),k.createElement("path",{d:"M22.2,200a112,112,0,0,1,171.6,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ds.set("duotone",function(t){return k.createElement(k.Fragment,null,k.createElement("circle",{cx:"108",cy:"100",r:"60",opacity:"0.2"}),k.createElement("line",{x1:"200",y1:"136",x2:"248",y2:"136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"224",y1:"112",x2:"224",y2:"160",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("circle",{cx:"108",cy:"100",r:"60",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("path",{d:"M22.2,200a112,112,0,0,1,171.6,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ds.set("fill",function(){return k.createElement(k.Fragment,null,k.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136ZM144.1,157.6a68,68,0,1,0-72.2,0,118.4,118.4,0,0,0-55.8,37.3,7.8,7.8,0,0,0-1.1,8.5,7.9,7.9,0,0,0,7.2,4.6H193.8a7.9,7.9,0,0,0,7.2-4.6,7.8,7.8,0,0,0-1.1-8.5A118.4,118.4,0,0,0,144.1,157.6Z"}))}),ds.set("light",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"200",y1:"136",x2:"248",y2:"136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("line",{x1:"224",y1:"112",x2:"224",y2:"160",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("circle",{cx:"108",cy:"100",r:"60",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),k.createElement("path",{d:"M22.2,200a112,112,0,0,1,171.6,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ds.set("thin",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"200",y1:"136",x2:"248",y2:"136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("line",{x1:"224",y1:"112",x2:"224",y2:"160",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("circle",{cx:"108",cy:"100",r:"60",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),k.createElement("path",{d:"M22.2,200a112,112,0,0,1,171.6,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ds.set("regular",function(t){return k.createElement(k.Fragment,null,k.createElement("line",{x1:"200",y1:"136",x2:"248",y2:"136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("line",{x1:"224",y1:"112",x2:"224",y2:"160",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),k.createElement("circle",{cx:"108",cy:"100",r:"60",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),k.createElement("path",{d:"M22.2,200a112,112,0,0,1,171.6,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var D6=function(e,n){return Zt(e,n,ds)},Yk=_.forwardRef(function(t,e){return k.createElement(Bt,Object.assign({ref:e},t,{renderPath:D6}))});Yk.displayName="UserPlus";const j6=pw("ppm:inline-flex ppm:items-center ppm:justify-center ppm:rounded-md ppm:border ppm:px-2 ppm:py-0.5 ppm:text-xs ppm:font-medium ppm:w-fit ppm:whitespace-nowrap ppm:shrink-0 ppm:[&>svg]:size-3 ppm:gap-1 ppm:[&>svg]:pointer-events-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive ppm:transition-[color,box-shadow] ppm:overflow-hidden",{variants:{variant:{default:"ppm:border-transparent ppm:bg-primary ppm:text-primary-foreground ppm:[a&]:hover:bg-primary/90",secondary:"ppm:border-transparent ppm:bg-secondary ppm:text-secondary-foreground ppm:[a&]:hover:bg-secondary/90",destructive:"ppm:border-transparent ppm:bg-destructive ppm:text-white ppm:[a&]:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:text-foreground ppm:[a&]:hover:bg-accent ppm:[a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _l({className:t,variant:e,asChild:n=!1,...r}){const i=n?ow:"span";return p.jsx(i,{"data-slot":"badge",className:lt(j6({variant:e}),t),...r})}function M6({className:t}){const{user:e}=Tt(),[n,r]=_.useState(0),i=_.useCallback(async()=>{if(e)try{const s=await An.getUnreadCount(e.uid);r(s)}catch(s){console.error("Erro ao carregar contador de notificaes:",s)}},[e]);return _.useEffect(()=>{i();const s=setInterval(i,3e4);return()=>clearInterval(s)},[i]),n===0?null:p.jsx(_l,{variant:"destructive",className:`ppm:absolute ppm:-top-1 ppm:-right-1 ppm:min-w-[14px] ppm:h-[14px] ppm:text-[10px] ppm:flex ppm:items-center ppm:justify-center ppm:p-0 ${t}`,children:n>99?"99+":n})}function V6(){const t={size:16};return p.jsxs("nav",{className:`
        ppm:absolute ppm:bottom-0 ppm:left-0 ppm:right-0 ppm:z-50
        ppm:h-14 ppm:flex-shrink-0
        ppm:bg-white ppm:border-t
        ppm:flex ppm:justify-between ppm:items-center ppm:px-4
        ppm:pb-[env(safe-area-inset-bottom)]
      `,children:[p.jsx(Xs,{to:"/home",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Home",children:({isActive:e})=>p.jsx(wl,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),p.jsx(Xs,{to:"/find",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Buscar",children:({isActive:e})=>p.jsx(Gk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),p.jsx(Xs,{to:"/add-post",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Adicionar",children:({isActive:e})=>p.jsx(Kk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),p.jsx(Xs,{to:"/history",className:"ppm:flex-1 ppm:flex ppm:justify-center ppm:relative",title:"Atividades",children:({isActive:e})=>p.jsxs("div",{className:"ppm:relative",children:[p.jsx(No,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"}),p.jsx(M6,{})]})}),p.jsx(Xs,{to:"/profile",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Perfil",children:({isActive:e})=>p.jsx(Qk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})})]})}function Xk(){const{content:t}=Gn();return p.jsx("header",{className:"ppm:h-12 ppm:flex ppm:items-center ppm:px-4 ppm:bg-white ppm:border-b ppm:border-gray-200 ppm:sticky ppm:top-0 ppm:z-20",children:t??p.jsx("span",{className:"ppm:font-bold ppm:text-lg",children:"Popgram"})})}function O6(){return p.jsx(Ok,{children:p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:h-full ppm:overflow-hidden",children:[p.jsx(Xk,{}),p.jsx("div",{className:"ppm:flex-1 ppm:overflow-y-auto ppm:overflow-x-hidden ppm:pb-28",children:p.jsx(Ww,{})}),p.jsx(V6,{})]})})}function F6({post:t,onLikeChange:e,onCommentClick:n,onShareClick:r,onSaveClick:i,onUserClick:s,onTagClick:o}){var M,F,C,v,S;const{user:a}=Tt(),c=wt(),[u,h]=_.useState(!1);_.useState(!1);const[m,f]=_.useState(t.likeCount||0),[y,T]=_.useState(t.commentCount||0);_.useEffect(()=>{(async()=>{if(!(!a||!t.id))try{const R=await So.isLiked(a.uid,t.id,"post");console.log(`Post ${t.id} - Usurio ${a.uid} curtiu:`,R),h(R)}catch(R){console.error("Erro ao verificar status do like:",R)}})()},[a,t.id]);const b=N=>N.split(" ").map(R=>R.charAt(0)).join("").toUpperCase().slice(0,2),A=N=>{let R;if(N instanceof Date)R=N;else if(N&&typeof N.toDate=="function")R=N.toDate();else if(N&&typeof N.seconds=="number")R=new Date(N.seconds*1e3);else if(typeof N=="string"||typeof N=="number")R=new Date(N);else return"Data desconhecida";if(isNaN(R.getTime()))return"Data invlida";const P=new Date().getTime()-R.getTime(),H=Math.floor(P/(1e3*60*60*24));return H===0?"Hoje":H===1?"Ontem":H<7?`${H} dias atrs`:H<30?`${Math.floor(H/7)} semanas atrs`:H<365?`${Math.floor(H/30)} meses atrs`:`${Math.floor(H/365)} anos atrs`},w=async()=>{if(a)try{u?(await So.unlike(a.uid,t.id,"post"),h(!1),f(N=>Math.max(0,N-1)),e==null||e(t.id,!1)):(await So.like(a.uid,t.id,"post"),h(!0),f(N=>N+1),e==null||e(t.id,!0))}catch(N){console.error("Erro ao curtir/descurtir:",N)}},E=()=>{n?n(t.id):c(`/post/${t.id}`)},x=()=>{var N,R;s?s(((N=t.user)==null?void 0:N.username)||""):c(`/profile/${(R=t.user)==null?void 0:R.username}`)},L=N=>{o?o(N):c(`/profile/${N}`)};return p.jsxs("div",{className:"ppm:bg-white ppm:border-b ppm:border-gray-200",children:[p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-3",children:p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3",children:[p.jsxs(Wn,{className:"ppm:w-8 ppm:h-8",children:[p.jsx(qn,{src:(M=t.user)==null?void 0:M.avatarUrl,alt:((F=t.user)==null?void 0:F.displayName)||""}),p.jsx(Hn,{className:"ppm:text-xs",children:b(((C=t.user)==null?void 0:C.displayName)||"")})]}),p.jsxs("div",{className:"ppm:flex ppm:flex-col",children:[p.jsx("button",{onClick:x,className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900 ppm:text-left ppm:hover:opacity-80",children:(v=t.user)==null?void 0:v.username}),t.location&&p.jsxs("span",{className:"ppm:text-xs ppm:text-gray-500 ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(dg,{className:"ppm:w-3 ppm:h-3"}),t.location]})]})]})}),p.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100",children:p.jsx("img",{src:t.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:cursor-pointer",onClick:()=>c(`/post/${t.id}`)})}),p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2",children:p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-4",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:w,className:"ppm:p-1",children:p.jsx(No,{className:"ppm:w-6 ppm:h-6",weight:u?"fill":"regular",color:u?"#ef4444":"#000000"})}),p.jsx(Se,{variant:"ghost",size:"sm",onClick:E,className:"ppm:p-1",children:p.jsx(pg,{className:"ppm:w-6 ppm:h-6"})})]})}),m>0&&p.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:p.jsxs("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:[m," curtida",m!==1?"s":""]})}),t.caption&&p.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:p.jsxs("div",{className:"ppm:flex ppm:gap-2",children:[p.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(S=t.user)==null?void 0:S.username}),p.jsx("span",{className:"ppm:text-sm ppm:text-gray-900",children:t.caption})]})}),t.tags&&t.tags.length>0&&p.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:p.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-1",children:t.tags.map((N,R)=>p.jsxs(_l,{variant:"secondary",className:"ppm:text-xs ppm:cursor-pointer ppm:hover:bg-blue-100",onClick:()=>L(N),children:["@",N]},R))})}),y>0&&p.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:p.jsxs("span",{onClick:()=>c(`/post/${t.id}`),className:"ppm:text-sm ppm:text-gray-500",children:["Ver todos os ",y," comentrio",y!==1?"s":""]})}),p.jsx("div",{className:"ppm:px-3 ppm:pb-3",children:p.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:A(t.createdAt)})})]})}function U6({type:t,userId:e,limit:n=10}){const{user:r}=Tt(),[i,s]=_.useState([]),[o,a]=_.useState(!1),[c,u]=_.useState(!1),[h,m]=_.useState(!0),[f,y]=_.useState(null),[T,b]=_.useState(null),A=_.useCallback(async()=>{if(!(!r&&t==="feed")){a(!0),y(null);try{let M=[];switch(t){case"feed":if(r){const v=(await Ee.getFollowing(r.uid,100)).map(N=>N.id).filter(N=>N!==void 0),S=[r.uid,...v];console.log("Feed - Usurio atual:",r.uid),console.log("Feed - Seguindo:",v),console.log("Feed - Todos os IDs:",S),S.length>0&&(M=await zt.getFeedPosts(r.uid,S,n),console.log("Feed - Posts encontrados:",M.length))}break;case"user":if(e){const C=await zt.getPostsByUser(e,n);M=await zt.getPostsWithUser(C)}break;case"public":const F=await zt.getPublicPosts(n);M=await zt.getPostsWithUser(F);break}s(M),m(M.length===n),M.length>0&&b(M[M.length-1])}catch(M){console.error("Erro ao carregar posts:",M),y("Erro ao carregar posts")}finally{a(!1)}}},[t,e,n,r]),w=_.useCallback(async()=>{if(!(!h||c||!T)){u(!0),y(null);try{let M=[];switch(t){case"feed":if(r){const S=(await Ee.getFollowing(r.uid,100)).map(R=>R.id).filter(R=>R!==void 0),N=[r.uid,...S];N.length>0&&(M=await zt.getFeedPosts(r.uid,N,n))}break;case"user":if(e){const v=await zt.getPostsByUser(e,n);M=await zt.getPostsWithUser(v)}break;case"public":const C=await zt.getPublicPosts(n);M=await zt.getPostsWithUser(C);break}const F=M.filter(C=>!i.some(v=>v.id===C.id));F.length>0?(s(C=>[...C,...F]),b(F[F.length-1]),m(F.length===n)):m(!1)}catch(M){console.error("Erro ao carregar mais posts:",M),y("Erro ao carregar mais posts")}finally{u(!1)}}},[t,e,n,h,c,T,i,r]),E=_.useCallback((M,F)=>{s(C=>C.map(v=>v.id===M?{...v,...F}:v))},[]),x=_.useCallback(M=>{s(F=>F.filter(C=>C.id!==M))},[]),L=_.useCallback(()=>{s([]),b(null),m(!0),A()},[A]);return _.useEffect(()=>{A()},[A]),{posts:i,loading:o,loadingMore:c,hasMore:h,error:f,loadMorePosts:w,updatePost:E,removePost:x,refresh:L}}function z6(){Gn();const{user:t}=Tt(),e=wt(),n=_.useRef(null);_.useRef(null);const{posts:r,loading:i,loadingMore:s,hasMore:o,error:a,loadMorePosts:c,updatePost:u,refresh:h}=U6({type:"feed",limit:10}),m=_.useCallback(A=>{s||(n.current&&n.current.disconnect(),n.current=new IntersectionObserver(w=>{w[0].isIntersecting&&o&&!s&&c()}),A&&n.current.observe(A))},[s,o,c]);_.useEffect(()=>()=>{n.current&&n.current.disconnect()},[]);const f=(A,w)=>{var E,x;u(A,{likeCount:w?(((E=r.find(L=>L.id===A))==null?void 0:E.likeCount)||0)+1:Math.max(0,(((x=r.find(L=>L.id===A))==null?void 0:x.likeCount)||0)-1)})},y=A=>{e(`/post/${A}`)},T=A=>{e(`/profile/${A}`)},b=A=>{e(`/profile/${A}`)};return t?i&&r.length===0?p.jsx("div",{className:"ppm:space-y-4",children:[...Array(3)].map((A,w)=>p.jsxs("div",{className:"ppm:bg-white ppm:border-b ppm:border-gray-200",children:[p.jsxs("div",{className:"ppm:p-3 ppm:flex ppm:items-center ppm:gap-3",children:[p.jsx("div",{className:"ppm:w-8 ppm:h-8 ppm:bg-gray-200 ppm:rounded-full ppm:animate-pulse"}),p.jsxs("div",{className:"ppm:flex-1 ppm:space-y-2",children:[p.jsx("div",{className:"ppm:h-4 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"}),p.jsx("div",{className:"ppm:h-3 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse ppm:w-1/2"})]})]}),p.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:animate-pulse"}),p.jsxs("div",{className:"ppm:p-3 ppm:space-y-2",children:[p.jsx("div",{className:"ppm:h-4 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"}),p.jsx("div",{className:"ppm:h-3 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse ppm:w-3/4"})]})]},w))}):a&&r.length===0?p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[p.jsx(wl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),p.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Erro ao carregar posts"}),p.jsx("p",{className:"ppm:text-gray-600",children:a}),p.jsx("button",{onClick:h,className:"ppm:px-4 ppm:py-2 ppm:bg-blue-600 ppm:text-white ppm:rounded-md ppm:hover:bg-blue-700",children:"Tentar novamente"})]})}):r.length===0&&!i?p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[p.jsx(wl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),p.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Nenhum post encontrado"}),p.jsx("p",{className:"ppm:text-gray-600",children:"Siga algumas pessoas para ver posts na sua timeline."}),p.jsx("button",{onClick:()=>e("/find"),className:"ppm:px-4 ppm:py-2 ppm:bg-blue-600 ppm:text-white ppm:rounded-md ppm:hover:bg-blue-700",children:"Encontrar pessoas"})]})}):p.jsxs("div",{className:"ppm:space-y-0",children:[r.map((A,w)=>p.jsx("div",{ref:w===r.length-1?m:void 0,children:p.jsx(F6,{post:A,onLikeChange:f,onCommentClick:y,onUserClick:T,onTagClick:b})},A.id)),s&&p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsxs("div",{className:"ppm:inline-flex ppm:items-center ppm:gap-2",children:[p.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-4 ppm:w-4 ppm:border-b-2 ppm:border-blue-600"}),p.jsx("span",{className:"ppm:text-sm ppm:text-gray-600",children:"Carregando mais posts..."})]})}),!o&&r.length>0&&p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsx("span",{className:"ppm:text-sm ppm:text-gray-500",children:"Voc chegou ao fim da timeline"})})]}):p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[p.jsx(wl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),p.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Faa login para ver posts"}),p.jsx("p",{className:"ppm:text-gray-600",children:"Entre na sua conta para ver posts de pessoas que voc segue."})]})})}function B6(t,e){const[n,r]=_.useState(t);return _.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}function $6(){const{setAppBarContent:t}=Gn(),[e,n]=_.useState(""),[r,i]=_.useState([]),[s,o]=_.useState(!1),[a,c]=_.useState(!1),u=wt(),h=_.useRef(null),m=B6(e,300);return _.useEffect(()=>{t(p.jsxs("div",{className:"ppm:relative ppm:w-full ppm:max-w-md ppm:mx-auto",children:[p.jsx("span",{className:"ppm:absolute ppm:left-3 ppm:top-1/2 ppm:-translate-y-1/2 ppm:text-gray-400",children:p.jsx(Rw,{className:"ppm:w-5 ppm:h-5"})}),p.jsx(nt,{ref:h,placeholder:"Buscar usurio...",value:e,onChange:f=>n(f.target.value),className:"ppm:w-full ppm:pl-10 ppm:max-w-md ppm:mx-auto",autoFocus:!0})]}))},[e,t]),_.useEffect(()=>()=>t(null),[t]),_.useEffect(()=>{(async()=>{const y=m.trim();if(y.length<2){i([]),c(!1);return}c(!0),o(!0);try{const T=await Ee.searchUsersImproved(y,20);i(T)}catch(T){console.error("Erro na busca:",T),i([])}finally{o(!1)}})()},[m]),p.jsx("div",{className:"ppm:p-4 ppm:space-y-6",children:s?p.jsx("div",{className:"ppm:space-y-4",children:[...Array(3)].map((f,y)=>p.jsx(Wr,{children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:gap-4 ppm:py-2",children:[p.jsx(Re,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),p.jsxs("div",{className:"ppm:flex-1",children:[p.jsx(Re,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),p.jsx(Re,{className:"ppm:w-20 ppm:h-3"})]}),p.jsx(Re,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},y))}):p.jsx("div",{className:"ppm:space-y-2",children:r.length>0?r.map(f=>p.jsx(Wr,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>u(`/profile/${f.username}`),children:p.jsxs(En,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[p.jsxs(Wn,{className:"ppm:w-12 ppm:h-12",children:[p.jsx(qn,{src:f.avatarUrl||"",alt:f.displayName||f.username}),p.jsx(Hn,{children:(f.displayName||f.username||"?").slice(0,2).toUpperCase()})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:f.displayName}),p.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",f.username]})]})]})},f.id)):a&&e.trim()!==""?p.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:p.jsx("p",{className:"ppm:text-xs",children:"Nenhum usurio encontrado."})}):e.trim()!==""&&e.trim().length<2?p.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:p.jsx("p",{className:"ppm:text-xs",children:"Digite pelo menos 2 caracteres para buscar."})}):null})})}function W6(){const{user:t}=Tt(),e=wt(),[n,r]=_.useState(""),[i,s]=_.useState(""),[o,a]=_.useState(""),[c,u]=_.useState(!0),[h,m]=_.useState([]),[f,y]=_.useState([]),[T,b]=_.useState(!1),[A,w]=_.useState(!1),E=_.useCallback(async C=>{if(C.length<2)return[];try{return(await Ee.searchUsersImproved(C,10)).filter(S=>S.id).map(S=>({id:S.id,username:S.username,displayName:S.displayName,avatarUrl:S.avatarUrl}))}catch(v){return console.error("Erro ao buscar usurios para mention:",v),[]}},[]),x=_.useCallback(C=>{y(v=>v.find(N=>N.id===C.id)?v:[...v,C]),m(v=>v.find(N=>N===C.username)?v:[...v,C.username])},[]),L=_.useCallback(C=>{y(v=>v.filter(S=>S.id!==C)),m(v=>{const S=f.find(N=>N.id===C);return S?v.filter(N=>N!==S.username):v})},[f]),M=_.useCallback(()=>{if(!n.trim())throw new Error("URL da imagem  obrigatria");if(!i.trim())throw new Error("Descrio  obrigatria");try{new URL(n)}catch{throw new Error("URL da imagem invlida")}},[n,i]),F=_.useCallback(async()=>{if(!(t!=null&&t.uid))throw new Error("Usurio no autenticado");M(),b(!0);try{await zt.createPost({userId:t.uid,imageUrl:n.trim(),caption:i.trim(),location:o.trim(),isPublic:c,tags:h}),r(""),s(""),a(""),u(!0),m([]),y([]),e("/profile")}catch(C){throw console.error("Erro ao criar post:",C),C}finally{b(!1)}},[t==null?void 0:t.uid,n,i,o,c,h,M,e]);return{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:a,isPublic:c,setIsPublic:u,tags:h,setTags:m,mentions:f,setMentions:y,loading:T,imageError:A,setImageError:w,searchMentions:E,addMention:x,removeMention:L,submitPost:F,validateForm:M}}function q6(t,e){const[n,r]=_.useState(t);return _.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}function H6({tags:t,onAddTag:e,onRemoveTag:n,searchUsers:r,placeholder:i="Digite @ para marcar pessoas..."}){const[s,o]=_.useState(""),[a,c]=_.useState([]),[u,h]=_.useState(!1),[m,f]=_.useState(!1),y=_.useRef(null),T=_.useRef(null),b=q6(s,300);_.useEffect(()=>{(async()=>{const L=b.trim();if(L.length<2){c([]),f(!1);return}h(!0),f(!0);try{const M=await r(L);c(M.filter(F=>!t.some(C=>C.id===F.id)))}catch(M){console.error("Erro na busca de tags:",M),c([])}finally{h(!1)}})()},[b,t,r]),_.useEffect(()=>{const x=L=>{T.current&&!T.current.contains(L.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const A=x=>{const L=x.target.value;o(L),L.startsWith("@")?o(L.slice(1)):(o(""),f(!1))},w=x=>{var L;e({id:x.id,username:x.username,displayName:x.displayName,avatarUrl:x.avatarUrl}),o(""),f(!1),y.current&&(y.current.value=""),(L=y.current)==null||L.focus()},E=x=>{n(x)};return p.jsxs("div",{className:"ppm:space-y-3",children:[p.jsxs("div",{className:"ppm:relative",children:[p.jsxs("div",{className:"ppm:relative",children:[p.jsx(vA,{className:"ppm:absolute ppm:left-3 ppm:top-1/2 ppm:-translate-y-1/2 ppm:w-4 ppm:h-4 ppm:text-gray-400"}),p.jsx(nt,{ref:y,placeholder:i,onChange:A,className:"ppm:pl-10"})]}),m&&p.jsx("div",{ref:T,className:"ppm:absolute ppm:top-full ppm:left-0 ppm:right-0 ppm:z-50 ppm:bg-white ppm:border ppm:border-gray-200 ppm:rounded-md ppm:shadow-lg ppm:max-h-60 ppm:overflow-y-auto ppm:mt-1",children:u?p.jsx("div",{className:"ppm:p-4 ppm:text-center ppm:text-gray-500",children:"Buscando..."}):a.length>0?p.jsx("div",{className:"ppm:py-2",children:a.map(x=>p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3 ppm:px-4 ppm:py-2 ppm:hover:bg-gray-50 ppm:cursor-pointer",onClick:()=>w(x),children:[p.jsxs(Wn,{className:"ppm:w-8 ppm:h-8",children:[p.jsx(qn,{src:x.avatarUrl,alt:x.displayName||x.username}),p.jsx(Hn,{children:(x.displayName||x.username).slice(0,2).toUpperCase()})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsx("div",{className:"ppm:font-medium ppm:text-sm ppm:text-gray-900 ppm:truncate",children:x.displayName||x.username}),p.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:truncate",children:["@",x.username]})]}),p.jsx(Rw,{className:"ppm:w-4 ppm:h-4 ppm:text-gray-400"})]},x.id))}):s.length>=2?p.jsx("div",{className:"ppm:p-4 ppm:text-center ppm:text-gray-500",children:"Nenhum usurio encontrado."}):null})]}),t.length>0&&p.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-2",children:t.map(x=>p.jsxs(_l,{variant:"secondary",className:"ppm:flex ppm:items-center ppm:gap-1 ppm:px-2 ppm:py-1",children:[p.jsxs(Wn,{className:"ppm:w-4 ppm:h-4",children:[p.jsx(qn,{src:x.avatarUrl,alt:x.displayName||x.username}),p.jsx(Hn,{className:"ppm:text-xs",children:(x.displayName||x.username).slice(0,2).toUpperCase()})]}),p.jsxs("span",{className:"ppm:text-xs",children:["@",x.username]}),p.jsx(Se,{variant:"ghost",size:"sm",className:"ppm:h-4 ppm:w-4 ppm:p-0 ppm:ml-1",onClick:()=>E(x.id),children:p.jsx(Pw,{className:"ppm:w-3 ppm:h-3"})})]},x.id))}),p.jsx("div",{className:"ppm:text-xs ppm:text-gray-500",children:"Use @ para marcar pessoas na sua publicao"})]})}function G6(){const{setAppBarContent:t}=Gn(),e=wt(),{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:a,mentions:c,loading:u,imageError:h,setImageError:m,searchMentions:f,addMention:y,removeMention:T,submitPost:b}=W6(),[A,w]=_.useState(!1);_.useEffect(()=>(t(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"ppm:p-2",children:p.jsx(eu,{className:"ppm:w-5 ppm:h-5"})}),p.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Novo Post"}),p.jsx(Se,{variant:"ghost",size:"sm",onClick:x,disabled:u||!n.trim()||!i.trim(),className:"ppm:text-blue-600 ppm:hover:text-blue-700 ppm:font-medium",children:u?"Postando...":"Compartilhar"})]})),()=>t(null)),[t,e,u,n,i]);const E=L=>{if(r(L),m(!1),L.trim()){w(!0);const M=new window.Image;M.onload=()=>{w(!1),m(!1)},M.onerror=()=>{w(!1),m(!0)},M.src=L}},x=async()=>{try{await b()}catch(L){console.error("Erro ao criar post:",L)}};return p.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[p.jsxs("div",{className:"ppm:space-y-4",children:[p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsxs(ct,{htmlFor:"imageUrl",className:"ppm:flex ppm:items-center ppm:gap-2",children:[p.jsx(EA,{className:"ppm:w-4 ppm:h-4"}),"URL da Imagem"]}),p.jsx(nt,{id:"imageUrl",type:"url",placeholder:"Cole a URL da sua imagem aqui...",value:n,onChange:L=>E(L.target.value),className:"ppm:w-full"})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{className:"ppm:text-sm ppm:font-medium ppm:text-gray-700",children:"Preview da Imagem"}),p.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100 ppm:rounded-lg ppm:overflow-hidden ppm:border-2 ppm:border-dashed ppm:border-gray-300",children:n.trim()?p.jsxs(p.Fragment,{children:[A&&p.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:items-center ppm:justify-center ppm:bg-gray-100",children:p.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-8 ppm:w-8 ppm:border-b-2 ppm:border-blue-600"})}),h&&p.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:bg-red-50 ppm:text-red-600",children:[p.jsx(wA,{className:"ppm:w-8 ppm:h-8 ppm:mb-2"}),p.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Erro ao carregar imagem"})]}),!A&&!h&&p.jsx("img",{src:n,alt:"Preview",className:"ppm:w-full ppm:h-full ppm:object-cover",onError:()=>m(!0)})]}):p.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:text-gray-400",children:[p.jsx(Sw,{className:"ppm:w-12 ppm:h-12 ppm:mb-2"}),p.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Proporo recomendada: 1:1"}),p.jsx("span",{className:"ppm:text-xs",children:"Cole uma URL de imagem para ver o preview"})]})}),p.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:bg-blue-50 ppm:p-3 ppm:rounded-md",children:[p.jsx("div",{className:"ppm:font-medium ppm:text-blue-800 ppm:mb-1",children:" Dica de Proporo"}),p.jsx("p",{children:"Para melhor visualizao, use imagens com proporo 1:1 (quadrada). Imagens com outras propores sero cortadas para se ajustar ao formato quadrado."})]})]})]}),p.jsxs("div",{className:"ppm:space-y-4",children:[p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{htmlFor:"caption",className:"ppm:font-medium ppm:text-gray-700",children:"Descrio"}),p.jsx(nt,{id:"caption",placeholder:"Escreva uma descrio para sua publicao...",value:i,onChange:L=>s(L.target.value),className:"ppm:w-full"})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsx(ct,{className:"ppm:font-medium ppm:text-gray-700",children:"Marcaes"}),p.jsx(H6,{tags:c,onAddTag:y,onRemoveTag:T,searchUsers:f,placeholder:"Digite @ para marcar pessoas..."})]}),p.jsxs("div",{className:"ppm:space-y-2",children:[p.jsxs(ct,{htmlFor:"location",className:"ppm:flex ppm:items-center ppm:gap-2",children:[p.jsx(kA,{className:"ppm:w-4 ppm:h-4"}),"Localizao"]}),p.jsx(nt,{id:"location",placeholder:"Adicionar localizao...",value:o,onChange:L=>a(L.target.value),className:"ppm:w-full"})]})]})]})}function K6({limit:t=50,autoRefresh:e=!1}={}){const{user:n}=Tt(),[r,i]=_.useState([]),[s,o]=_.useState(!1),[a,c]=_.useState(0),[u,h]=_.useState(null),m=_.useRef(!1),f=_.useCallback(async()=>{if(!(!n||m.current)){console.log(" useActivities.loadActivities - iniciando carregamento para usurio:",n.uid),m.current=!0,o(!0),h(null);try{const A=await An.getActivitiesByUser(n.uid,t);console.log(" useActivities.loadActivities - atividades carregadas:",A.length),console.log(" useActivities.loadActivities - atividades:",A),i(A);const w=await An.getUnreadCount(n.uid);console.log(" useActivities.loadActivities - no lidas:",w),c(w)}catch(A){console.error(" useActivities.loadActivities - erro:",A),h("Erro ao carregar atividades")}finally{o(!1),m.current=!1}}},[n==null?void 0:n.uid,t]),y=_.useCallback(async A=>{try{await An.markAsRead(A),i(E=>E.map(x=>A.includes(x.id)?{...x,isRead:!0}:x));const w=await An.getUnreadCount((n==null?void 0:n.uid)||"");c(w)}catch(w){console.error("Erro ao marcar atividades como lidas:",w)}},[n==null?void 0:n.uid]),T=_.useCallback(async()=>{if(n)try{await An.markAllAsRead(n.uid),i(A=>A.map(w=>({...w,isRead:!0}))),c(0)}catch(A){console.error("Erro ao marcar todas como lidas:",A)}},[n==null?void 0:n.uid]),b=_.useCallback(()=>{f()},[f]);return _.useEffect(()=>{f()},[f]),_.useEffect(()=>{if(!e||!n)return;const A=setInterval(()=>{f()},3e4);return()=>clearInterval(A)},[e,n==null?void 0:n.uid,f]),{activities:r,loading:s,unreadCount:a,error:u,markAsRead:y,markAllAsRead:T,refresh:b}}function Q6(){const{setAppBarContent:t}=Gn(),{user:e}=Tt(),n=wt(),{activities:r,loading:i,unreadCount:s,markAsRead:o,markAllAsRead:a}=K6({limit:50});console.log(" HistoryScreen - renderizando com:",{activitiesCount:r.length,loading:i,unreadCount:s,authUser:e==null?void 0:e.uid}),_.useEffect(()=>{t(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[p.jsx("h1",{className:"ppm:text-lg ppm:font-semibold",children:"Atividades"}),s>0&&p.jsx(_l,{variant:"destructive",className:"ppm:text-xs",children:s})]}))},[t,s]);const c=y=>y.split(" ").map(T=>T.charAt(0)).join("").toUpperCase().slice(0,2),u=y=>{let T;if(y instanceof Date)T=y;else if(y&&typeof y.toDate=="function")T=y.toDate();else if(y&&typeof y.seconds=="number")T=new Date(y.seconds*1e3);else if(typeof y=="string"||typeof y=="number")T=new Date(y);else return"Data desconhecida";if(isNaN(T.getTime()))return"Data invlida";const A=new Date().getTime()-T.getTime(),w=Math.floor(A/(1e3*60)),E=Math.floor(A/(1e3*60*60)),x=Math.floor(A/(1e3*60*60*24));return w<1?"Agora mesmo":w<60?`${w}m`:E<24?`${E}h`:x<7?`${x}d`:x<30?`${Math.floor(x/7)}s`:x<365?`${Math.floor(x/30)}m`:`${Math.floor(x/365)}a`},h=y=>{switch(y){case"like":return p.jsx(No,{className:"ppm:w-4 ppm:h-4 ppm:text-red-500",weight:"fill"});case"comment":return p.jsx(pg,{className:"ppm:w-4 ppm:h-4 ppm:text-blue-500"});case"follow":return p.jsx(Yk,{className:"ppm:w-4 ppm:h-4 ppm:text-green-500"});case"mention":return p.jsx(Wk,{className:"ppm:w-4 ppm:h-4 ppm:text-purple-500"});case"like_comment":return p.jsx(No,{className:"ppm:w-4 ppm:h-4 ppm:text-red-500",weight:"fill"});default:return p.jsx(vl,{className:"ppm:w-4 ppm:h-4 ppm:text-gray-500"})}},m=y=>{var b,A;const T=((b=y.actor)==null?void 0:b.displayName)||((A=y.actor)==null?void 0:A.username)||"Algum";switch(y.actionType){case"like":return`${T} curtiu sua publicao`;case"comment":return`${T} comentou: "${y.text}"`;case"follow":return`${T} comeou a seguir voc`;case"mention":return`${T} marcou voc em uma publicao`;case"like_comment":return`${T} curtiu seu comentrio`;default:return`${T} interagiu com voc`}},f=y=>{y.isRead||o([y.id]),y.targetType==="post"&&y.targetId?n(`/post/${y.targetId}`):y.actor&&n(`/profile/${y.actor.username}`)};return e?i?p.jsx("div",{className:"ppm:space-y-4 ppm:p-4",children:[...Array(5)].map((y,T)=>p.jsx(Wr,{className:"ppm:animate-pulse",children:p.jsx(En,{className:"ppm:p-4",children:p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3",children:[p.jsx("div",{className:"ppm:w-10 ppm:h-10 ppm:bg-gray-200 ppm:rounded-full"}),p.jsxs("div",{className:"ppm:flex-1 ppm:space-y-2",children:[p.jsx("div",{className:"ppm:h-4 ppm:bg-gray-200 ppm:rounded ppm:w-3/4"}),p.jsx("div",{className:"ppm:h-3 ppm:bg-gray-200 ppm:rounded ppm:w-1/2"})]})]})})},T))}):p.jsxs("div",{className:"ppm:space-y-2 ppm:p-2",children:[s>0&&p.jsx("div",{className:"ppm:flex ppm:justify-end",children:p.jsxs(Se,{variant:"outline",size:"sm",onClick:a,className:"ppm:text-xs ppm:h-7 ppm:px-2",children:[p.jsx(qk,{className:"ppm:w-3 ppm:h-3 ppm:mr-1"}),"Marcar todas como lidas"]})}),r.length>0?p.jsx("div",{className:"ppm:space-y-1",children:r.map(y=>{var T,b,A;return p.jsx(Wr,{className:`ppm:py-2 ppm:cursor-pointer ppm:transition-colors ${y.isRead?"":"ppm:bg-blue-50 ppm:border-blue-200"}`,onClick:()=>f(y),children:p.jsx(En,{className:"ppm:p-3",children:p.jsxs("div",{className:"ppm:flex ppm:items-start ppm:gap-2",children:[p.jsxs(Wn,{className:"ppm:w-8 ppm:h-8 ppm:flex-shrink-0",children:[p.jsx(qn,{src:(T=y.actor)==null?void 0:T.avatarUrl,alt:((b=y.actor)==null?void 0:b.displayName)||""}),p.jsx(Hn,{className:"ppm:text-xs",children:c(((A=y.actor)==null?void 0:A.displayName)||"")})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1 ppm:mb-1",children:[h(y.actionType),p.jsx("span",{className:"ppm:text-sm ppm:text-gray-900",children:m(y)})]}),p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between",children:[p.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:u(y.createdAt)}),!y.isRead&&p.jsx("div",{className:"ppm:w-2 ppm:h-2 ppm:bg-blue-500 ppm:rounded-full"})]}),y.target&&p.jsxs("div",{className:"ppm:mt-1 ppm:p-1 ppm:bg-gray-50 ppm:rounded ppm:border",children:[y.target.type==="post"&&y.target.preview&&p.jsx("img",{src:y.target.preview,alt:"Post",className:"ppm:w-12 ppm:h-12 ppm:object-cover ppm:rounded"}),y.target.type==="comment"&&y.target.preview&&p.jsxs("p",{className:"ppm:text-xs ppm:text-gray-600 ppm:line-clamp-2",children:['"',y.target.preview,'"']})]})]})]})})},y.id)})}):p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[p.jsx(vl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),p.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Nenhuma atividade ainda"}),p.jsx("p",{className:"ppm:text-gray-600",children:"Quando pessoas interagirem com voc, aparecer aqui."})]})})]}):p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[p.jsx(vl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),p.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Faa login para ver atividades"}),p.jsx("p",{className:"ppm:text-gray-600",children:"Entre na sua conta para ver suas notificaes."})]})})}function Y6(){const{user:t}=Tt();return console.log("user",t),t?p.jsx(ou,{to:"/profile",replace:!0}):p.jsx(ou,{to:"/login",replace:!0})}function X6(){var F,C,v,S,N;const{postId:t}=su(),{user:e}=Tt(),n=wt(),{setAppBarContent:r}=Gn(),[i,s]=_.useState(null),[o,a]=_.useState([]),[c,u]=_.useState(!0),[h,m]=_.useState(!1),[f,y]=_.useState(!1);_.useState(!1);const[T,b]=_.useState(""),[A,w]=_.useState(!1);_.useEffect(()=>{(async()=>{var D,P;if(t){u(!0);try{const H=await zt.getById(t);if(H){const q=await Ee.getById(H.userId),Z={...H,createdAt:H.createdAt instanceof Date?H.createdAt:(D=H.createdAt)!=null&&D.toDate?H.createdAt.toDate():new Date(H.createdAt),updatedAt:H.updatedAt instanceof Date?H.updatedAt:(P=H.updatedAt)!=null&&P.toDate?H.updatedAt.toDate():new Date(H.updatedAt),user:q?{id:q.id,username:q.username,avatarUrl:q.avatarUrl,displayName:q.displayName}:void 0};if(s(Z),e){const $e=await So.isLiked(e.uid,t,"post");y($e)}}}catch(H){console.error("Erro ao carregar post:",H)}finally{u(!1)}}})()},[t,e]),_.useEffect(()=>{(async()=>{if(t){console.log("Carregando comentrios para postId:",t),m(!0);try{await xp.debugGetAllComments();const D=await xp.getCommentsByPostWithUser(t,50);console.log("Comentrios carregados:",D);const P=D.map(H=>{var q,Z;return{...H,createdAt:H.createdAt instanceof Date?H.createdAt:(q=H.createdAt)!=null&&q.toDate?H.createdAt.toDate():new Date(H.createdAt),updatedAt:H.updatedAt instanceof Date?H.updatedAt:(Z=H.updatedAt)!=null&&Z.toDate?H.updatedAt.toDate():new Date(H.updatedAt)}});console.log("Comentrios com datas convertidas:",P),a(P)}catch(D){console.error("Erro ao carregar comentrios:",D)}finally{m(!1)}}})()},[t]),_.useEffect(()=>(r(p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[p.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"ppm:p-2",children:p.jsx($k,{className:"ppm:w-5 ppm:h-5"})}),p.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Post"}),p.jsx(Se,{variant:"ghost",size:"sm",className:"ppm:p-2",children:p.jsx(Hk,{className:"ppm:w-5 ppm:h-5"})})]})),()=>r(null)),[r,n]);const E=async()=>{if(!(!e||!t))try{f?(await So.unlike(e.uid,t,"post"),y(!1),s(R=>R?{...R,likeCount:Math.max(0,R.likeCount-1)}:null)):(await So.like(e.uid,t,"post"),y(!0),s(R=>R?{...R,likeCount:R.likeCount+1}:null))}catch(R){console.error("Erro ao curtir/descurtir:",R)}},x=async()=>{if(!(!e||!t||!T.trim())){w(!0);try{await xp.createComment({postId:t,userId:e.uid,text:T.trim()});const R=await xp.getCommentsByPostWithUser(t,50);a(R),s(D=>D?{...D,commentCount:D.commentCount+1}:null),b("")}catch(R){console.error("Erro ao comentar:",R)}finally{w(!1)}}},L=R=>{let D;if(R instanceof Date)D=R;else if(R&&typeof R.toDate=="function")D=R.toDate();else if(R&&typeof R.seconds=="number")D=new Date(R.seconds*1e3);else if(typeof R=="string"||typeof R=="number")D=new Date(R);else return"Data desconhecida";if(isNaN(D.getTime()))return"Data invlida";const H=new Date().getTime()-D.getTime(),q=Math.floor(H/(1e3*60*60*24));return q===0?"Hoje":q===1?"Ontem":q<7?`${q} dias atrs`:q<30?`${Math.floor(q/7)} semanas atrs`:q<365?`${Math.floor(q/30)} meses atrs`:`${Math.floor(q/365)} anos atrs`},M=R=>R.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().slice(0,2);return c?p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:p.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-8 ppm:w-8 ppm:border-b-2 ppm:border-blue-600"})}):i?p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:bg-white",children:[p.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100",children:p.jsx("img",{src:i.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover"})}),p.jsxs("div",{className:"ppm:flex-1 ppm:flex ppm:flex-col",children:[p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2 ppm:border-b ppm:border-gray-100",children:p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3",children:[p.jsxs(Wn,{className:"ppm:w-8 ppm:h-8",children:[p.jsx(qn,{src:(F=i.user)==null?void 0:F.avatarUrl,alt:((C=i.user)==null?void 0:C.displayName)||""}),p.jsx(Hn,{className:"ppm:text-xs",children:M(((v=i.user)==null?void 0:v.displayName)||"")})]}),p.jsxs("div",{className:"ppm:flex ppm:flex-col",children:[p.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(S=i.user)==null?void 0:S.displayName}),p.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:i.location&&p.jsxs("span",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[p.jsx(dg,{className:"ppm:w-3 ppm:h-3"}),i.location]})})]})]})}),p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2 ppm:border-b ppm:border-gray-100",children:p.jsx("div",{className:"ppm:flex ppm:items-center ppm:gap-4",children:p.jsx(Se,{variant:"ghost",size:"sm",onClick:E,className:"ppm:p-1",children:p.jsx(No,{className:"ppm:w-6 ppm:h-6",weight:f?"fill":"regular",color:f?"#ef4444":"#000000"})})})}),i.likeCount>0&&p.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:p.jsxs("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:[i.likeCount," curtida",i.likeCount!==1?"s":""]})}),i.caption&&p.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:p.jsxs("div",{className:"ppm:flex ppm:gap-2",children:[p.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(N=i.user)==null?void 0:N.username}),p.jsx("span",{className:"ppm:text-sm ppm:text-gray-900",children:i.caption})]})}),i.tags&&i.tags.length>0&&p.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:p.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-1",children:i.tags.map((R,D)=>p.jsxs(_l,{variant:"secondary",className:"ppm:text-xs ppm:cursor-pointer ppm:hover:bg-blue-100",onClick:()=>n(`/profile/${R}`),children:["@",R]},D))})}),p.jsx("div",{className:"ppm:flex-1 ppm:px-4 ppm:py-2",children:h?p.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:py-8",children:p.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-6 ppm:w-6 ppm:border-b-2 ppm:border-blue-600"})}):o.length>0?p.jsx("div",{className:"ppm:space-y-3",children:o.map(R=>{var D,P,H,q;return p.jsxs("div",{className:"ppm:flex ppm:gap-3",children:[p.jsxs(Wn,{className:"ppm:w-6 ppm:h-6 ppm:flex-shrink-0",children:[p.jsx(qn,{src:(D=R.user)==null?void 0:D.avatarUrl,alt:((P=R.user)==null?void 0:P.displayName)||""}),p.jsx(Hn,{className:"ppm:text-xs",children:M(((H=R.user)==null?void 0:H.displayName)||"")})]}),p.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[p.jsxs("div",{className:"ppm:flex ppm:gap-2 ppm:items-start",children:[p.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(q=R.user)==null?void 0:q.username}),p.jsx("span",{className:"ppm:text-sm ppm:text-gray-900 ppm:flex-1",children:R.text})]}),p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-4 ppm:mt-1",children:[p.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:L(R.createdAt)}),R.likeCount>0&&p.jsxs("span",{className:"ppm:text-xs ppm:text-gray-500",children:[R.likeCount," curtida",R.likeCount!==1?"s":""]})]})]})]},R.id)})}):p.jsx("div",{className:"ppm:text-center ppm:py-8 ppm:text-gray-500 ppm:text-sm",children:"Nenhum comentrio ainda. Seja o primeiro a comentar!"})}),p.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-t ppm:border-gray-100",children:p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1 ppm:text-xs ppm:text-gray-500",children:[p.jsx(vl,{className:"ppm:w-3 ppm:h-3"}),L(i.createdAt)]})}),p.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-2 ppm:p-2 ppm:border-t ppm:border-gray-100",children:[p.jsx(nt,{placeholder:"Adicione um comentrio...",value:T,onChange:R=>b(R.target.value),className:"ppm:flex-1",onKeyPress:R=>{R.key==="Enter"&&!A&&x()}}),p.jsx(Se,{variant:"ghost",size:"sm",onClick:x,disabled:!T.trim()||A,className:"ppm:text-blue-600 ppm:font-semibold",children:A?"Enviando...":"Enviar"})]})]})]}):p.jsx("div",{className:"ppm:p-4 ppm:text-center",children:p.jsx("p",{className:"ppm:text-gray-600",children:"Post no encontrado"})})}function J6(){return p.jsx(Ok,{children:p.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:h-full ppm:overflow-hidden",children:[p.jsx(Xk,{}),p.jsx("div",{className:"ppm:flex-1 ppm:overflow-y-auto ppm:overflow-x-hidden ppm:pb-28",children:p.jsx(Ww,{})})]})})}function Z6({isOpen:t,onClose:e}){return t?p.jsx("div",{className:"ppm:fixed ppm:inset-0 ppm:bg-black/50 ppm:flex ppm:items-center ppm:justify-center ppm:z-50",children:p.jsxs("div",{className:"ppm:relative ppm:w-[350px] ppm:h-[700px] ppm:max-w-[90vw] ppm:max-h-[90vh] ppm:bg-gray-900 ppm:rounded-[3rem] ppm:p-2 ppm:shadow-2xl",children:[p.jsx(AA,{onClose:e}),p.jsxs("div",{className:"ppm:w-full ppm:h-full ppm:bg-white ppm:rounded-[2.5rem] ppm:overflow-hidden ppm:relative ppm:flex ppm:flex-col",children:[p.jsx("div",{className:"ppm:absolute ppm:top-0 ppm:left-1/2 ppm:-translate-x-1/2 ppm:w-32 ppm:h-6 ppm:bg-black ppm:rounded-b-2xl ppm:z-10"}),p.jsx(Ib,{}),p.jsx(yS,{initialEntries:["/"],children:p.jsx("div",{className:"ppm:flex ppm:flex-col ppm:h-full",children:p.jsxs(wS,{children:[p.jsx(qe,{path:"/",element:p.jsx(Y6,{})}),p.jsxs(qe,{element:p.jsx(J6,{}),children:[p.jsx(qe,{path:"/login",element:p.jsx(fD,{})}),p.jsx(qe,{path:"/register",element:p.jsx(gD,{})}),p.jsx(qe,{path:"/ajuda",element:p.jsx(w6,{})})]}),p.jsxs(qe,{element:p.jsx(_6,{children:p.jsx(O6,{})}),children:[p.jsx(qe,{path:"/home",element:p.jsx(z6,{})}),p.jsx(qe,{path:"/find",element:p.jsx($6,{})}),p.jsx(qe,{path:"/add-post",element:p.jsx(G6,{})}),p.jsx(qe,{path:"/history",element:p.jsx(Q6,{})}),p.jsx(qe,{path:"/profile",element:p.jsx(Fk,{})}),p.jsx(qe,{path:"/profile/:username",element:p.jsx(Fk,{})}),p.jsx(qe,{path:"/edit-profile",element:p.jsx(v6,{})}),p.jsx(qe,{path:"/followers",element:p.jsx(Uk,{})}),p.jsx(qe,{path:"/followers/:username",element:p.jsx(Uk,{})}),p.jsx(qe,{path:"/following",element:p.jsx(zk,{})}),p.jsx(qe,{path:"/following/:username",element:p.jsx(zk,{})}),p.jsx(qe,{path:"/post/:postId",element:p.jsx(X6,{})})]}),p.jsx(qe,{path:"*",element:p.jsx(ou,{to:"/home",replace:!0})})]})})}),p.jsx("div",{className:"ppm:absolute ppm:bottom-2 ppm:left-1/2 ppm:-translate-x-1/2 ppm:w-32 ppm:h-1 ppm:bg-gray-400 ppm:rounded-full"})]})]})}):null}function ej(){return p.jsx(Z6,{isOpen:!0,onClose:()=>{window.parent.postMessage("closeSmartphone","*")}})}function hg(...t){console.log("%cUserscript (React Mode):","color: purple; font-weight: bold",...t)}function tj(t){window.setTimeout(t,0);let e=window.location.href;const n=document.querySelector("body");if(!n)throw new Error("Body element not found");const r=new MutationObserver(i=>{i.some(()=>e!==document.location.href)&&(e=document.location.href,t())});return r.observe(n,{childList:!0,subtree:!0}),r}async function nj(t){let n=0;return new Promise((r,i)=>{function s(){return n++,document.querySelector(t)}function o(){if(n>=60){hg("Can't find element with selector",t),i();return}const a=s();if(a){r(a);return}window.setTimeout(o,250)}o()})}hg("React script has successfully started");async function rj(){const t=await nj(".charMainToolbox table tbody");if(!t.querySelector("#smartphone-tool-row")){const i=document.createElement("tr");i.id="smartphone-tool-row",i.innerHTML=`
      <td class="middle" style="width: 13px;"><img title="Smartphone" src="/Static/Icons/TinyIcon_Phone.png" alt="Smartphone" style="border-width:0px;"></td>
      <td><a href="#" id="smartphone-link">Smartphone</a></td>
    `,t.appendChild(i)}const e=t.querySelector("#smartphone-link"),n="popgram-smartphone-iframe";let r=document.getElementById(n);r||(r=document.createElement("iframe"),r.id=n,r.style.border="none",r.style.width="100vw",r.style.height="100vh",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.zIndex="2147483647",r.style.display="none",r.style.background="transparent",r.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-scripts allow-same-origin"),document.body.appendChild(r),r.srcdoc=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popgram</title>
    <style>${kb}
${Tb}</style>
  </head>
  <body style="background: transparent; margin: 0; padding: 0;">
    <div id="popgram-wrapper" style="background: transparent;"></div>
  </body>
</html>`,r.addEventListener("load",()=>{const s=(r.contentDocument||r.contentWindow.document).querySelector("#popgram-wrapper");nw(s).render(p.jsx(ej,{}))}),window.addEventListener("message",i=>{i.data==="closeSmartphone"&&(r.style.display="none")})),e.onclick=i=>{i.preventDefault(),r.style.display=r.style.display==="none"?"block":"none"}}tj(()=>{rj().catch(t=>{hg(t)})})})();
;
(function(){
                    const el = document.createElement("style");
                    el.innerText = "";
                    el.type = "text/css";
                    document.head.appendChild(el);
                })();