// ==UserScript==
// @name     Popgram
// @version  1.1
// @description Development mode for React Userscripts.
// @include https://*.popmundo.com/*
// @grant    none
// ==/UserScript==


var GM=Object.defineProperty;var KM=(di,Fn,hr)=>Fn in di?GM(di,Fn,{enumerable:!0,configurable:!0,writable:!0,value:hr}):di[Fn]=hr;var es=(di,Fn,hr)=>(KM(di,typeof Fn!="symbol"?Fn+"":Fn,hr),hr);(function(){"use strict";function di(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Fn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hr={exports:{}},yl={},gg={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),Ix=Symbol.for("react.portal"),xx=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),Px=Symbol.for("react.suspense"),Nx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),yg=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=yg&&t[yg]||t["@@iterator"],typeof t=="function"?t:null)}var vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_g=Object.assign,wg={};function ts(t,e,n){this.props=t,this.context=e,this.refs=wg,this.updater=n||vg}ts.prototype.isReactComponent={},ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Eg(){}Eg.prototype=ts.prototype;function xd(t,e,n){this.props=t,this.context=e,this.refs=wg,this.updater=n||vg}var Sd=xd.prototype=new Eg;Sd.constructor=xd,_g(Sd,ts.prototype),Sd.isPureReactComponent=!0;var Tg=Array.isArray,Ig=Object.prototype.hasOwnProperty,Cd={current:null},xg={key:!0,ref:!0,__self:!0,__source:!0};function Sg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ig.call(e,r)&&!xg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wo,type:t,key:s,ref:o,props:i,_owner:Cd.current}}function Lx(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kd(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function Vx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cg=/\/+/g;function Ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vx(""+t.key):e.toString(36)}function vl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wo:case Ix:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ad(o,0):r,Tg(i)?(n="",t!=null&&(n=t.replace(Cg,"$&/")+"/"),vl(i,e,n,"",function(c){return c})):i!=null&&(kd(i)&&(i=Lx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Ad(s,l);o+=vl(s,e,n,u,i)}else if(u=Dx(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Ad(s,l++),o+=vl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _l(t,e,n){if(t==null)return t;var r=[],i=0;return vl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},wl={transition:null},Ox={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Cd};function kg(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:_l,forEach:function(t,e,n){_l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _l(t,function(){e++}),e},toArray:function(t){return _l(t,function(e){return e})||[]},only:function(t){if(!kd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},re.Component=ts,re.Fragment=xx,re.Profiler=Cx,re.PureComponent=xd,re.StrictMode=Sx,re.Suspense=Px,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox,re.act=kg,re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_g({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Cd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Ig.call(e,u)&&!xg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:wo,type:t.type,key:i,ref:s,props:r,_owner:o}},re.createContext=function(t){return t={$$typeof:Ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kx,_context:t},t.Consumer=t},re.createElement=Sg,re.createFactory=function(t){var e=Sg.bind(null,t);return e.type=t,e},re.createRef=function(){return{current:null}},re.forwardRef=function(t){return{$$typeof:Rx,render:t}},re.isValidElement=kd,re.lazy=function(t){return{$$typeof:bx,_payload:{_status:-1,_result:t},_init:Mx}},re.memo=function(t,e){return{$$typeof:Nx,type:t,compare:e===void 0?null:e}},re.startTransition=function(t){var e=wl.transition;wl.transition={};try{t()}finally{wl.transition=e}},re.unstable_act=kg,re.useCallback=function(t,e){return St.current.useCallback(t,e)},re.useContext=function(t){return St.current.useContext(t)},re.useDebugValue=function(){},re.useDeferredValue=function(t){return St.current.useDeferredValue(t)},re.useEffect=function(t,e){return St.current.useEffect(t,e)},re.useId=function(){return St.current.useId()},re.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)},re.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)},re.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)},re.useMemo=function(t,e){return St.current.useMemo(t,e)},re.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)},re.useRef=function(t){return St.current.useRef(t)},re.useState=function(t){return St.current.useState(t)},re.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)},re.useTransition=function(){return St.current.useTransition()},re.version="18.3.1",gg.exports=re;var I=gg.exports;const j=Fn(I),Ag=di({__proto__:null,default:j},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=I,Fx=Symbol.for("react.element"),Ux=Symbol.for("react.fragment"),zx=Object.prototype.hasOwnProperty,Bx=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zx.call(e,r)&&!$x.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fx,type:t,key:s,ref:o,props:i,_owner:Bx.current}}yl.Fragment=Ux,yl.jsx=Rg,yl.jsxs=Rg,hr.exports=yl;var g=hr.exports,Pg={exports:{}},Ut={},Ng={exports:{}},bg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Z){var te=U.length;U.push(Z);e:for(;0<te;){var ve=te-1>>>1,he=U[ve];if(0<i(he,Z))U[ve]=Z,U[te]=he,te=ve;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],te=U.pop();if(te!==Z){U[0]=te;e:for(var ve=0,he=U.length,ie=he>>>1;ve<ie;){var Ve=2*(ve+1)-1,Ft=U[Ve],ln=Ve+1,me=U[ln];if(0>i(Ft,te))ln<he&&0>i(me,Ft)?(U[ve]=me,U[ln]=te,ve=ln):(U[ve]=Ft,U[Ve]=te,ve=Ve);else if(ln<he&&0>i(me,te))U[ve]=me,U[ln]=te,ve=ln;else break e}}return Z}function i(U,Z){var te=U.sortIndex-Z.sortIndex;return te!==0?te:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,p=null,f=3,_=!1,S=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=U)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function D(U){if(k=!1,x(U),!S)if(n(u)!==null)S=!0,Le(V);else{var Z=n(c);Z!==null&&ct(D,Z.startTime-U)}}function V(U,Z){S=!1,k&&(k=!1,v(y),y=-1),_=!0;var te=f;try{for(x(Z),p=n(u);p!==null&&(!(p.expirationTime>Z)||U&&!N());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,f=p.priorityLevel;var he=ve(p.expirationTime<=Z);Z=t.unstable_now(),typeof he=="function"?p.callback=he:p===n(u)&&r(u),x(Z)}else r(u);p=n(u)}if(p!==null)var ie=!0;else{var Ve=n(c);Ve!==null&&ct(D,Ve.startTime-Z),ie=!1}return ie}finally{p=null,f=te,_=!1}}var F=!1,C=null,y=-1,T=5,A=-1;function N(){return!(t.unstable_now()-A<T)}function b(){if(C!==null){var U=t.unstable_now();A=U;var Z=!0;try{Z=C(!0,U)}finally{Z?P():(F=!1,C=null)}}else F=!1}var P;if(typeof w=="function")P=function(){w(b)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,Et=ut.port2;ut.port1.onmessage=b,P=function(){Et.postMessage(null)}}else P=function(){R(b,0)};function Le(U){C=U,F||(F=!0,P())}function ct(U,Z){y=R(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,Le(V))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var te=f;f=Z;try{return U()}finally{f=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=f;f=U;try{return Z()}finally{f=te}},t.unstable_scheduleCallback=function(U,Z,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,U){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=te+he,U={id:h++,callback:Z,priorityLevel:U,startTime:te,expirationTime:he,sortIndex:-1},te>ve?(U.sortIndex=te,e(c,U),n(u)===null&&U===n(c)&&(k?(v(y),y=-1):k=!0,ct(D,te-ve))):(U.sortIndex=he,e(u,U),S||_||(S=!0,Le(V))),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var Z=f;return function(){var te=f;f=Z;try{return U.apply(this,arguments)}finally{f=te}}}})(bg),Ng.exports=bg;var Wx=Ng.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=I,zt=Wx;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dg=new Set,Eo={};function hi(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(Eo[t]=e,t=0;t<e.length;t++)Dg.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=Object.prototype.hasOwnProperty,qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},Vg={};function Gx(t){return Rd.call(Vg,t)?!0:Rd.call(Lg,t)?!1:qx.test(t)?Vg[t]=!0:(Lg[t]=!0,!1)}function Kx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qx(t,e,n,r){if(e===null||typeof e>"u"||Kx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new Ct(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new Ct(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new Ct(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new Ct(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){tt[t]=new Ct(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){tt[t]=new Ct(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){tt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pd=/[\-:]([a-z])/g;function Nd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pd,Nd);tt[e]=new Ct(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pd,Nd);tt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pd,Nd);tt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)}),tt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){tt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qx(e,n,i,r)&&(n=null),r||i===null?Gx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zn=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Md=Symbol.for("react.suspense"),Od=Symbol.for("react.suspense_list"),jd=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),jg=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Fd;function Io(t){if(Fd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fd=e&&e[1]||""}return`
`+Fd+t}var Ud=!1;function zd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Io(t):""}function Yx(t){switch(t.tag){case 5:return Io(t.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function Bd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case Ld:return"Profiler";case Dd:return"StrictMode";case Md:return"Suspense";case Od:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Og:return(t.displayName||"Context")+".Consumer";case Mg:return(t._context.displayName||"Context")+".Provider";case Vd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jd:return e=t.displayName||null,e!==null?e:Bd(t.type)||"Memo";case pr:e=t._payload,t=t._init;try{return Bd(t(e))}catch{}}return null}function Xx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(e);case 8:return e===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ug(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jx(t){var e=Ug(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=Jx(t))}function zg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ug(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $g(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function Wd(t,e){$g(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hd(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hd(t,e,n){(e!=="number"||Il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xo=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(xo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function qg(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xl,Qg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function So(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zx=["Webkit","ms","Moz","O"];Object.keys(Co).forEach(function(t){Zx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Co[e]=Co[t]})});function Yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Co.hasOwnProperty(t)&&Co[t]?(""+e).trim():e+"px"}function Xg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eS=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kd(t,e){if(e){if(eS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function Xd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jd=null,os=null,as=null;function Jg(t){if(t=Ko(t)){if(typeof Jd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Gl(e),Jd(t.stateNode,t.type,e))}}function Zg(t){os?as?as.push(t):as=[t]:os=t}function ey(){if(os){var t=os,e=as;if(as=os=null,Jg(t),e)for(t=0;t<e.length;t++)Jg(e[t])}}function ty(t,e){return t(e)}function ny(){}var Zd=!1;function ry(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return ty(t,e,n)}finally{Zd=!1,(os!==null||as!==null)&&(ny(),ey())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var r=Gl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var eh=!1;if(Un)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){eh=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{eh=!1}function tS(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ro=!1,Sl=null,Cl=!1,th=null,nS={onError:function(t){Ro=!0,Sl=t}};function rS(t,e,n,r,i,s,o,l,u){Ro=!1,Sl=null,tS.apply(nS,arguments)}function iS(t,e,n,r,i,s,o,l,u){if(rS.apply(this,arguments),Ro){if(Ro){var c=Sl;Ro=!1,Sl=null}else throw Error(B(198));Cl||(Cl=!0,th=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sy(t){if(pi(t)!==t)throw Error(B(188))}function sS(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sy(i),t;if(s===r)return sy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function oy(t){return t=sS(t),t!==null?ay(t):null}function ay(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ay(t);if(e!==null)return e;t=t.sibling}return null}var ly=zt.unstable_scheduleCallback,uy=zt.unstable_cancelCallback,oS=zt.unstable_shouldYield,aS=zt.unstable_requestPaint,je=zt.unstable_now,lS=zt.unstable_getCurrentPriorityLevel,nh=zt.unstable_ImmediatePriority,cy=zt.unstable_UserBlockingPriority,kl=zt.unstable_NormalPriority,uS=zt.unstable_LowPriority,dy=zt.unstable_IdlePriority,Al=null,xn=null;function cS(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Al,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:pS,dS=Math.log,hS=Math.LN2;function pS(t){return t>>>=0,t===0?32:31-(dS(t)/hS|0)|0}var Rl=64,Pl=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Po(l):(s&=o,s!==0&&(r=Po(s)))}else o=n&~i,o!==0?r=Po(o):s!==0&&(r=Po(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),i=1<<n,r|=t[n],e&=~i;return r}function fS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=fS(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function rh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hy(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function ih(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function gS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fy,oh,my,gy,yy,ah=!1,bl=[],mr=null,gr=null,yr=null,bo=new Map,Do=new Map,vr=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(t,e){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(e.pointerId)}}function Lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ko(e),e!==null&&oh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vS(t,e,n,r,i){switch(e){case"focusin":return mr=Lo(mr,t,e,n,r,i),!0;case"dragenter":return gr=Lo(gr,t,e,n,r,i),!0;case"mouseover":return yr=Lo(yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bo.set(s,Lo(bo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Do.set(s,Lo(Do.get(s)||null,t,e,n,r,i)),!0}return!1}function _y(t){var e=fi(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=iy(n),e!==null){t.blockedOn=e,yy(t.priority,function(){my(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yd=r,n.target.dispatchEvent(r),Yd=null}else return e=Ko(n),e!==null&&oh(e),t.blockedOn=n,!1;e.shift()}return!0}function wy(t,e,n){Dl(t)&&n.delete(e)}function _S(){ah=!1,mr!==null&&Dl(mr)&&(mr=null),gr!==null&&Dl(gr)&&(gr=null),yr!==null&&Dl(yr)&&(yr=null),bo.forEach(wy),Do.forEach(wy)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,ah||(ah=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,_S)))}function Mo(t){function e(i){return Vo(i,t)}if(0<bl.length){Vo(bl[0],t);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mr!==null&&Vo(mr,t),gr!==null&&Vo(gr,t),yr!==null&&Vo(yr,t),bo.forEach(e),Do.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)_y(n),n.blockedOn===null&&vr.shift()}var ls=zn.ReactCurrentBatchConfig,Ll=!0;function wS(t,e,n,r){var i=pe,s=ls.transition;ls.transition=null;try{pe=1,lh(t,e,n,r)}finally{pe=i,ls.transition=s}}function ES(t,e,n,r){var i=pe,s=ls.transition;ls.transition=null;try{pe=4,lh(t,e,n,r)}finally{pe=i,ls.transition=s}}function lh(t,e,n,r){if(Ll){var i=uh(t,e,n,r);if(i===null)Ch(t,e,r,Vl,n),vy(t,r);else if(vS(i,t,e,n,r))r.stopPropagation();else if(vy(t,r),e&4&&-1<yS.indexOf(t)){for(;i!==null;){var s=Ko(i);if(s!==null&&fy(s),s=uh(t,e,n,r),s===null&&Ch(t,e,r,Vl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ch(t,e,r,null,n)}}var Vl=null;function uh(t,e,n,r){if(Vl=null,t=Xd(r),t=fi(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vl=t,null}function Ey(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lS()){case nh:return 1;case cy:return 4;case kl:case uS:return 16;case dy:return 536870912;default:return 16}default:return 16}}var _r=null,ch=null,Ml=null;function Ty(){if(Ml)return Ml;var t,e=ch,n=e.length,r,i="value"in _r?_r.value:_r.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ml=i.slice(t,1<r?1-r:void 0)}function Ol(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Iy(){return!1}function Bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jl:Iy,this.isPropagationStopped=Iy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Bt(us),Oo=ke({},us,{view:0,detail:0}),TS=Bt(Oo),hh,ph,jo,Fl=ke({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(hh=t.screenX-jo.screenX,ph=t.screenY-jo.screenY):ph=hh=0,jo=t),hh)},movementY:function(t){return"movementY"in t?t.movementY:ph}}),xy=Bt(Fl),IS=ke({},Fl,{dataTransfer:0}),xS=Bt(IS),SS=ke({},Oo,{relatedTarget:0}),fh=Bt(SS),CS=ke({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=Bt(CS),AS=ke({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RS=Bt(AS),PS=ke({},us,{data:0}),Sy=Bt(PS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DS[t])?!!e[t]:!1}function mh(){return LS}var VS=ke({},Oo,{key:function(t){if(t.key){var e=NS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mh,charCode:function(t){return t.type==="keypress"?Ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MS=Bt(VS),OS=ke({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=Bt(OS),jS=ke({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mh}),FS=Bt(jS),US=ke({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),zS=Bt(US),BS=ke({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=Bt(BS),WS=[9,13,27,32],gh=Un&&"CompositionEvent"in window,Fo=null;Un&&"documentMode"in document&&(Fo=document.documentMode);var HS=Un&&"TextEvent"in window&&!Fo,ky=Un&&(!gh||Fo&&8<Fo&&11>=Fo),Ay=" ",Ry=!1;function Py(t,e){switch(t){case"keyup":return WS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function qS(t,e){switch(t){case"compositionend":return Ny(e);case"keypress":return e.which!==32?null:(Ry=!0,Ay);case"textInput":return t=e.data,t===Ay&&Ry?null:t;default:return null}}function GS(t,e){if(cs)return t==="compositionend"||!gh&&Py(t,e)?(t=Ty(),Ml=ch=_r=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ky&&e.locale!=="ko"?null:e.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KS[t.type]:e==="textarea"}function Dy(t,e,n,r){Zg(r),e=Wl(e,"onChange"),0<e.length&&(n=new dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uo=null,zo=null;function QS(t){Xy(t,0)}function Ul(t){var e=ms(t);if(zg(e))return t}function YS(t,e){if(t==="change")return e}var Ly=!1;if(Un){var yh;if(Un){var vh="oninput"in document;if(!vh){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),vh=typeof Vy.oninput=="function"}yh=vh}else yh=!1;Ly=yh&&(!document.documentMode||9<document.documentMode)}function My(){Uo&&(Uo.detachEvent("onpropertychange",Oy),zo=Uo=null)}function Oy(t){if(t.propertyName==="value"&&Ul(zo)){var e=[];Dy(e,zo,t,Xd(t)),ry(QS,e)}}function XS(t,e,n){t==="focusin"?(My(),Uo=e,zo=n,Uo.attachEvent("onpropertychange",Oy)):t==="focusout"&&My()}function JS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(zo)}function ZS(t,e){if(t==="click")return Ul(e)}function eC(t,e){if(t==="input"||t==="change")return Ul(e)}function tC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:tC;function Bo(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rd.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fy(t,e){var n=jy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jy(n)}}function Uy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zy(){for(var t=window,e=Il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Il(t.document)}return e}function _h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nC(t){var e=zy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uy(n.ownerDocument.documentElement,n)){if(r!==null&&_h(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fy(n,s);var o=Fy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rC=Un&&"documentMode"in document&&11>=document.documentMode,ds=null,wh=null,$o=null,Eh=!1;function By(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eh||ds==null||ds!==Il(r)||(r=ds,"selectionStart"in r&&_h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&Bo($o,r)||($o=r,r=Wl(wh,"onSelect"),0<r.length&&(e=new dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ds)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hs={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Th={},$y={};Un&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Bl(t){if(Th[t])return Th[t];if(!hs[t])return t;var e=hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $y)return Th[t]=e[n];return t}var Wy=Bl("animationend"),Hy=Bl("animationiteration"),qy=Bl("animationstart"),Gy=Bl("transitionend"),Ky=new Map,Qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,e){Ky.set(t,e),hi(e,[t])}for(var Ih=0;Ih<Qy.length;Ih++){var xh=Qy[Ih],iC=xh.toLowerCase(),sC=xh[0].toUpperCase()+xh.slice(1);wr(iC,"on"+sC)}wr(Wy,"onAnimationEnd"),wr(Hy,"onAnimationIteration"),wr(qy,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Gy,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iS(r,e,void 0,t),t.currentTarget=null}function Xy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Yy(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Yy(i,l,c),s=u}}}if(Cl)throw t=th,Cl=!1,th=null,t}function _e(t,e){var n=e[bh];n===void 0&&(n=e[bh]=new Set);var r=t+"__bubble";n.has(r)||(Jy(e,t,2,!1),n.add(r))}function Sh(t,e,n){var r=0;e&&(r|=4),Jy(n,t,r,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[$l]){t[$l]=!0,Dg.forEach(function(n){n!=="selectionchange"&&(oC.has(n)||Sh(n,!1,t),Sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,Sh("selectionchange",!1,e))}}function Jy(t,e,n,r){switch(Ey(e)){case 1:var i=wS;break;case 4:i=ES;break;default:i=lh}n=i.bind(null,e,n,t),i=void 0,!eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ch(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ry(function(){var c=s,h=Xd(n),p=[];e:{var f=Ky.get(t);if(f!==void 0){var _=dh,S=t;switch(t){case"keypress":if(Ol(n)===0)break e;case"keydown":case"keyup":_=MS;break;case"focusin":S="focus",_=fh;break;case"focusout":S="blur",_=fh;break;case"beforeblur":case"afterblur":_=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=FS;break;case Wy:case Hy:case qy:_=kS;break;case Gy:_=zS;break;case"scroll":_=TS;break;case"wheel":_=$S;break;case"copy":case"cut":case"paste":_=RS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Cy}var k=(e&4)!==0,R=!k&&t==="scroll",v=k?f!==null?f+"Capture":null:f;k=[];for(var w=c,x;w!==null;){x=w;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,v!==null&&(D=ko(w,v),D!=null&&k.push(qo(w,D,x)))),R)break;w=w.return}0<k.length&&(f=new _(f,S,null,n,h),p.push({event:f,listeners:k}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",f&&n!==Yd&&(S=n.relatedTarget||n.fromElement)&&(fi(S)||S[Bn]))break e;if((_||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=c,S=S?fi(S):null,S!==null&&(R=pi(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=c),_!==S)){if(k=xy,D="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=Cy,D="onPointerLeave",v="onPointerEnter",w="pointer"),R=_==null?f:ms(_),x=S==null?f:ms(S),f=new k(D,w+"leave",_,n,h),f.target=R,f.relatedTarget=x,D=null,fi(h)===c&&(k=new k(v,w+"enter",S,n,h),k.target=x,k.relatedTarget=R,D=k),R=D,_&&S)t:{for(k=_,v=S,w=0,x=k;x;x=ps(x))w++;for(x=0,D=v;D;D=ps(D))x++;for(;0<w-x;)k=ps(k),w--;for(;0<x-w;)v=ps(v),x--;for(;w--;){if(k===v||v!==null&&k===v.alternate)break t;k=ps(k),v=ps(v)}k=null}else k=null;_!==null&&Zy(p,f,_,k,!1),S!==null&&R!==null&&Zy(p,R,S,k,!0)}}e:{if(f=c?ms(c):window,_=f.nodeName&&f.nodeName.toLowerCase(),_==="select"||_==="input"&&f.type==="file")var V=YS;else if(by(f))if(Ly)V=eC;else{V=JS;var F=XS}else(_=f.nodeName)&&_.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=ZS);if(V&&(V=V(t,c))){Dy(p,V,n,h);break e}F&&F(t,f,c),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Hd(f,"number",f.value)}switch(F=c?ms(c):window,t){case"focusin":(by(F)||F.contentEditable==="true")&&(ds=F,wh=c,$o=null);break;case"focusout":$o=wh=ds=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,By(p,n,h);break;case"selectionchange":if(rC)break;case"keydown":case"keyup":By(p,n,h)}var C;if(gh)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else cs?Py(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(ky&&n.locale!=="ko"&&(cs||y!=="onCompositionStart"?y==="onCompositionEnd"&&cs&&(C=Ty()):(_r=h,ch="value"in _r?_r.value:_r.textContent,cs=!0)),F=Wl(c,y),0<F.length&&(y=new Sy(y,t,null,n,h),p.push({event:y,listeners:F}),C?y.data=C:(C=Ny(n),C!==null&&(y.data=C)))),(C=HS?qS(t,n):GS(t,n))&&(c=Wl(c,"onBeforeInput"),0<c.length&&(h=new Sy("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=C))}Xy(p,e)})}function qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ko(t,n),s!=null&&r.unshift(qo(t,s,i)),s=ko(t,e),s!=null&&r.push(qo(t,s,i))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=ko(n,s),u!=null&&o.unshift(qo(n,u,l))):i||(u=ko(n,s),u!=null&&o.push(qo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(aC,`
`).replace(lC,"")}function Hl(t,e,n){if(e=ev(e),ev(t)!==e&&n)throw Error(B(425))}function ql(){}var kh=null,Ah=null;function Rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,cC=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(dC)}:Ph;function dC(t){setTimeout(function(){throw t})}function Nh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mo(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Sn="__reactFiber$"+fs,Go="__reactProps$"+fs,Bn="__reactContainer$"+fs,bh="__reactEvents$"+fs,hC="__reactListeners$"+fs,pC="__reactHandles$"+fs;function fi(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nv(t);t!==null;){if(n=t[Sn])return n;t=nv(t)}return e}t=n,n=t.parentNode}return null}function Ko(t){return t=t[Sn]||t[Bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Gl(t){return t[Go]||null}var Dh=[],gs=-1;function Tr(t){return{current:t}}function we(t){0>gs||(t.current=Dh[gs],Dh[gs]=null,gs--)}function ye(t,e){gs++,Dh[gs]=t.current,t.current=e}var Ir={},ht=Tr(Ir),Dt=Tr(!1),mi=Ir;function ys(t,e){var n=t.type.contextTypes;if(!n)return Ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(t){return t=t.childContextTypes,t!=null}function Kl(){we(Dt),we(ht)}function rv(t,e,n){if(ht.current!==Ir)throw Error(B(168));ye(ht,e),ye(Dt,n)}function iv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Xx(t)||"Unknown",i));return ke({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,mi=ht.current,ye(ht,t),ye(Dt,Dt.current),!0}function sv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=iv(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,we(Dt),we(ht),ye(ht,t)):we(Dt),ye(Dt,n)}var $n=null,Yl=!1,Lh=!1;function ov(t){$n===null?$n=[t]:$n.push(t)}function fC(t){Yl=!0,ov(t)}function xr(){if(!Lh&&$n!==null){Lh=!0;var t=0,e=pe;try{var n=$n;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,Yl=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),ly(nh,xr),i}finally{pe=e,Lh=!1}}return null}var vs=[],_s=0,Xl=null,Jl=0,Yt=[],Xt=0,gi=null,Wn=1,Hn="";function yi(t,e){vs[_s++]=Jl,vs[_s++]=Xl,Xl=t,Jl=e}function av(t,e,n){Yt[Xt++]=Wn,Yt[Xt++]=Hn,Yt[Xt++]=gi,gi=t;var r=Wn;t=Hn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wn=1<<32-un(e)+i|n<<i|r,Hn=s+t}else Wn=1<<s|n<<i|r,Hn=t}function Vh(t){t.return!==null&&(yi(t,1),av(t,1,0))}function Mh(t){for(;t===Xl;)Xl=vs[--_s],vs[_s]=null,Jl=vs[--_s],vs[_s]=null;for(;t===gi;)gi=Yt[--Xt],Yt[Xt]=null,Hn=Yt[--Xt],Yt[Xt]=null,Wn=Yt[--Xt],Yt[Xt]=null}var $t=null,Wt=null,Ie=!1,dn=null;function lv(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Wt=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:Wn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Wt=null,!0):!1;default:return!1}}function Oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jh(t){if(Ie){var e=Wt;if(e){var n=e;if(!uv(t,e)){if(Oh(t))throw Error(B(418));e=Er(n.nextSibling);var r=$t;e&&uv(t,e)?lv(r,n):(t.flags=t.flags&-4097|2,Ie=!1,$t=t)}}else{if(Oh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ie=!1,$t=t}}}function cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Zl(t){if(t!==$t)return!1;if(!Ie)return cv(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rh(t.type,t.memoizedProps)),e&&(e=Wt)){if(Oh(t))throw dv(),Error(B(418));for(;e;)lv(t,e),e=Er(e.nextSibling)}if(cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=$t?Er(t.stateNode.nextSibling):null;return!0}function dv(){for(var t=Wt;t;)t=Er(t.nextSibling)}function ws(){Wt=$t=null,Ie=!1}function Fh(t){dn===null?dn=[t]:dn.push(t)}var mC=zn.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hv(t){var e=t._init;return e(t._payload)}function pv(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=br(v,w),v.index=0,v.sibling=null,v}function s(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,w,x,D){return w===null||w.tag!==6?(w=Pp(x,v.mode,D),w.return=v,w):(w=i(w,x),w.return=v,w)}function u(v,w,x,D){var V=x.type;return V===is?h(v,w,x.props.children,D,x.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===pr&&hv(V)===w.type)?(D=i(w,x.props),D.ref=Qo(v,w,x),D.return=v,D):(D=xu(x.type,x.key,x.props,null,v.mode,D),D.ref=Qo(v,w,x),D.return=v,D)}function c(v,w,x,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Np(x,v.mode,D),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function h(v,w,x,D,V){return w===null||w.tag!==7?(w=Si(x,v.mode,D,V),w.return=v,w):(w=i(w,x),w.return=v,w)}function p(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pp(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case El:return x=xu(w.type,w.key,w.props,null,v.mode,x),x.ref=Qo(v,null,w),x.return=v,x;case rs:return w=Np(w,v.mode,x),w.return=v,w;case pr:var D=w._init;return p(v,D(w._payload),x)}if(xo(w)||To(w))return w=Si(w,v.mode,x,null),w.return=v,w;eu(v,w)}return null}function f(v,w,x,D){var V=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return V!==null?null:l(v,w,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case El:return x.key===V?u(v,w,x,D):null;case rs:return x.key===V?c(v,w,x,D):null;case pr:return V=x._init,f(v,w,V(x._payload),D)}if(xo(x)||To(x))return V!==null?null:h(v,w,x,D,null);eu(v,x)}return null}function _(v,w,x,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(x)||null,l(w,v,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case El:return v=v.get(D.key===null?x:D.key)||null,u(w,v,D,V);case rs:return v=v.get(D.key===null?x:D.key)||null,c(w,v,D,V);case pr:var F=D._init;return _(v,w,x,F(D._payload),V)}if(xo(D)||To(D))return v=v.get(x)||null,h(w,v,D,V,null);eu(w,D)}return null}function S(v,w,x,D){for(var V=null,F=null,C=w,y=w=0,T=null;C!==null&&y<x.length;y++){C.index>y?(T=C,C=null):T=C.sibling;var A=f(v,C,x[y],D);if(A===null){C===null&&(C=T);break}t&&C&&A.alternate===null&&e(v,C),w=s(A,w,y),F===null?V=A:F.sibling=A,F=A,C=T}if(y===x.length)return n(v,C),Ie&&yi(v,y),V;if(C===null){for(;y<x.length;y++)C=p(v,x[y],D),C!==null&&(w=s(C,w,y),F===null?V=C:F.sibling=C,F=C);return Ie&&yi(v,y),V}for(C=r(v,C);y<x.length;y++)T=_(C,v,y,x[y],D),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?y:T.key),w=s(T,w,y),F===null?V=T:F.sibling=T,F=T);return t&&C.forEach(function(N){return e(v,N)}),Ie&&yi(v,y),V}function k(v,w,x,D){var V=To(x);if(typeof V!="function")throw Error(B(150));if(x=V.call(x),x==null)throw Error(B(151));for(var F=V=null,C=w,y=w=0,T=null,A=x.next();C!==null&&!A.done;y++,A=x.next()){C.index>y?(T=C,C=null):T=C.sibling;var N=f(v,C,A.value,D);if(N===null){C===null&&(C=T);break}t&&C&&N.alternate===null&&e(v,C),w=s(N,w,y),F===null?V=N:F.sibling=N,F=N,C=T}if(A.done)return n(v,C),Ie&&yi(v,y),V;if(C===null){for(;!A.done;y++,A=x.next())A=p(v,A.value,D),A!==null&&(w=s(A,w,y),F===null?V=A:F.sibling=A,F=A);return Ie&&yi(v,y),V}for(C=r(v,C);!A.done;y++,A=x.next())A=_(C,v,y,A.value,D),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?y:A.key),w=s(A,w,y),F===null?V=A:F.sibling=A,F=A);return t&&C.forEach(function(b){return e(v,b)}),Ie&&yi(v,y),V}function R(v,w,x,D){if(typeof x=="object"&&x!==null&&x.type===is&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case El:e:{for(var V=x.key,F=w;F!==null;){if(F.key===V){if(V=x.type,V===is){if(F.tag===7){n(v,F.sibling),w=i(F,x.props.children),w.return=v,v=w;break e}}else if(F.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===pr&&hv(V)===F.type){n(v,F.sibling),w=i(F,x.props),w.ref=Qo(v,F,x),w.return=v,v=w;break e}n(v,F);break}else e(v,F);F=F.sibling}x.type===is?(w=Si(x.props.children,v.mode,D,x.key),w.return=v,v=w):(D=xu(x.type,x.key,x.props,null,v.mode,D),D.ref=Qo(v,w,x),D.return=v,v=D)}return o(v);case rs:e:{for(F=x.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Np(x,v.mode,D),w.return=v,v=w}return o(v);case pr:return F=x._init,R(v,w,F(x._payload),D)}if(xo(x))return S(v,w,x,D);if(To(x))return k(v,w,x,D);eu(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,x),w.return=v,v=w):(n(v,w),w=Pp(x,v.mode,D),w.return=v,v=w),o(v)):n(v,w)}return R}var Es=pv(!0),fv=pv(!1),tu=Tr(null),nu=null,Ts=null,Uh=null;function zh(){Uh=Ts=nu=null}function Bh(t){var e=tu.current;we(tu),t._currentValue=e}function $h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){nu=t,Uh=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Uh!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(nu===null)throw Error(B(308));Ts=t,nu.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var vi=null;function Wh(t){vi===null?vi=[t]:vi.push(t)}function mv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wh(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,Wh(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sh(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iu(t,e,n,r){var i=t.updateQueue;Sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,h=c=u=null,l=s;do{var f=l.lane,_=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,k=l;switch(f=e,_=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){p=S.call(_,p,f);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,f=typeof S=="function"?S.call(_,p,f):S,f==null)break e;p=ke({},p,f);break e;case 2:Sr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else _={eventTime:_,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=_,u=p):h=h.next=_,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ei|=o,t.lanes=o,t.memoizedState=p}}function vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Yo={},Cn=Tr(Yo),Xo=Tr(Yo),Jo=Tr(Yo);function _i(t){if(t===Yo)throw Error(B(174));return t}function qh(t,e){switch(ye(Jo,e),ye(Xo,t),ye(Cn,Yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gd(e,t)}we(Cn),ye(Cn,e)}function xs(){we(Cn),we(Xo),we(Jo)}function _v(t){_i(Jo.current);var e=_i(Cn.current),n=Gd(e,t.type);e!==n&&(ye(Xo,t),ye(Cn,n))}function Gh(t){Xo.current===t&&(we(Cn),we(Xo))}var Ae=Tr(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function Qh(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var ou=zn.ReactCurrentDispatcher,Yh=zn.ReactCurrentBatchConfig,wi=0,Re=null,He=null,Ye=null,au=!1,Zo=!1,ea=0,gC=0;function pt(){throw Error(B(321))}function Xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function Jh(t,e,n,r,i,s){if(wi=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?wC:EC,t=n(r,i),Zo){s=0;do{if(Zo=!1,ea=0,25<=s)throw Error(B(301));s+=1,Ye=He=null,e.updateQueue=null,ou.current=TC,t=n(r,i)}while(Zo)}if(ou.current=cu,e=He!==null&&He.next!==null,wi=0,Ye=He=Re=null,au=!1,e)throw Error(B(300));return t}function Zh(){var t=ea!==0;return ea=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Zt(){if(He===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Ye===null?Re.memoizedState:Ye.next;if(e!==null)Ye=e,He=t;else{if(t===null)throw Error(B(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function ta(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=Zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var h=c.lane;if((wi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Re.lanes|=h,Ei|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,cn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Ei|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=Zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cn(s,e.memoizedState)||(Vt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wv(){}function Ev(t,e){var n=Re,r=Zt(),i=e(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Vt=!0),r=r.queue,np(xv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,na(9,Iv.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(B(349));wi&30||Tv(n,e,i)}return i}function Tv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Iv(t,e,n,r){e.value=n,e.getSnapshot=r,Sv(e)&&Cv(t)}function xv(t,e,n){return n(function(){Sv(e)&&Cv(t)})}function Sv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function Cv(t){var e=qn(t,1);e!==null&&mn(e,t,1,-1)}function kv(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e.queue=t,t=t.dispatch=_C.bind(null,Re,t),[e.memoizedState,t]}function na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Av(){return Zt().memoizedState}function lu(t,e,n,r){var i=kn();Re.flags|=t,i.memoizedState=na(1|e,n,void 0,r===void 0?null:r)}function uu(t,e,n,r){var i=Zt();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Xh(r,o.deps)){i.memoizedState=na(e,n,s,r);return}}Re.flags|=t,i.memoizedState=na(1|e,n,s,r)}function Rv(t,e){return lu(8390656,8,t,e)}function np(t,e){return uu(2048,8,t,e)}function Pv(t,e){return uu(4,2,t,e)}function Nv(t,e){return uu(4,4,t,e)}function bv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dv(t,e,n){return n=n!=null?n.concat([t]):null,uu(4,4,bv.bind(null,e,t),n)}function rp(){}function Lv(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vv(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Mv(t,e,n){return wi&21?(cn(n,e)||(n=hy(),Re.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function yC(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Yh.transition;Yh.transition={};try{t(!1),e()}finally{pe=n,Yh.transition=r}}function Ov(){return Zt().memoizedState}function vC(t,e,n){var r=Pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jv(t))Fv(e,n);else if(n=mv(t,e,n,r),n!==null){var i=At();mn(n,t,r,i),Uv(n,e,r)}}function _C(t,e,n){var r=Pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jv(t))Fv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,cn(l,o)){var u=e.interleaved;u===null?(i.next=i,Wh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=mv(t,e,i,r),n!==null&&(i=At(),mn(n,t,r,i),Uv(n,e,r))}}function jv(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Fv(t,e){Zo=au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sh(t,n)}}var cu={readContext:Jt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},wC={readContext:Jt,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:Rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lu(4194308,4,bv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return lu(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vC.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:rp,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=yC.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=kn();if(Ie){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Xe===null)throw Error(B(349));wi&30||Tv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rv(xv.bind(null,r,s,t),[t]),r.flags|=2048,na(9,Iv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=Xe.identifierPrefix;if(Ie){var n=Hn,r=Wn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ea++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EC={readContext:Jt,useCallback:Lv,useContext:Jt,useEffect:np,useImperativeHandle:Dv,useInsertionEffect:Pv,useLayoutEffect:Nv,useMemo:Vv,useReducer:ep,useRef:Av,useState:function(){return ep(ta)},useDebugValue:rp,useDeferredValue:function(t){var e=Zt();return Mv(e,He.memoizedState,t)},useTransition:function(){var t=ep(ta)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:wv,useSyncExternalStore:Ev,useId:Ov,unstable_isNewReconciler:!1},TC={readContext:Jt,useCallback:Lv,useContext:Jt,useEffect:np,useImperativeHandle:Dv,useInsertionEffect:Pv,useLayoutEffect:Nv,useMemo:Vv,useReducer:tp,useRef:Av,useState:function(){return tp(ta)},useDebugValue:rp,useDeferredValue:function(t){var e=Zt();return He===null?e.memoizedState=t:Mv(e,He.memoizedState,t)},useTransition:function(){var t=tp(ta)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:wv,useSyncExternalStore:Ev,useId:Ov,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var du={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),i=Pr(t),s=Gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Cr(t,s,i),e!==null&&(mn(e,t,i,r),ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),i=Pr(t),s=Gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Cr(t,s,i),e!==null&&(mn(e,t,i,r),ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=Pr(t),i=Gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cr(t,i,r),e!==null&&(mn(e,t,r,n),ru(e,t,r))}};function zv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,r)||!Bo(i,s):!0}function Bv(t,e,n){var r=!1,i=Ir,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=Lt(e)?mi:ht.current,r=e.contextTypes,s=(r=r!=null)?ys(t,i):Ir),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&du.enqueueReplaceState(e,e.state,null)}function sp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=Lt(e)?mi:ht.current,i.context=ys(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&du.enqueueReplaceState(i,i.state,null),iu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",r=e;do n+=Yx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IC=typeof WeakMap=="function"?WeakMap:Map;function Wv(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vu||(vu=!0,Tp=r),ap(t,e)},n}function Hv(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OC.bind(null,t,e,n),e.then(t,t))}function Gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,Cr(n,e,1))),n.lanes|=1),t)}var xC=zn.ReactCurrentOwner,Vt=!1;function kt(t,e,n,r){e.child=t===null?fv(e,null,n,r):Es(e,t.child,n,r)}function Qv(t,e,n,r,i){n=n.render;var s=e.ref;return Is(e,i),r=Jh(t,e,n,r,s,i),n=Zh(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Ie&&n&&Vh(e),e.flags|=1,kt(t,e,r,i),e.child)}function Yv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Rp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xv(t,e,s,r,i)):(t=xu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(o,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=br(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bo(s,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return lp(t,e,n,r,i)}function Jv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ks,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(ks,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(ks,Ht),Ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(ks,Ht),Ht|=r;return kt(t,e,i,n),e.child}function Zv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lp(t,e,n,r,i){var s=Lt(n)?mi:ht.current;return s=ys(e,s),Is(e,i),n=Jh(t,e,n,r,s,i),r=Zh(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(Ie&&r&&Vh(e),e.flags|=1,kt(t,e,n,i),e.child)}function e_(t,e,n,r,i){if(Lt(n)){var s=!0;Ql(e)}else s=!1;if(Is(e,i),e.stateNode===null)pu(t,e),Bv(e,n,r),sp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=Lt(n)?mi:ht.current,c=ys(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&$v(e,o,r,c),Sr=!1;var f=e.memoizedState;o.state=f,iu(e,r,o,i),u=e.memoizedState,l!==r||f!==u||Dt.current||Sr?(typeof h=="function"&&(ip(e,n,h,r),u=e.memoizedState),(l=Sr||zv(e,n,l,r,f,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gv(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:hn(e.type,l),o.props=c,p=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jt(u):(u=Lt(n)?mi:ht.current,u=ys(e,u));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==u)&&$v(e,o,r,u),Sr=!1,f=e.memoizedState,o.state=f,iu(e,r,o,i);var S=e.memoizedState;l!==p||f!==S||Dt.current||Sr?(typeof _=="function"&&(ip(e,n,_,r),S=e.memoizedState),(c=Sr||zv(e,n,c,r,f,S,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return up(t,e,n,r,s,i)}function up(t,e,n,r,i,s){Zv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sv(e,n,!1),Kn(t,e,s);r=e.stateNode,xC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,l,s)):kt(t,e,l,s),e.memoizedState=r.state,i&&sv(e,n,!0),e.child}function t_(t){var e=t.stateNode;e.pendingContext?rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rv(t,e.context,!1),qh(t,e.containerInfo)}function n_(t,e,n,r,i){return ws(),Fh(i),e.flags|=256,kt(t,e,n,r),e.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function r_(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(Ae,i&1),t===null)return jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Su(o,r,0,null),t=Si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dp(n),e.memoizedState=cp,t):hp(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return SC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=br(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=br(l,s):(s=Si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cp,r}return s=t.child,t=s.sibling,r=br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hp(t,e){return e=Su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hu(t,e,n,r){return r!==null&&Fh(r),Es(e,t.child,null,n),t=hp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=op(Error(B(422))),hu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Su({mode:"visible",children:r.children},i,0,null),s=Si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Es(e,t.child,null,o),e.child.memoizedState=dp(o),e.memoizedState=cp,s);if(!(e.mode&1))return hu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=op(s,r,void 0),hu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vt||l){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),mn(r,t,i,-1))}return Ap(),r=op(Error(B(421))),hu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=Er(i.nextSibling),$t=e,Ie=!0,dn=null,t!==null&&(Yt[Xt++]=Wn,Yt[Xt++]=Hn,Yt[Xt++]=gi,Wn=t.id,Hn=t.overflow,gi=e),e=hp(e,r.children),e.flags|=4096,e)}function i_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$h(t.return,e,n)}function pp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function s_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,n,e);else if(t.tag===19)i_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),pp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&su(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}pp(e,!0,n,null,s);break;case"together":pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CC(t,e,n){switch(e.tag){case 3:t_(e),ws();break;case 5:_v(e);break;case 1:Lt(e.type)&&Ql(e);break;case 4:qh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(tu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?r_(t,e,n):(ye(Ae,Ae.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);ye(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,Jv(t,e,n)}return Kn(t,e,n)}var o_,fp,a_,l_;o_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fp=function(){},a_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i(Cn.current);var s=null;switch(n){case"input":i=$d(t,i),r=$d(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=qd(t,i),r=qd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ql)}Kd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&_e("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},l_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ra(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kC(t,e,n){var r=e.pendingProps;switch(Mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Lt(e.type)&&Kl(),ft(e),null;case 3:return r=e.stateNode,xs(),we(Dt),we(ht),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Sp(dn),dn=null))),fp(t,e),ft(e),null;case 5:Gh(e);var i=_i(Jo.current);if(n=e.type,t!==null&&e.stateNode!=null)a_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ft(e),null}if(t=_i(Cn.current),Zl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Go]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)_e(Wo[i],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Bg(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":Hg(r,s),_e("invalid",r)}Kd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,l,t),i=["children",""+l]):Eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Tl(r),Wg(r,s,!0);break;case"textarea":Tl(r),Gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ql)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Go]=r,o_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qd(n,r),n){case"dialog":_e("cancel",t),_e("close",t),i=r;break;case"iframe":case"object":case"embed":_e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)_e(Wo[i],t);i=r;break;case"source":_e("error",t),i=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),i=r;break;case"details":_e("toggle",t),i=r;break;case"input":Bg(t,r),i=$d(t,r),_e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Hg(t,r),i=qd(t,r),_e("invalid",t);break;default:i=r}Kd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Xg(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Qg(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&So(t,u):typeof u=="number"&&So(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&_e("scroll",t):u!=null&&bd(t,s,u,o))}switch(n){case"input":Tl(t),Wg(t,r,!1);break;case"textarea":Tl(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ss(t,!!r.multiple,s,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)l_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=_i(Jo.current),_i(Cn.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return ft(e),null;case 13:if(we(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Wt!==null&&e.mode&1&&!(e.flags&128))dv(),ws(),e.flags|=98560,s=!1;else if(s=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Sn]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else dn!==null&&(Sp(dn),dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?qe===0&&(qe=3):Ap())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return xs(),fp(t,e),t===null&&Ho(e.stateNode.containerInfo),ft(e),null;case 10:return Bh(e.type._context),ft(e),null;case 17:return Lt(e.type)&&Kl(),ft(e),null;case 19:if(we(Ae),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ra(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=su(t),o!==null){for(e.flags|=128,ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>As&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=su(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return ft(e),null}else 2*je()-s.renderingStartTime>As&&n!==1073741824&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=Ae.current,ye(Ae,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return kp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function AC(t,e){switch(Mh(e),e.tag){case 1:return Lt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xs(),we(Dt),we(ht),Qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gh(e),null;case 13:if(we(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ae),null;case 4:return xs(),null;case 10:return Bh(e.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var fu=!1,mt=!1,RC=typeof WeakSet=="function"?WeakSet:Set,q=null;function Cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function mp(t,e,n){try{n()}catch(r){Me(t,e,r)}}var u_=!1;function PC(t,e){if(kh=Ll,t=zy(),_h(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,p=t,f=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)f=p,p=_;for(;;){if(p===t)break t;if(f===n&&++c===i&&(l=o),f===s&&++h===r&&(u=o),(_=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:t,selectionRange:n},Ll=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,R=S.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?k:hn(e.type,k),R);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Me(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return S=u_,u_=!1,S}function ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mp(e,n,s)}i=i.next}while(i!==r)}}function mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c_(t){var e=t.alternate;e!==null&&(t.alternate=null,c_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Go],delete e[bh],delete e[hC],delete e[pC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d_(t){return t.tag===5||t.tag===3||t.tag===4}function h_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ql));else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}var nt=null,pn=!1;function kr(t,e,n){for(n=n.child;n!==null;)p_(t,e,n),n=n.sibling}function p_(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:mt||Cs(n,e);case 6:var r=nt,i=pn;nt=null,kr(t,e,n),nt=r,pn=i,nt!==null&&(pn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(pn?(t=nt,n=n.stateNode,t.nodeType===8?Nh(t.parentNode,n):t.nodeType===1&&Nh(t,n),Mo(t)):Nh(nt,n.stateNode));break;case 4:r=nt,i=pn,nt=n.stateNode.containerInfo,pn=!0,kr(t,e,n),nt=r,pn=i;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mp(n,e,o),i=i.next}while(i!==r)}kr(t,e,n);break;case 1:if(!mt&&(Cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,e,l)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,kr(t,e,n),mt=r):kr(t,e,n);break;default:kr(t,e,n)}}function f_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RC),e.forEach(function(r){var i=FC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:nt=l.stateNode,pn=!1;break e;case 3:nt=l.stateNode.containerInfo,pn=!0;break e;case 4:nt=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(nt===null)throw Error(B(160));p_(s,o,i),nt=null,pn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m_(e,t),e=e.sibling}function m_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),An(t),r&4){try{ia(3,t,t.return),mu(3,t)}catch(k){Me(t,t.return,k)}try{ia(5,t,t.return)}catch(k){Me(t,t.return,k)}}break;case 1:fn(e,t),An(t),r&512&&n!==null&&Cs(n,n.return);break;case 5:if(fn(e,t),An(t),r&512&&n!==null&&Cs(n,n.return),t.flags&32){var i=t.stateNode;try{So(i,"")}catch(k){Me(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$g(i,s),Qd(l,o);var c=Qd(l,s);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?Xg(i,p):h==="dangerouslySetInnerHTML"?Qg(i,p):h==="children"?So(i,p):bd(i,h,p,c)}switch(l){case"input":Wd(i,s);break;case"textarea":qg(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ss(i,!!s.multiple,_,!1):f!==!!s.multiple&&(s.defaultValue!=null?ss(i,!!s.multiple,s.defaultValue,!0):ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[Go]=s}catch(k){Me(t,t.return,k)}}break;case 6:if(fn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Me(t,t.return,k)}}break;case 3:if(fn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mo(e.containerInfo)}catch(k){Me(t,t.return,k)}break;case 4:fn(e,t),An(t);break;case 13:fn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ep=je())),r&4&&f_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(c=mt)||h,fn(e,t),mt=c):fn(e,t),An(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(p=q=h;q!==null;){switch(f=q,_=f.child,f.tag){case 0:case 11:case 14:case 15:ia(4,f,f.return);break;case 1:Cs(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(k){Me(r,n,k)}}break;case 5:Cs(f,f.return);break;case 22:if(f.memoizedState!==null){v_(p);continue}}_!==null?(_.return=f,q=_):v_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Yg("display",o))}catch(k){Me(t,t.return,k)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Me(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fn(e,t),An(t),r&4&&f_(t);break;case 21:break;default:fn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(So(i,""),r.flags&=-33);var s=h_(t);vp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=h_(t);yp(t,l,o);break;default:throw Error(B(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NC(t,e,n){q=t,g_(t)}function g_(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||mt;l=fu;var c=mt;if(fu=o,(mt=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?__(i):u!==null?(u.return=o,q=u):__(i);for(;s!==null;)q=s,g_(s),s=s.sibling;q=i,fu=l,mt=c}y_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):y_(t)}}function y_(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||mu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Mo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}mt||e.flags&512&&gp(e)}catch(f){Me(e,e.return,f)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function v_(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function __(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mu(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Me(e,i,u)}}var s=e.return;try{gp(e)}catch(u){Me(e,s,u)}break;case 5:var o=e.return;try{gp(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var bC=Math.ceil,gu=zn.ReactCurrentDispatcher,_p=zn.ReactCurrentOwner,en=zn.ReactCurrentBatchConfig,ce=0,Xe=null,Ue=null,rt=0,Ht=0,ks=Tr(0),qe=0,sa=null,Ei=0,yu=0,wp=0,oa=null,Mt=null,Ep=0,As=1/0,Qn=null,vu=!1,Tp=null,Ar=null,_u=!1,Rr=null,wu=0,aa=0,Ip=null,Eu=-1,Tu=0;function At(){return ce&6?je():Eu!==-1?Eu:Eu=je()}function Pr(t){return t.mode&1?ce&2&&rt!==0?rt&-rt:mC.transition!==null?(Tu===0&&(Tu=hy()),Tu):(t=pe,t!==0||(t=window.event,t=t===void 0?16:Ey(t.type)),t):1}function mn(t,e,n,r){if(50<aa)throw aa=0,Ip=null,Error(B(185));No(t,n,r),(!(ce&2)||t!==Xe)&&(t===Xe&&(!(ce&2)&&(yu|=n),qe===4&&Nr(t,rt)),Ot(t,r),n===1&&ce===0&&!(e.mode&1)&&(As=je()+500,Yl&&xr()))}function Ot(t,e){var n=t.callbackNode;mS(t,e);var r=Nl(t,t===Xe?rt:0);if(r===0)n!==null&&uy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uy(n),e===1)t.tag===0?fC(E_.bind(null,t)):ov(E_.bind(null,t)),cC(function(){!(ce&6)&&xr()}),n=null;else{switch(py(r)){case 1:n=nh;break;case 4:n=cy;break;case 16:n=kl;break;case 536870912:n=dy;break;default:n=kl}n=R_(n,w_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w_(t,e){if(Eu=-1,Tu=0,ce&6)throw Error(B(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var r=Nl(t,t===Xe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Iu(t,r);else{e=r;var i=ce;ce|=2;var s=I_();(Xe!==t||rt!==e)&&(Qn=null,As=je()+500,Ii(t,e));do try{VC();break}catch(l){T_(t,l)}while(!0);zh(),gu.current=s,ce=i,Ue!==null?e=0:(Xe=null,rt=0,e=qe)}if(e!==0){if(e===2&&(i=rh(t),i!==0&&(r=i,e=xp(t,i))),e===1)throw n=sa,Ii(t,0),Nr(t,r),Ot(t,je()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!DC(i)&&(e=Iu(t,r),e===2&&(s=rh(t),s!==0&&(r=s,e=xp(t,s))),e===1))throw n=sa,Ii(t,0),Nr(t,r),Ot(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:xi(t,Mt,Qn);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=Ep+500-je(),10<e)){if(Nl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ph(xi.bind(null,t,Mt,Qn),e);break}xi(t,Mt,Qn);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bC(r/1960))-r,10<r){t.timeoutHandle=Ph(xi.bind(null,t,Mt,Qn),r);break}xi(t,Mt,Qn);break;case 5:xi(t,Mt,Qn);break;default:throw Error(B(329))}}}return Ot(t,je()),t.callbackNode===n?w_.bind(null,t):null}function xp(t,e){var n=oa;return t.current.memoizedState.isDehydrated&&(Ii(t,e).flags|=256),t=Iu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&Sp(e)),t}function Sp(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function DC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~wp,e&=~yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function E_(t){if(ce&6)throw Error(B(327));Rs();var e=Nl(t,0);if(!(e&1))return Ot(t,je()),null;var n=Iu(t,e);if(t.tag!==0&&n===2){var r=rh(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=sa,Ii(t,0),Nr(t,e),Ot(t,je()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,Mt,Qn),Ot(t,je()),null}function Cp(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(As=je()+500,Yl&&xr())}}function Ti(t){Rr!==null&&Rr.tag===0&&!(ce&6)&&Rs();var e=ce;ce|=1;var n=en.transition,r=pe;try{if(en.transition=null,pe=1,t)return t()}finally{pe=r,en.transition=n,ce=e,!(ce&6)&&xr()}}function kp(){Ht=ks.current,we(ks)}function Ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uC(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Mh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:xs(),we(Dt),we(ht),Qh();break;case 5:Gh(r);break;case 4:xs();break;case 13:we(Ae);break;case 19:we(Ae);break;case 10:Bh(r.type._context);break;case 22:case 23:kp()}n=n.return}if(Xe=t,Ue=t=br(t.current,null),rt=Ht=e,qe=0,sa=null,wp=yu=Ei=0,Mt=oa=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function T_(t,e){do{var n=Ue;try{if(zh(),ou.current=cu,au){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}au=!1}if(wi=0,Ye=He=Re=null,Zo=!1,ea=0,_p.current=null,n===null||n.return===null){qe=1,sa=e,Ue=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=rt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=Gv(o);if(_!==null){_.flags&=-257,Kv(_,o,l,s,e),_.mode&1&&qv(s,c,e),e=_,u=c;var S=e.updateQueue;if(S===null){var k=new Set;k.add(u),e.updateQueue=k}else S.add(u);break e}else{if(!(e&1)){qv(s,c,e),Ap();break e}u=Error(B(426))}}else if(Ie&&l.mode&1){var R=Gv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Kv(R,o,l,s,e),Fh(Ss(u,l));break e}}s=u=Ss(u,l),qe!==4&&(qe=2),oa===null?oa=[s]:oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Wv(s,u,e);yv(s,v);break e;case 1:l=u;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ar===null||!Ar.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Hv(s,l,e);yv(s,D);break e}}s=s.return}while(s!==null)}S_(n)}catch(V){e=V,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function I_(){var t=gu.current;return gu.current=cu,t===null?cu:t}function Ap(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(Ei&268435455)&&!(yu&268435455)||Nr(Xe,rt)}function Iu(t,e){var n=ce;ce|=2;var r=I_();(Xe!==t||rt!==e)&&(Qn=null,Ii(t,e));do try{LC();break}catch(i){T_(t,i)}while(!0);if(zh(),ce=n,gu.current=r,Ue!==null)throw Error(B(261));return Xe=null,rt=0,qe}function LC(){for(;Ue!==null;)x_(Ue)}function VC(){for(;Ue!==null&&!oS();)x_(Ue)}function x_(t){var e=A_(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?S_(t):Ue=e,_p.current=null}function S_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AC(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ue=null;return}}else if(n=kC(n,e,Ht),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);qe===0&&(qe=5)}function xi(t,e,n){var r=pe,i=en.transition;try{en.transition=null,pe=1,MC(t,e,n,r)}finally{en.transition=i,pe=r}return null}function MC(t,e,n,r){do Rs();while(Rr!==null);if(ce&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gS(t,s),t===Xe&&(Ue=Xe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,R_(kl,function(){return Rs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=pe;pe=1;var l=ce;ce|=4,_p.current=null,PC(t,n),m_(n,t),nC(Ah),Ll=!!kh,Ah=kh=null,t.current=n,NC(n),aS(),ce=l,pe=o,en.transition=s}else t.current=n;if(_u&&(_u=!1,Rr=t,wu=i),s=t.pendingLanes,s===0&&(Ar=null),cS(n.stateNode),Ot(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,t=Tp,Tp=null,t;return wu&1&&t.tag!==0&&Rs(),s=t.pendingLanes,s&1?t===Ip?aa++:(aa=0,Ip=t):aa=0,xr(),null}function Rs(){if(Rr!==null){var t=py(wu),e=en.transition,n=pe;try{if(en.transition=null,pe=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,wu=0,ce&6)throw Error(B(331));var i=ce;for(ce|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:ia(8,h,s)}var p=h.child;if(p!==null)p.return=h,q=p;else for(;q!==null;){h=q;var f=h.sibling,_=h.return;if(c_(h),h===c){q=null;break}if(f!==null){f.return=_,q=f;break}q=_}}}var S=s.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var R=k.sibling;k.sibling=null,k=R}while(k!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ia(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,q=v;break e}q=s.return}}var w=t.current;for(q=w;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=w;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mu(9,l)}}catch(V){Me(l,l.return,V)}if(l===o){q=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,q=D;break e}q=l.return}}if(ce=i,xr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Al,t)}catch{}r=!0}return r}finally{pe=n,en.transition=e}}return!1}function C_(t,e,n){e=Ss(n,e),e=Wv(t,e,1),t=Cr(t,e,1),e=At(),t!==null&&(No(t,1,e),Ot(t,e))}function Me(t,e,n){if(t.tag===3)C_(t,t,n);else for(;e!==null;){if(e.tag===3){C_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=Ss(n,t),t=Hv(e,t,1),e=Cr(e,t,1),t=At(),e!==null&&(No(e,1,t),Ot(e,t));break}}e=e.return}}function OC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(rt&n)===n&&(qe===4||qe===3&&(rt&130023424)===rt&&500>je()-Ep?Ii(t,0):wp|=n),Ot(t,e)}function k_(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=At();t=qn(t,e),t!==null&&(No(t,e,n),Ot(t,n))}function jC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k_(t,n)}function FC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),k_(t,n)}var A_;A_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,CC(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ie&&e.flags&1048576&&av(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pu(t,e),t=e.pendingProps;var i=ys(e,ht.current);Is(e,n),i=Jh(null,e,r,t,i,n);var s=Zh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(s=!0,Ql(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hh(e),i.updater=du,e.stateNode=i,i._reactInternals=e,sp(e,r,t,n),e=up(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&Vh(e),kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zC(r),t=hn(r,t),i){case 0:e=lp(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Qv(null,e,r,t,n);break e;case 14:e=Yv(null,e,r,hn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),lp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),e_(t,e,r,i,n);case 3:e:{if(t_(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gv(t,e),iu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ss(Error(B(423)),e),e=n_(t,e,r,n,i);break e}else if(r!==i){i=Ss(Error(B(424)),e),e=n_(t,e,r,n,i);break e}else for(Wt=Er(e.stateNode.containerInfo.firstChild),$t=e,Ie=!0,dn=null,n=fv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){e=Kn(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return _v(e),t===null&&jh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Rh(r,i)?o=null:s!==null&&Rh(r,s)&&(e.flags|=32),Zv(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&jh(e),null;case 13:return r_(t,e,n);case 4:return qh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Es(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Qv(t,e,r,i,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(tu,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!Dt.current){e=Kn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Gn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),$h(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$h(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Is(e,n),i=Jt(i),r=r(i),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),Yv(t,e,r,i,n);case 15:return Xv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),pu(t,e),e.tag=1,Lt(r)?(t=!0,Ql(e)):t=!1,Is(e,n),Bv(e,r,i),sp(e,r,i,n),up(null,e,r,!0,t,n);case 19:return s_(t,e,n);case 22:return Jv(t,e,n)}throw Error(B(156,e.tag))};function R_(t,e){return ly(t,e)}function UC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new UC(t,e,n,r)}function Rp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zC(t){if(typeof t=="function")return Rp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vd)return 11;if(t===jd)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Rp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case is:return Si(n.children,i,s,e);case Dd:o=8,i|=8;break;case Ld:return t=tn(12,n,e,i|2),t.elementType=Ld,t.lanes=s,t;case Md:return t=tn(13,n,e,i),t.elementType=Md,t.lanes=s,t;case Od:return t=tn(19,n,e,i),t.elementType=Od,t.lanes=s,t;case jg:return Su(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mg:o=10;break e;case Og:o=9;break e;case Vd:o=11;break e;case jd:o=14;break e;case pr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=tn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Si(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function Su(t,e,n,r){return t=tn(22,t,r,e),t.elementType=jg,t.lanes=n,t.stateNode={isHidden:!1},t}function Pp(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function Np(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bp(t,e,n,r,i,s,o,l,u){return t=new BC(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hh(s),t}function $C(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function P_(t){if(!t)return Ir;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Lt(n))return iv(t,n,e)}return e}function N_(t,e,n,r,i,s,o,l,u){return t=bp(n,r,!0,t,i,s,o,l,u),t.context=P_(null),n=t.current,r=At(),i=Pr(n),s=Gn(r,i),s.callback=e??null,Cr(n,s,i),t.current.lanes=i,No(t,i,r),Ot(t,r),t}function Cu(t,e,n,r){var i=e.current,s=At(),o=Pr(i);return n=P_(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cr(i,e,o),t!==null&&(mn(t,i,o,s),ru(t,i,o)),o}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dp(t,e){b_(t,e),(t=t.alternate)&&b_(t,e)}function WC(){return null}var D_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lp(t){this._internalRoot=t}Au.prototype.render=Lp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Cu(t,e,null,null)},Au.prototype.unmount=Lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){Cu(null,t,null,null)}),e[Bn]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var e=gy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&_y(t)}};function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L_(){}function HC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ku(o);s.call(c)}}var o=N_(e,r,t,0,null,!1,!1,"",L_);return t._reactRootContainer=o,t[Bn]=o.current,Ho(t.nodeType===8?t.parentNode:t),Ti(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=ku(u);l.call(c)}}var u=bp(t,0,!1,null,null,!1,!1,"",L_);return t._reactRootContainer=u,t[Bn]=u.current,Ho(t.nodeType===8?t.parentNode:t),Ti(function(){Cu(e,u,n,r)}),u}function Pu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ku(o);l.call(u)}}Cu(e,o,t,i)}else o=HC(n,e,t,i,r);return ku(o)}fy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(sh(e,n|1),Ot(e,je()),!(ce&6)&&(As=je()+500,xr()))}break;case 13:Ti(function(){var r=qn(t,1);if(r!==null){var i=At();mn(r,t,1,i)}}),Dp(t,1)}},oh=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=At();mn(e,t,134217728,n)}Dp(t,134217728)}},my=function(t){if(t.tag===13){var e=Pr(t),n=qn(t,e);if(n!==null){var r=At();mn(n,t,e,r)}Dp(t,e)}},gy=function(){return pe},yy=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}},Jd=function(t,e,n){switch(e){case"input":if(Wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gl(r);if(!i)throw Error(B(90));zg(r),Wd(r,i)}}}break;case"textarea":qg(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}},ty=Cp,ny=Ti;var qC={usingClientEntryPoint:!1,Events:[Ko,ms,Gl,Zg,ey,Cp]},la={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oy(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Al=Nu.inject(GC),xn=Nu}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC,Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(e))throw Error(B(200));return $C(t,e,null,n)},Ut.createRoot=function(t,e){if(!Vp(t))throw Error(B(299));var n=!1,r="",i=D_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bp(t,1,!1,null,null,n,!1,r,i),t[Bn]=e.current,Ho(t.nodeType===8?t.parentNode:t),new Lp(e)},Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=oy(e),t=t===null?null:t.stateNode,t},Ut.flushSync=function(t){return Ti(t)},Ut.hydrate=function(t,e,n){if(!Ru(e))throw Error(B(200));return Pu(null,t,e,!0,n)},Ut.hydrateRoot=function(t,e,n){if(!Vp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=D_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=N_(e,null,t,1,n??null,i,!1,s,o),t[Bn]=e.current,Ho(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Au(e)},Ut.render=function(t,e,n){if(!Ru(e))throw Error(B(200));return Pu(null,t,e,!1,n)},Ut.unmountComponentAtNode=function(t){if(!Ru(t))throw Error(B(40));return t._reactRootContainer?(Ti(function(){Pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Bn]=null})}),!0):!1},Ut.unstable_batchedUpdates=Cp,Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ru(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Pu(t,e,n,!1,r)},Ut.version="18.3.1-next-f1338f8080-20240426";function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(t){console.error(t)}}V_(),Pg.exports=Ut;var KC=Pg.exports,M_,O_=KC;M_=O_.createRoot,O_.hydrateRoot;function j_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F_(...t){return e=>{let n=!1;const r=t.map(i=>{const s=j_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():j_(t[i],null)}}}}function bu(...t){return I.useCallback(F_(...t),t)}function Du(t){const e=QC(t),n=I.forwardRef((r,i)=>{const{children:s,...o}=r,l=I.Children.toArray(s),u=l.find(XC);if(u){const c=u.props.children,h=l.map(p=>p===u?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:p);return g.jsx(e,{...o,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var U_=Du("Slot");function QC(t){const e=I.forwardRef((n,r)=>{const{children:i,...s}=n;if(I.isValidElement(i)){const o=ZC(i),l=JC(s,i.props);return i.type!==I.Fragment&&(l.ref=r?F_(r,o):o),I.cloneElement(i,l)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YC=Symbol("radix.slottable");function XC(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YC}function JC(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ZC(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function z_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=z_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function B_(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=z_(t))&&(r&&(r+=" "),r+=e);return r}const $_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,W_=B_,H_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return W_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],p=s==null?void 0:s[c];if(h===null)return null;const f=$_(h)||$_(p);return i[c][f]}),l=n&&Object.entries(n).reduce((c,h)=>{let[p,f]=h;return f===void 0||(c[p]=f),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:f,..._}=h;return Object.entries(_).every(S=>{let[k,R]=S;return Array.isArray(R)?R.includes({...s,...l}[k]):{...s,...l}[k]===R})?[...c,p,f]:c},[]);return W_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},Mp="-",ek=t=>{const e=nk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Mp);return l[0]===""&&l.length!==1&&l.shift(),q_(l,e)||tk(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},q_=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?q_(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Mp);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},G_=/^\[(.+)\]$/,tk=t=>{if(G_.test(t)){const e=G_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Op(n[i],r,i,e);return r},Op=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:K_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(rk(i)){Op(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Op(o,K_(e,s),n,r)})})},K_=(t,e)=>{let n=t;return e.split(Mp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rk=t=>t.isThemeGetter,ik=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},jp="!",Fp=":",sk=Fp.length,ok=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,u=0,c;for(let S=0;S<i.length;S++){let k=i[S];if(o===0&&l===0){if(k===Fp){s.push(i.slice(u,S)),u=S+sk;continue}if(k==="/"){c=S;continue}}k==="["?o++:k==="]"?o--:k==="("?l++:k===")"&&l--}const h=s.length===0?i:i.substring(u),p=ak(h),f=p!==h,_=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:_}};if(e){const i=e+Fp,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},ak=t=>t.endsWith(jp)?t.substring(0,t.length-1):t.startsWith(jp)?t.substring(1):t,lk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},uk=t=>({cache:ik(t.cacheSize),parseClassName:ok(t),sortModifiers:lk(t),...ek(t)}),ck=/\s+/,dk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(ck);let u="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{isExternal:p,modifiers:f,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:k}=n(h);if(p){u=h+(u.length>0?" "+u:u);continue}let R=!!k,v=r(R?S.substring(0,k):S);if(!v){if(!R){u=h+(u.length>0?" "+u:u);continue}if(v=r(S),!v){u=h+(u.length>0?" "+u:u);continue}R=!1}const w=s(f).join(":"),x=_?w+jp:w,D=x+v;if(o.includes(D))continue;o.push(D);const V=i(v,R);for(let F=0;F<V.length;++F){const C=V[F];o.push(x+C)}u=h+(u.length>0?" "+u:u)}return u};function hk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Q_(e))&&(r&&(r+=" "),r+=n);return r}const Q_=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Q_(t[r]))&&(n&&(n+=" "),n+=e);return n};function pk(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((h,p)=>p(h),t());return n=uk(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const c=r(u);if(c)return c;const h=dk(u,n);return i(u,h),h}return function(){return s(hk.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Y_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,X_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fk=/^\d+\/\d+$/,mk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_k=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>fk.test(t),ne=t=>!!t&&!Number.isNaN(Number(t)),Dr=t=>!!t&&Number.isInteger(Number(t)),Up=t=>t.endsWith("%")&&ne(t.slice(0,-1)),Yn=t=>mk.test(t),wk=()=>!0,Ek=t=>gk.test(t)&&!yk.test(t),J_=()=>!1,Tk=t=>vk.test(t),Ik=t=>_k.test(t),xk=t=>!G(t)&&!K(t),Sk=t=>Ns(t,r0,J_),G=t=>Y_.test(t),Ci=t=>Ns(t,i0,Ek),zp=t=>Ns(t,Pk,ne),Z_=t=>Ns(t,t0,J_),Ck=t=>Ns(t,n0,Ik),Lu=t=>Ns(t,s0,Tk),K=t=>X_.test(t),ua=t=>bs(t,i0),kk=t=>bs(t,Nk),e0=t=>bs(t,t0),Ak=t=>bs(t,r0),Rk=t=>bs(t,n0),Vu=t=>bs(t,s0,!0),Ns=(t,e,n)=>{const r=Y_.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},bs=(t,e,n=!1)=>{const r=X_.exec(t);return r?r[1]?e(r[1]):n:!1},t0=t=>t==="position"||t==="percentage",n0=t=>t==="image"||t==="url",r0=t=>t==="length"||t==="size"||t==="bg-size",i0=t=>t==="length",Pk=t=>t==="number",Nk=t=>t==="family-name",s0=t=>t==="shadow",bk=pk(()=>{const t=Ge("color"),e=Ge("font"),n=Ge("text"),r=Ge("font-weight"),i=Ge("tracking"),s=Ge("leading"),o=Ge("breakpoint"),l=Ge("container"),u=Ge("spacing"),c=Ge("radius"),h=Ge("shadow"),p=Ge("inset-shadow"),f=Ge("text-shadow"),_=Ge("drop-shadow"),S=Ge("blur"),k=Ge("perspective"),R=Ge("aspect"),v=Ge("ease"),w=Ge("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...D(),K,G],F=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],y=()=>[K,G,u],T=()=>[Ps,"full","auto",...y()],A=()=>[Dr,"none","subgrid",K,G],N=()=>["auto",{span:["full",Dr,K,G]},Dr,K,G],b=()=>[Dr,"auto",K,G],P=()=>["auto","min","max","fr",K,G],ut=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Et=()=>["start","end","center","stretch","center-safe","end-safe"],Le=()=>["auto",...y()],ct=()=>[Ps,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],U=()=>[t,K,G],Z=()=>[...D(),e0,Z_,{position:[K,G]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ve=()=>["auto","cover","contain",Ak,Sk,{size:[K,G]}],he=()=>[Up,ua,Ci],ie=()=>["","none","full",c,K,G],Ve=()=>["",ne,ua,Ci],Ft=()=>["solid","dashed","dotted","double"],ln=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[ne,Up,e0,Z_],ad=()=>["","none",S,K,G],mo=()=>["none",ne,K,G],ur=()=>["none",ne,K,G],oi=()=>[ne,K,G],ai=()=>[Ps,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yn],breakpoint:[Yn],color:[wk],container:[Yn],"drop-shadow":[Yn],ease:["in","out","in-out"],font:[xk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yn],shadow:[Yn],spacing:["px",ne],text:[Yn],"text-shadow":[Yn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ps,G,K,R]}],container:["container"],columns:[{columns:[ne,G,K,l]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Dr,"auto",K,G]}],basis:[{basis:[Ps,"full","auto",l,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ne,Ps,"auto","initial","none",G]}],grow:[{grow:["",ne,K,G]}],shrink:[{shrink:["",ne,K,G]}],order:[{order:[Dr,"first","last","none",K,G]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":b()}],"col-end":[{"col-end":b()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":b()}],"row-end":[{"row-end":b()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...ut(),"normal"]}],"justify-items":[{"justify-items":[...Et(),"normal"]}],"justify-self":[{"justify-self":["auto",...Et()]}],"align-content":[{content:["normal",...ut()]}],"align-items":[{items:[...Et(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Et(),{baseline:["","last"]}]}],"place-content":[{"place-content":ut()}],"place-items":[{"place-items":[...Et(),"baseline"]}],"place-self":[{"place-self":["auto",...Et()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:Le()}],mx:[{mx:Le()}],my:[{my:Le()}],ms:[{ms:Le()}],me:[{me:Le()}],mt:[{mt:Le()}],mr:[{mr:Le()}],mb:[{mb:Le()}],ml:[{ml:Le()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:ct()}],w:[{w:[l,"screen",...ct()]}],"min-w":[{"min-w":[l,"screen","none",...ct()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ct()]}],h:[{h:["screen","lh",...ct()]}],"min-h":[{"min-h":["screen","lh","none",...ct()]}],"max-h":[{"max-h":["screen","lh",...ct()]}],"font-size":[{text:["base",n,ua,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,K,zp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Up,G]}],"font-family":[{font:[kk,G,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,K,G]}],"line-clamp":[{"line-clamp":[ne,"none",K,zp]}],leading:[{leading:[s,...y()]}],"list-image":[{"list-image":["none",K,G]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",K,G]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ft(),"wavy"]}],"text-decoration-thickness":[{decoration:[ne,"from-font","auto",K,Ci]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[ne,"auto",K,G]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K,G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K,G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:ve()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dr,K,G],radial:["",K,G],conic:[Dr,K,G]},Rk,Ck]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:Ve()}],"border-w-x":[{"border-x":Ve()}],"border-w-y":[{"border-y":Ve()}],"border-w-s":[{"border-s":Ve()}],"border-w-e":[{"border-e":Ve()}],"border-w-t":[{"border-t":Ve()}],"border-w-r":[{"border-r":Ve()}],"border-w-b":[{"border-b":Ve()}],"border-w-l":[{"border-l":Ve()}],"divide-x":[{"divide-x":Ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ft(),"hidden","none"]}],"divide-style":[{divide:[...Ft(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Ft(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ne,K,G]}],"outline-w":[{outline:["",ne,ua,Ci]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",h,Vu,Lu]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",p,Vu,Lu]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[ne,Ci]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Ve()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",f,Vu,Lu]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[ne,K,G]}],"mix-blend":[{"mix-blend":[...ln(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ln()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[K,G]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:ve()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",K,G]}],filter:[{filter:["","none",K,G]}],blur:[{blur:ad()}],brightness:[{brightness:[ne,K,G]}],contrast:[{contrast:[ne,K,G]}],"drop-shadow":[{"drop-shadow":["","none",_,Vu,Lu]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",ne,K,G]}],"hue-rotate":[{"hue-rotate":[ne,K,G]}],invert:[{invert:["",ne,K,G]}],saturate:[{saturate:[ne,K,G]}],sepia:[{sepia:["",ne,K,G]}],"backdrop-filter":[{"backdrop-filter":["","none",K,G]}],"backdrop-blur":[{"backdrop-blur":ad()}],"backdrop-brightness":[{"backdrop-brightness":[ne,K,G]}],"backdrop-contrast":[{"backdrop-contrast":[ne,K,G]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ne,K,G]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ne,K,G]}],"backdrop-invert":[{"backdrop-invert":["",ne,K,G]}],"backdrop-opacity":[{"backdrop-opacity":[ne,K,G]}],"backdrop-saturate":[{"backdrop-saturate":[ne,K,G]}],"backdrop-sepia":[{"backdrop-sepia":["",ne,K,G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",K,G]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ne,"initial",K,G]}],ease:[{ease:["linear","initial",v,K,G]}],delay:[{delay:[ne,K,G]}],animate:[{animate:["none",w,K,G]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,K,G]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:mo()}],"rotate-x":[{"rotate-x":mo()}],"rotate-y":[{"rotate-y":mo()}],"rotate-z":[{"rotate-z":mo()}],scale:[{scale:ur()}],"scale-x":[{"scale-x":ur()}],"scale-y":[{"scale-y":ur()}],"scale-z":[{"scale-z":ur()}],"scale-3d":["scale-3d"],skew:[{skew:oi()}],"skew-x":[{"skew-x":oi()}],"skew-y":[{"skew-y":oi()}],transform:[{transform:[K,G,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ai()}],"translate-x":[{"translate-x":ai()}],"translate-y":[{"translate-y":ai()}],"translate-z":[{"translate-z":ai()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K,G]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K,G]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[ne,ua,Ci,zp]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function it(...t){return bk(B_(t))}function Dk(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ki(t){return Dk(t.toLowerCase().trim())}function Mu(t,e){const n=[],r=ki(t);for(let i=0;i<=r.length-e;i++)n.push(r.substring(i,i+e));return n}function Bp(t,e){const n=ki(t),r=e?ki(e):"",i=r?`${n} ${r}`:n,s=Mu(i,2),o=Mu(i,3);return{searchText:i,searchGrams2:s,searchGrams3:o}}function Lk(t,e,n){const r=ki(e),i=ki(t.username),s=t.displayName?ki(t.displayName):"";let o=0;return i.startsWith(r)&&(o+=100),s.startsWith(r)&&(o+=80),i.includes(r)&&(o+=50),s.includes(r)&&(o+=40),o+=(t.followersCount||0)*.01,o}const Vk=H_("ppm:inline-flex ppm:items-center ppm:justify-center ppm:gap-2 ppm:whitespace-nowrap ppm:rounded-md ppm:text-sm ppm:font-medium ppm:transition-all ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:[&_svg]:pointer-events-none ppm:[&_svg:not([class*=size-])]:size-4 ppm:shrink-0 ppm:[&_svg]:shrink-0 ppm:outline-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",{variants:{variant:{default:"ppm:bg-primary ppm:text-primary-foreground ppm:shadow-xs ppm:hover:bg-primary/90",destructive:"ppm:bg-destructive ppm:text-white ppm:shadow-xs ppm:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:border ppm:bg-background ppm:shadow-xs ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:bg-input/30 ppm:dark:border-input ppm:dark:hover:bg-input/50",secondary:"ppm:bg-secondary ppm:text-secondary-foreground ppm:shadow-xs ppm:hover:bg-secondary/80",ghost:"ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:hover:bg-accent/50",link:"ppm:text-primary ppm:underline-offset-4 ppm:hover:underline"},size:{default:"ppm:h-9 ppm:px-4 ppm:py-2 ppm:has-[>svg]:px-3",sm:"ppm:h-8 ppm:rounded-md ppm:gap-1.5 ppm:px-3 ppm:has-[>svg]:px-2.5",lg:"ppm:h-10 ppm:rounded-md ppm:px-6 ppm:has-[>svg]:px-4",icon:"ppm:size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ke({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?U_:"button";return g.jsx(s,{"data-slot":"button",type:"button",className:it(Vk({variant:e,size:n,className:t})),...i})}function Mk(){const[t,e]=I.useState("9:41");return I.useEffect(()=>{const n=s=>{const o=s.match(/(\d{1,2}:\d{2})/);return o?o[1]:"9:41"},r=()=>{const s=document.getElementById("character-tools-location");if(s&&s.textContent){const o=n(s.textContent);e(o)}};r();const i=document.getElementById("character-tools-location");if(i){const s=new MutationObserver(o=>{o.forEach(l=>{(l.type==="childList"||l.type==="characterData")&&r()})});return s.observe(i,{childList:!0,subtree:!0,characterData:!0}),()=>{s.disconnect()}}},[]),g.jsxs("div",{className:"ppm:h-12  ppm:bg-white ppm:flex ppm:items-center ppm:justify-between ppm:px-6 ppm:pt-6",children:[g.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:t}),g.jsx("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:g.jsx("div",{className:"ppm:w-4 ppm:h-2 ppm:bg-green-500 ppm:rounded-sm"})})]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),o0=t=>{const e=jk(t);return e.charAt(0).toUpperCase()+e.slice(1)},a0=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Fk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>I.createElement("svg",{ref:u,...Uk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a0("lucide",i),...!s&&!Fk(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,h])=>I.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(t,e)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(zk,{ref:s,iconNode:e,className:a0(`lucide-${Ok(o0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=o0(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Rt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Rt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Rt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Rt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Rt("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Rt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Rt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Rt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Rt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Rt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Rt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Rt("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Rt("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Rt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Rt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Zk({onClose:t}){return g.jsx(Ke,{onClick:t,variant:"ghost",size:"sm",className:"ppm:absolute ppm:-top-2 ppm:-right-2 ppm:bg-white ppm:rounded-full ppm:w-8 ppm:h-8 ppm:p-0 ppm:z-10",children:g.jsx(u0,{className:"ppm:w-4 ppm:h-4"})})}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eA(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((_,S)=>h(_,typeof _=="string"?null:_.state,S===0?"default":void 0));let s=u(n??i.length-1),o="POP",l=null;function u(_){return Math.min(Math.max(_,0),i.length-1)}function c(){return i[s]}function h(_,S=null,k){let R=nA(i?c().pathname:"/",_,S,k);return nn(R.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(_)}`),R}function p(_){return typeof _=="string"?_:Fu(_)}return{get index(){return s},get action(){return o},get location(){return c()},createHref:p,createURL(_){return new URL(p(_),"http://localhost")},encodeLocation(_){let S=typeof _=="string"?Ai(_):_;return{pathname:S.pathname||"",search:S.search||"",hash:S.hash||""}},push(_,S){o="PUSH";let k=h(_,S);s+=1,i.splice(s,i.length,k),r&&l&&l({action:o,location:k,delta:1})},replace(_,S){o="REPLACE";let k=h(_,S);i[s]=k,r&&l&&l({action:o,location:k,delta:0})},go(_){o="POP";let S=u(s+_),k=i[S];s=S,l&&l({action:o,location:k,delta:_})},listen(_){return l=_,()=>{l=null}}}}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substring(2,10)}function nA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ai(e):e,state:n,key:e&&e.key||r||tA()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function c0(t,e,n="/"){return rA(t,e,n,!1)}function rA(t,e,n,r){let i=typeof e=="string"?Ai(e):e,s=Xn(i.pathname||"/",n);if(s==null)return null;let o=d0(t);iA(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=mA(s);l=pA(o[u],c,r)}return l}function d0(t,e=[],n=[],r=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Pe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Jn([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Pe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),d0(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:dA(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of h0(s.path))i(s,o,u)}),e}function h0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=h0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function iA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sA=/^:[\w-]+$/,oA=3,aA=2,lA=1,uA=10,cA=-2,p0=t=>t==="*";function dA(t,e){let n=t.split("/"),r=n.length;return n.some(p0)&&(r+=cA),e&&(r+=aA),n.filter(i=>!p0(i)).reduce((i,s)=>i+(sA.test(s)?oA:s===""?lA:uA),r)}function hA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=Uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Jn([s,p.pathname]),pathnameBase:_A(Jn([s,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(s=Jn([s,p.pathnameBase]))}return o}function Uu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},f)=>{if(h==="*"){let S=l[f]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=l[f];return p&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function fA(t,e=!1,n=!0){nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:yA(n,e):e,search:wA(r),hash:EA(i)}}function yA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wp(t){let e=vA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Hp(t,e,n,r=!1){let i;typeof t=="string"?i=Ai(t):(i={...t},Pe(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;i.pathname=f.join("/")}l=p>=0?e[p]:"/"}let u=gA(i,l),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Jn=t=>t.join("/").replace(/\/\/+/g,"/"),_A=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var f0=["POST","PUT","PATCH","DELETE"];new Set(f0);var IA=["GET",...f0];new Set(IA);var Ds=I.createContext(null);Ds.displayName="DataRouter";var zu=I.createContext(null);zu.displayName="DataRouterState",I.createContext(!1);var m0=I.createContext({isTransitioning:!1});m0.displayName="ViewTransition";var xA=I.createContext(new Map);xA.displayName="Fetchers";var SA=I.createContext(null);SA.displayName="Await";var gn=I.createContext(null);gn.displayName="Navigation";var ca=I.createContext(null);ca.displayName="Location";var rn=I.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var qp=I.createContext(null);qp.displayName="RouteError";function CA(t,{relative:e}={}){Pe(Ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(gn),{hash:i,pathname:s,search:o}=da(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Jn([n,s])),r.createHref({pathname:l,search:o,hash:i})}function Ls(){return I.useContext(ca)!=null}function Lr(){return Pe(Ls(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(ca).location}var g0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y0(t){I.useContext(gn).static||I.useLayoutEffect(t)}function sn(){let{isDataRoute:t}=I.useContext(rn);return t?zA():kA()}function kA(){Pe(Ls(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Ds),{basename:e,navigator:n}=I.useContext(gn),{matches:r}=I.useContext(rn),{pathname:i}=Lr(),s=JSON.stringify(Wp(r)),o=I.useRef(!1);return y0(()=>{o.current=!0}),I.useCallback((u,c={})=>{if(nn(o.current,g0),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Hp(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Jn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}var AA=I.createContext(null);function RA(t){let e=I.useContext(rn).outlet;return e&&I.createElement(AA.Provider,{value:t},e)}function Gp(){let{matches:t}=I.useContext(rn),e=t[t.length-1];return e?e.params:{}}function da(t,{relative:e}={}){let{matches:n}=I.useContext(rn),{pathname:r}=Lr(),i=JSON.stringify(Wp(n));return I.useMemo(()=>Hp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function PA(t,e){return v0(t,e)}function v0(t,e,n,r){var v;Pe(Ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(gn),{matches:s}=I.useContext(rn),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";w0(u,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=Lr(),f;if(e){let w=typeof e=="string"?Ai(e):e;Pe(c==="/"||((v=w.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=p;let _=f.pathname||"/",S=_;if(c!=="/"){let w=c.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=c0(t,{pathname:S});nn(h||k!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),nn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=VA(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Jn([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Jn([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&R?I.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},R):R}function NA(){let t=UA(),e=TA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,o)}var bA=I.createElement(NA,null),DA=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(rn.Provider,{value:this.props.routeContext},I.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LA({routeContext:t,match:e,children:n}){let r=I.useContext(Ds);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(rn.Provider,{value:t},n)}function VA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Pe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:p}=n,f=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||f){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let p,f=!1,_=null,S=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,_=c.route.errorElement||bA,o&&(l<0&&h===0?(w0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,S=null):l===h&&(f=!0,S=c.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,h+1)),R=()=>{let v;return p?v=_:f?v=S:c.route.Component?v=I.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,I.createElement(LA,{match:c,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?I.createElement(DA,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function Kp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(t){let e=I.useContext(Ds);return Pe(e,Kp(t)),e}function OA(t){let e=I.useContext(zu);return Pe(e,Kp(t)),e}function jA(t){let e=I.useContext(rn);return Pe(e,Kp(t)),e}function Qp(t){let e=jA(t),n=e.matches[e.matches.length-1];return Pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FA(){return Qp("useRouteId")}function UA(){var r;let t=I.useContext(qp),e=OA("useRouteError"),n=Qp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function zA(){let{router:t}=MA("useNavigate"),e=Qp("useNavigate"),n=I.useRef(!1);return y0(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{nn(n.current,g0),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var _0={};function w0(t,e,n){!e&&!_0[t]&&(_0[t]=!0,nn(!1,n))}I.memo(BA);function BA({routes:t,future:e,state:n}){return v0(t,void 0,n,e)}function $A({basename:t,children:e,initialEntries:n,initialIndex:r}){let i=I.useRef();i.current==null&&(i.current=eA({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=i.current,[o,l]=I.useState({action:s.action,location:s.location}),u=I.useCallback(c=>{I.startTransition(()=>l(c))},[l]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.createElement(HA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}function Bu({to:t,replace:e,state:n,relative:r}){Pe(Ls(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(gn);nn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(rn),{pathname:o}=Lr(),l=sn(),u=Hp(t,Wp(s),o,r==="path"),c=JSON.stringify(u);return I.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:r})},[l,c,r,e,n]),null}function WA(t){return RA(t.context)}function Je(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Pe(!Ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ai(n));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:f="default"}=n,_=I.useMemo(()=>{let S=Xn(u,o);return S==null?null:{location:{pathname:S,search:c,hash:h,state:p,key:f},navigationType:r}},[o,u,c,h,p,f,r]);return nn(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:I.createElement(gn.Provider,{value:l},I.createElement(ca.Provider,{children:e,value:_}))}function qA({children:t,location:e}){return PA(Yp(t),e)}function Yp(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Yp(r.props.children,s));return}Pe(r.type===Je,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yp(r.props.children,s)),n.push(o)}),n}var $u="get",Wu="application/x-www-form-urlencoded";function Hu(t){return t!=null&&typeof t.tagName=="string"}function GA(t){return Hu(t)&&t.tagName.toLowerCase()==="button"}function KA(t){return Hu(t)&&t.tagName.toLowerCase()==="form"}function QA(t){return Hu(t)&&t.tagName.toLowerCase()==="input"}function YA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XA(t,e){return t.button===0&&(!e||e==="_self")&&!YA(t)}var qu=null;function JA(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var ZA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(t){return t!=null&&!ZA.has(t)?(nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):t}function eR(t,e){let n,r,i,s,o;if(KA(t)){let l=t.getAttribute("action");r=l?Xn(l,e):null,n=t.getAttribute("method")||$u,i=Xp(t.getAttribute("enctype"))||Wu,s=new FormData(t)}else if(GA(t)||QA(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Xn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||$u,i=Xp(t.getAttribute("formenctype"))||Xp(l.getAttribute("enctype"))||Wu,s=new FormData(l,t),!JA()){let{name:c,type:h,value:p}=t;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,p)}}else{if(Hu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$u,r=null,i=Wu,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iR(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await nR(s,n);return o.links?o.links():[]}return[]}));return lR(r.flat(1).filter(rR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E0(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sR(t,e,{includeHydrateFallback:n}={}){return oR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function oR(t){return[...new Set(t)]}function aR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(aR(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function T0(){let t=I.useContext(Ds);return Jp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uR(){let t=I.useContext(zu);return Jp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zp=I.createContext(void 0);Zp.displayName="FrameworkContext";function I0(){let t=I.useContext(Zp);return Jp(t,"You must render this element inside a <HydratedRouter> element"),t}function cR(t,e){let n=I.useContext(Zp),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=e,f=I.useRef(null);I.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let k=v=>{v.forEach(w=>{o(w.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return f.current&&R.observe(f.current),()=>{R.disconnect()}}},[t]),I.useEffect(()=>{if(r){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[r]);let _=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:ha(l,_),onBlur:ha(u,S),onMouseEnter:ha(c,_),onMouseLeave:ha(h,S),onTouchStart:ha(p,_)}]:[!1,f,{}]}function ha(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dR({page:t,...e}){let{router:n}=T0(),r=I.useMemo(()=>c0(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(pR,{page:t,matches:r,...e}):null}function hR(t){let{manifest:e,routeModules:n}=I0(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return iR(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function pR({page:t,matches:e,...n}){let r=Lr(),{manifest:i,routeModules:s}=I0(),{basename:o}=T0(),{loaderData:l,matches:u}=uR(),c=I.useMemo(()=>E0(t,e,u,i,r,"data"),[t,e,u,i,r]),h=I.useMemo(()=>E0(t,e,u,i,r,"assets"),[t,e,u,i,r]),p=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(v=>{var x;let w=i.routes[v.route.id];!w||!w.hasLoader||(!c.some(D=>D.route.id===v.route.id)&&v.route.id in l&&((x=s[v.route.id])!=null&&x.shouldRevalidate)||w.hasClientLoader?k=!0:S.add(v.route.id))}),S.size===0)return[];let R=tR(t,o,"data");return k&&S.size>0&&R.searchParams.set("_routes",e.filter(v=>S.has(v.route.id)).map(v=>v.route.id).join(",")),[R.pathname+R.search]},[o,l,r,i,c,e,t,s]),f=I.useMemo(()=>sR(h,i),[h,i]),_=hR(h);return I.createElement(I.Fragment,null,p.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),f.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),_.map(({key:S,link:k})=>I.createElement("link",{key:S,...k})))}function fR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x0&&(window.__reactRouterVersion="7.7.1")}catch{}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C0=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:h,viewTransition:p,...f},_){let{basename:S}=I.useContext(gn),k=typeof c=="string"&&S0.test(c),R,v=!1;if(typeof c=="string"&&k&&(R=c,x0))try{let T=new URL(window.location.href),A=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=Xn(A.pathname,S);A.origin===T.origin&&N!=null?c=N+A.search+A.hash:v=!0}catch{nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=CA(c,{relative:i}),[x,D,V]=cR(r,f),F=yR(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:p});function C(T){e&&e(T),T.defaultPrevented||F(T)}let y=I.createElement("a",{...f,...V,href:R||w,onClick:v||s?e:C,ref:fR(_,D),target:u,"data-discover":!k&&n==="render"?"true":void 0});return x&&!k?I.createElement(I.Fragment,null,y,I.createElement(dR,{page:w})):y});C0.displayName="Link";var Vs=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...c},h){let p=da(o,{relative:c.relative}),f=Lr(),_=I.useContext(zu),{navigator:S,basename:k}=I.useContext(gn),R=_!=null&&TR(p)&&l===!0,v=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,w=f.pathname,x=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(w=w.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&k&&(x=Xn(x,k)||x);const D=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let V=w===v||!i&&w.startsWith(v)&&w.charAt(D)==="/",F=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),C={isActive:V,isPending:F,isTransitioning:R},y=V?e:void 0,T;typeof r=="function"?T=r(C):T=[r,V?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(C):s;return I.createElement(C0,{...c,"aria-current":y,className:T,ref:h,style:A,to:o,viewTransition:l},typeof u=="function"?u(C):u)});Vs.displayName="NavLink";var mR=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=$u,action:l,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:p,...f},_)=>{let S=wR(),k=ER(l,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&S0.test(l),w=x=>{if(u&&u(x),x.defaultPrevented)return;x.preventDefault();let D=x.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||o;S(D||x.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:p})};return I.createElement("form",{ref:_,method:R,action:k,onSubmit:r?u:w,...f,"data-discover":!v&&t==="render"?"true":void 0})});mR.displayName="Form";function gR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k0(t){let e=I.useContext(Ds);return Pe(e,gR(t)),e}function yR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=sn(),u=Lr(),c=da(t,{relative:s});return I.useCallback(h=>{if(XA(h,e)){h.preventDefault();let p=n!==void 0?n:Fu(u)===Fu(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,c,n,r,e,t,i,s,o])}var vR=0,_R=()=>`__${String(++vR)}__`;function wR(){let{router:t}=k0("useSubmit"),{basename:e}=I.useContext(gn),n=FA();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:u,body:c}=eR(r,e);if(i.navigate===!1){let h=i.fetcherKey||_R();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ER(t,{relative:e}={}){let{basename:n}=I.useContext(gn),r=I.useContext(rn);Pe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...da(t||".",{relative:e})},o=Lr();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Jn([n,s.pathname])),Fu(s)}function TR(t,{relative:e}={}){let n=I.useContext(m0);Pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=k0("useViewTransitionState"),i=da(t,{relative:e});if(!n.isTransitioning)return!1;let s=Xn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Xn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uu(i.pathname,o)!=null||Uu(i.pathname,s)!=null}function Vr({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:it("ppm:bg-card ppm:text-card-foreground ppm:flex ppm:flex-col ppm:gap-6 ppm:rounded-xl ppm:border ppm:py-6 ppm:shadow-sm",t),...e})}function ef({className:t,...e}){return g.jsx("div",{"data-slot":"card-header",className:it("ppm:@container/card-header ppm:grid ppm:auto-rows-min ppm:grid-rows-[auto_auto] ppm:items-start ppm:gap-1.5 ppm:px-6 ppm:has-data-[slot=card-action]:grid-cols-[1fr_auto] ppm:[.border-b]:pb-6",t),...e})}function A0({className:t,...e}){return g.jsx("div",{"data-slot":"card-title",className:it("ppm:leading-none ppm:font-semibold",t),...e})}function yn({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:it("ppm:px-6",t),...e})}function gt({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:it("ppm:file:text-foreground ppm:placeholder:text-muted-foreground ppm:selection:bg-primary ppm:selection:text-primary-foreground ppm:dark:bg-input/30 ppm:border-input ppm:flex ppm:h-9 ppm:w-full ppm:min-w-0 ppm:rounded-md ppm:border ppm:bg-transparent ppm:px-3 ppm:py-1 ppm:text-base ppm:shadow-xs ppm:transition-[color,box-shadow] ppm:outline-none ppm:file:inline-flex ppm:file:h-7 ppm:file:border-0 ppm:file:bg-transparent ppm:file:text-sm ppm:file:font-medium ppm:disabled:pointer-events-none ppm:disabled:cursor-not-allowed ppm:disabled:opacity-50 ppm:md:text-sm","ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px]","ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",t),...n})}var IR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vn=IR.reduce((t,e)=>{const n=Du(`Primitive.${e}`),r=I.forwardRef((i,s)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xR="Label",R0=I.forwardRef((t,e)=>g.jsx(vn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));R0.displayName=xR;var SR=R0;function st({className:t,...e}){return g.jsx(SR,{"data-slot":"label",className:it("ppm:flex ppm:items-center ppm:gap-2 ppm:text-sm ppm:leading-none ppm:font-medium ppm:select-none ppm:group-data-[disabled=true]:pointer-events-none ppm:group-data-[disabled=true]:opacity-50 ppm:peer-disabled:cursor-not-allowed ppm:peer-disabled:opacity-50",t),...e})}const CR=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|l>>4;let f=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(f=64)),r.push(n[h],n[p],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new AR;const f=s<<2|l>>4;if(r.push(f),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const S=c<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(t){const e=N0(t);return b0.encodeByteArray(e,!0)},Gu=function(t){return RR(t).replace(/\./g,"")},D0=function(t){try{return b0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>PR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D0(t[1]);return e&&JSON.parse(e)},Ku=()=>{try{return CR()||NR()||bR()||DR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L0=t=>{var e,n;return(n=(e=Ku())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LR=t=>{const e=L0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V0=()=>{var t;return(t=Ku())==null?void 0:t.config},M0=t=>{var e;return(e=Ku())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),""].join(".")}const pa={};function OR(){const t={prod:[],emulator:[]};for(const e of Object.keys(pa))pa[e]?t.emulator.push(e):t.prod.push(e);return t}function jR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j0=!1;function F0(t,e){if(typeof window>"u"||typeof document>"u"||!Ms(window.location.host)||pa[t]===e||pa[t]||j0)return;pa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=OR().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function u(f,_){f.setAttribute("width","24"),f.setAttribute("id",_),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{j0=!0,o()},f}function h(f,_){f.setAttribute("id",_),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=jR(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;l(x),h(R,k);const D=c();u(w,v),x.append(w,S,R,D),document.body.appendChild(x)}s?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function UR(){var e;const t=(e=Ku())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HR(){return!UR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qR(){try{return typeof indexedDB=="object"}catch{return!1}}function GR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KR,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fa.prototype.create)}}class fa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Zn(i,l,r)}}function QR(t,e){return t.replace(YR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YR=/\{\$([^}]+)}/g;function XR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(U0(s)&&U0(o)){if(!Ri(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JR(t,e){const n=new ZR(t,e);return n.subscribe.bind(n)}class ZR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tf),i.error===void 0&&(i.error=tf),i.complete===void 0&&(i.complete=tf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rP(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(t){return t===Ni?void 0:t}function rP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const sP={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},oP=se.INFO,aP={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},lP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=oP,this._logHandler=lP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const uP=(t,e)=>e.some(n=>t instanceof n);let z0,B0;function cP(){return z0||(z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dP(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,rf=new WeakMap,W0=new WeakMap,sf=new WeakMap,of=new WeakMap;function hP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,t)}).catch(()=>{}),of.set(e,t),e}function pP(t){if(rf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rf.set(t,e)}let af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fP(t){af=t(af)}function mP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lf(this),e,...n);return W0.set(r,e.sort?e.sort():[e]),Mr(r)}:dP().includes(t)?function(...e){return t.apply(lf(this),e),Mr($0.get(this))}:function(...e){return Mr(t.apply(lf(this),e))}}function gP(t){return typeof t=="function"?mP(t):(t instanceof IDBTransaction&&pP(t),uP(t,cP())?new Proxy(t,af):t)}function Mr(t){if(t instanceof IDBRequest)return hP(t);if(sf.has(t))return sf.get(t);const e=gP(t);return e!==t&&(sf.set(t,e),of.set(e,t)),e}const lf=t=>of.get(t);function yP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Mr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mr(o.result),u.oldVersion,u.newVersion,Mr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const vP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],uf=new Map;function H0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vP.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return uf.set(e,s),s}fP(t=>({...t,get:(e,n,r)=>H0(e,n)||t.get(e,n,r),has:(e,n)=>!!H0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cf="@firebase/app",q0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new nf("@firebase/app"),TP="@firebase/app-compat",IP="@firebase/analytics-compat",xP="@firebase/analytics",SP="@firebase/app-check-compat",CP="@firebase/app-check",kP="@firebase/auth",AP="@firebase/auth-compat",RP="@firebase/database",PP="@firebase/data-connect",NP="@firebase/database-compat",bP="@firebase/functions",DP="@firebase/functions-compat",LP="@firebase/installations",VP="@firebase/installations-compat",MP="@firebase/messaging",OP="@firebase/messaging-compat",jP="@firebase/performance",FP="@firebase/performance-compat",UP="@firebase/remote-config",zP="@firebase/remote-config-compat",BP="@firebase/storage",$P="@firebase/storage-compat",WP="@firebase/firestore",HP="@firebase/ai",qP="@firebase/firestore-compat",GP="firebase",KP="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="[DEFAULT]",QP={[cf]:"fire-core",[TP]:"fire-core-compat",[xP]:"fire-analytics",[IP]:"fire-analytics-compat",[CP]:"fire-app-check",[SP]:"fire-app-check-compat",[kP]:"fire-auth",[AP]:"fire-auth-compat",[RP]:"fire-rtdb",[PP]:"fire-data-connect",[NP]:"fire-rtdb-compat",[bP]:"fire-fn",[DP]:"fire-fn-compat",[LP]:"fire-iid",[VP]:"fire-iid-compat",[MP]:"fire-fcm",[OP]:"fire-fcm-compat",[jP]:"fire-perf",[FP]:"fire-perf-compat",[UP]:"fire-rc",[zP]:"fire-rc-compat",[BP]:"fire-gcs",[$P]:"fire-gcs-compat",[WP]:"fire-fst",[qP]:"fire-fst-compat",[HP]:"fire-vertex","fire-js":"fire-js",[GP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,YP=new Map,hf=new Map;function G0(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Os(t){const e=t.name;if(hf.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;hf.set(e,t);for(const n of Qu.values())G0(n,t);for(const n of YP.values())G0(n,t);return!0}function pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new fa("app","Firebase",XP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=KP;function K0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:df,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=V0()),!n)throw Or.create("no-options");const s=Qu.get(i);if(s){if(Ri(n,s.options)&&Ri(r,s.config))return s;throw Or.create("duplicate-app",{appName:i})}const o=new iP(i);for(const u of hf.values())o.addComponent(u);const l=new JP(n,r,o);return Qu.set(i,l),l}function Q0(t=df){const e=Qu.get(t);if(!e&&t===df&&V0())return K0();if(!e)throw Or.create("no-app",{appName:t});return e}function jr(t,e,n){let r=QP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(o.join(" "));return}Os(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-heartbeat-database",e2=1,va="firebase-heartbeat-store";let ff=null;function Y0(){return ff||(ff=yP(ZP,e2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),ff}async function t2(t){try{const n=(await Y0()).transaction(va),r=await n.objectStore(va).get(J0(t));return await n.done,r}catch(e){if(e instanceof Zn)er.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function X0(t,e){try{const r=(await Y0()).transaction(va,"readwrite");await r.objectStore(va).put(e,J0(t)),await r.done}catch(n){if(n instanceof Zn)er.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function J0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1024,r2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>r2){const o=a2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z0(),{heartbeatsToSend:r,unsentEntries:i}=s2(this._heartbeatsCache.heartbeats),s=Gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return er.warn(n),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function s2(t,e=n2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ew(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qR()?GR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ew(t){return Gu(JSON.stringify({version:2,heartbeats:t})).length}function a2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){Os(new Pi("platform-logger",e=>new wP(e),"PRIVATE")),Os(new Pi("heartbeat",e=>new i2(e),"PRIVATE")),jr(cf,q0,t),jr(cf,q0,"esm2020"),jr("fire-js","")}l2("");function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=tw,nw=new fa("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new nf("@firebase/auth");function c2(t,...e){Yu.logLevel<=se.WARN&&Yu.warn(`Auth (${js}): ${t}`,...e)}function Xu(t,...e){Yu.logLevel<=se.ERROR&&Yu.error(`Auth (${js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw mf(t,...e)}function Rn(t,...e){return mf(t,...e)}function rw(t,e,n){const r={...u2(),[e]:n};return new fa("auth","Firebase",r).create(e,{appName:t.name})}function tr(t){return rw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nw.create(t,...e)}function X(t,e,...n){if(!t)throw mf(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function rr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d2(){return iw()==="http:"||iw()==="https:"}function iw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d2()||BR()||"connection"in navigator)?navigator.onLine:!0}function p2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||$R()}get(){return h2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new _a(3e4,6e4);function Fr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ur(t,e,n,r,i={}){return ow(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ma({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return zR()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(c.credentials="include"),sw.fetch()(await aw(t,t.config.apiHost,n,l),c)})}async function ow(t,e,n){t._canInitEmulator=!1;const r={...f2,...e};try{const i=new v2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ju(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rw(t,h,c);_n(t,h)}}catch(i){if(i instanceof Zn)throw i;_n(t,"network-request-failed",{message:String(i)})}}async function wa(t,e,n,r,i={}){const s=await Ur(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function aw(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?yf(t.config,i):`${t.config.apiScheme}://${i}`;return m2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function y2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),g2.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}function lw(t){return t!==void 0&&t.enterprise!==void 0}class _2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w2(t,e){return Ur(t,"GET","/v2/recaptchaConfig",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e){return Ur(t,"POST","/v1/accounts:delete",e)}async function Zu(t,e){return Ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T2(t,e=!1){const n=xe(t),r=await n.getIdToken(e),i=_f(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ea(vf(i.auth_time)),issuedAtTime:Ea(vf(i.iat)),expirationTime:Ea(vf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function _f(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=D0(n);return i?JSON.parse(i):(Xu("Failed to decode base64 JWT payload"),null)}catch(i){return Xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uw(t){const e=_f(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zn&&I2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Ta(t,Zu(e,{idToken:n}));X(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?cw(i.providerUserInfo):[],o=C2(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wf(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function S2(t){const e=xe(t);await ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){const n=await ow(t,{},async()=>{const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await aw(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ms(t.emulatorConfig.host)&&(u.credentials="include"),sw.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A2(t,e){return Ur(t,"POST","/v2/accounts:revokeToken",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fs;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fs,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new x2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ta(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T2(this,e)}reload(){return S2(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Ta(this,E2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:f,isAnonymous:_,providerData:S,stsTokenManager:k}=n;X(p&&k,e,"internal-error");const R=Fs.fromJSON(this.name,k);X(typeof p=="string",e,"internal-error"),zr(r,e.name),zr(i,e.name),X(typeof f=="boolean",e,"internal-error"),X(typeof _=="boolean",e,"internal-error"),zr(s,e.name),zr(o,e.name),zr(l,e.name),zr(u,e.name),zr(c,e.name),zr(h,e.name);const v=new wn({uid:p,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:_,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:R,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(v.providerData=S.map(w=>({...w}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fs;i.updateFromServerResponse(n);const s=new wn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ec(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?cw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Fs;l.updateFromIdToken(r);const u=new wn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Map;function ir(t){rr(t instanceof Function,"Expected a class definition");let e=dw.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hw.type="NONE";const pw=hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,e,n){return`firebase:${t}:${e}:${n}`}class Us{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tc(this.userKey,i.apiKey,s),this.fullPersistenceKey=tc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zu(this.auth,{idToken:e}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,e):null}return wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Us(ir(pw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ir(pw);const o=tc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const f=await Zu(e,{idToken:h}).catch(()=>{});if(!f)break;p=await wn._fromGetAccountInfoResponse(e,f,h)}else p=wn._fromJSON(e,h);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Us(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Us(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Ew(e))return"Webos";if(gw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mw(t=yt()){return/firefox\//i.test(t)}function gw(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(t=yt()){return/crios\//i.test(t)}function vw(t=yt()){return/iemobile/i.test(t)}function _w(t=yt()){return/android/i.test(t)}function ww(t=yt()){return/blackberry/i.test(t)}function Ew(t=yt()){return/webos/i.test(t)}function Ef(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R2(t=yt()){var e;return Ef(t)&&!!((e=window.navigator)!=null&&e.standalone)}function P2(){return WR()&&document.documentMode===10}function Tw(t=yt()){return Ef(t)||_w(t)||Ew(t)||ww(t)||/windows phone/i.test(t)||vw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e=[]){let n;switch(t){case"Browser":n=fw(yt());break;case"Worker":n=`${fw(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e={}){return Ur(t,"GET","/v2/passwordPolicy",Fr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=6;class L2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Us.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zu(this,{idToken:e}),r=await wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(tr(this));const n=e?xe(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),n=new L2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Us.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&c2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bi(t){return xe(t)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M2(t){nc=t}function Sw(t){return nc.loadJS(t)}function O2(){return nc.recaptchaEnterpriseScript}function j2(){return nc.gapiScript}function F2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class U2{constructor(){this.enterprise=new z2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const B2="recaptcha-enterprise",Cw="NO_RECAPTCHA";class $2{constructor(e){this.type=B2,this.auth=bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{w2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new _2(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;lw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Cw)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U2().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&lw(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=O2();u.length!==0&&(u+=l),Sw(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function kw(t,e,n,r=!1,i=!1){const s=new $2(t);let o;if(i)o=Cw;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tf(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await kw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){const n=pf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ri(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function H2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q2(t,e,n){const r=bi(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Aw(e),{host:o,port:l}=G2(e),u=l===null?"":`:${l}`,c={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(Ri(c,r.config.emulator)&&Ri(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ms(o)?(O0(`${s}//${o}${u}`),F0("Auth",!0)):K2()}function Aw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G2(t){const e=Aw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Rw(o)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function Q2(t,e){return Ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e){return wa(t,"POST","/v1/accounts:signInWithPassword",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}async function J2(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends If{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ia(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ia(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,n,"signInWithPassword",Y2);case"emailLink":return X2(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tf(e,r,"signUpPassword",Q2);case"emailLink":return J2(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return wa(t,"POST","/v1/accounts:signInWithIdp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="http://localhost";class Di extends If{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Di(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:Z2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tN(t){const e=ga(ya(t)).link,n=e?ga(ya(e)).deep_link_id:null,r=ga(ya(t)).deep_link_id;return(r?ga(ya(r)).link:null)||r||n||e||t}class xf{constructor(e){const n=ga(ya(e)),r=n.apiKey??null,i=n.oobCode??null,s=eN(n.mode??null);X(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tN(e);try{return new xf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.providerId=Bs.PROVIDER_ID}static credential(e,n){return Ia._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xf.parseLink(n);return X(r,"argument-error"),Ia._fromEmailAndCode(e,r.code,r.tenantId)}}Bs.PROVIDER_ID="password",Bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends xa{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com",Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com",$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends xa{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com",Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends xa{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com",Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){return wa(t,"POST","/v1/accounts:signUp",Fr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wn._fromIdTokenResponse(e,r,i),o=Nw(r);return new Li({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nw(r);return new Li({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Zn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rc(e,n,r,i)}}function bw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(t,s,e,r):s})}async function rN(t,e,n=!1){const r=await Ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Li._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(tr(r));const i="reauthenticate";try{const s=await Ta(t,bw(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=_f(s.idToken);X(o,r,"internal-error");const{sub:l}=o;return X(t.uid===l,r,"user-mismatch"),Li._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(t,e,n=!1){if(on(t.app))return Promise.reject(tr(t));const r="signIn",i=await bw(t,r,e),s=await Li._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sN(t,e){return Dw(bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(t){const e=bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oN(t,e,n){if(on(t.app))return Promise.reject(tr(t));const r=bi(t),o=await Tf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Lw(t),u}),l=await Li._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function aN(t,e,n){return on(t.app)?Promise.reject(tr(t)):sN(xe(t),Bs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lw(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){return xe(t).setPersistence(e)}function uN(t,e,n,r){return xe(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}function dN(t,e,n,r){return xe(t).onAuthStateChanged(e,n,r)}function hN(t){return xe(t).signOut()}const ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ic,"1"),this.storage.removeItem(ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3,fN=10;class Mw extends Vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);P2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mw.type="LOCAL";const Ow=Mw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jw.type="SESSION";const Fw=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await mN(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Sf("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function yN(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function vN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _N(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wN(){return Uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebaseLocalStorageDb",EN=1,oc="firebaseLocalStorage",Bw="fbase_key";class Sa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ac(t,e){return t.transaction([oc],e?"readwrite":"readonly").objectStore(oc)}function TN(){const t=indexedDB.deleteDatabase(zw);return new Sa(t).toPromise()}function Cf(){const t=indexedDB.open(zw,EN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oc,{keyPath:Bw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oc)?e(r):(r.close(),await TN(),e(await Cf()))})})}async function $w(t,e,n){const r=ac(t,!0).put({[Bw]:e,value:n});return new Sa(r).toPromise()}async function IN(t,e){const n=ac(t,!1).get(e),r=await new Sa(n).toPromise();return r===void 0?null:r.value}function Ww(t,e){const n=ac(t,!0).delete(e);return new Sa(n).toPromise()}const xN=800,SN=3;class Hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sc._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vN(),!this.activeServiceWorker)return;this.sender=new gN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await $w(e,ic,"1"),await Ww(e,ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$w(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ww(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ac(i,!1).getAll();return new Sa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hw.type="LOCAL";const CN=Hw;new _a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){return e?ir(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends If{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AN(t){return Dw(t.auth,new kf(t),t.bypassAuthState)}function RN(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),iN(n,new kf(t),t.bypassAuthState)}async function PN(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),rN(n,new kf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return PN;case"reauthViaPopup":case"reauthViaRedirect":return RN;default:_n(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new _a(2e3,1e4);class $s extends qw{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Sf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="pendingRedirect",lc=new Map;class DN extends qw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const r=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(t,e){const n=ON(e),r=MN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VN(t,e){lc.set(t._key(),e)}function MN(t){return ir(t._redirectPersistence)}function ON(t){return tc(bN,t.config.apiKey,t.name)}async function jN(t,e,n=!1){if(on(t.app))return Promise.reject(tr(t));const r=bi(t),i=kN(r,e),o=await new DN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=10*60*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Kw(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gw(e))}saveEventToCache(e){this.cachedEventUids.add(Gw(e)),this.lastProcessedEventTime=Date.now()}}function Gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e={}){return Ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;async function HN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BN(t);for(const n of e)try{if(qN(n))return}catch{}_n(t,"unauthorized-domain")}function qN(t){const e=gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WN.test(n))return!1;if($N.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new _a(3e4,6e4);function Qw(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KN(t){return new Promise((e,n)=>{var i,s,o;function r(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),n(Rn(t,"network-request-failed"))},timeout:GN.get()})}if((s=(i=Pn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Pn().gapi)!=null&&o.load)r();else{const l=F2("iframefcb");return Pn()[l]=()=>{gapi.load?r():n(Rn(t,"network-request-failed"))},Sw(`${j2()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw uc=null,e})}let uc=null;function QN(t){return uc=uc||KN(t),uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new _a(5e3,15e3),XN="__/auth/iframe",JN="emulator/auth/iframe",ZN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tb(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yf(e,JN):`https://${t.config.authDomain}/${XN}`,r={apiKey:e.apiKey,appName:t.name,v:js},i=eb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ma(r).slice(1)}`}async function nb(t){const e=await QN(t),n=Pn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:tb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rn(t,"network-request-failed"),l=Pn().setTimeout(()=>{s(o)},YN.get());function u(){Pn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ib=500,sb=600,ob="_blank",ab="http://localhost";class Yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lb(t,e,n,r=ib,i=sb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...rb,width:r.toString(),height:i.toString(),top:s,left:o},c=yt().toLowerCase();n&&(l=yw(c)?ob:n),mw(c)&&(e=e||ab,u.scrollbars="yes");const h=Object.entries(u).reduce((f,[_,S])=>`${f}${_}=${S},`,"");if(R2(c)&&l!=="_self")return ub(e||"",l),new Yw(null);const p=window.open(e||"",l,h);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Yw(p)}function ub(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__/auth/handler",db="emulator/auth/handler",hb=encodeURIComponent("fac");async function Xw(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:js,eventId:i};if(e instanceof Pw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof xa){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${hb}=${encodeURIComponent(u)}`:"";return`${pb(t)}?${ma(l).slice(1)}${c}`}function pb({config:t}){return t.emulator?yf(t,db):`https://${t.authDomain}/${cb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class fb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fw,this._completeRedirectFn=jN,this._overrideRedirectResult=VN}async _openPopup(e,n,r,i){var o;rr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Xw(e,n,r,gf(),i);return lb(e,s,Sf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Xw(e,n,r,gf(),i);return yN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nb(e),r=new UN(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Af,{type:Af},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Af];s!==void 0&&n(!!s),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tw()||gw()||Ef()}}const mb=fb;var Jw="@firebase/auth",Zw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vb(t){Os(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(t)},c=new V2(r,i,s,u);return H2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Os(new Pi("auth-internal",e=>{const n=bi(e.getProvider("auth").getImmediate());return(r=>new gb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Jw,Zw,yb(t)),jr(Jw,Zw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=5*60,wb=M0("authIdTokenMaxAge")||_b;let e1=null;const Eb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wb)return;const i=n==null?void 0:n.token;e1!==i&&(e1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Tb(t=Q0()){const e=pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W2(t,{popupRedirectResolver:mb,persistence:[CN,Ow,Fw]}),r=M0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Eb(s.toString());cN(n,o,()=>o(n.currentUser)),uN(n,l=>o(l))}}const i=L0("auth");return i&&q2(n,`http://${i}`),n}function Ib(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}M2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ib().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),vb("Browser");var xb="firebase",Sb="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(xb,Sb,"app");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,n1;(function(){var t;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(C,y){function T(){}T.prototype=y.prototype,C.D=y.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(A,N,b){for(var P=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)P[ut-2]=arguments[ut];return y.prototype[N].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,T){T||(T=0);var A=Array(16);if(typeof y=="string")for(var N=0;16>N;++N)A[N]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(N=0;16>N;++N)A[N]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=C.g[0],T=C.g[1],N=C.g[2];var b=C.g[3],P=y+(b^T&(N^b))+A[0]+3614090360&4294967295;y=T+(P<<7&4294967295|P>>>25),P=b+(N^y&(T^N))+A[1]+3905402710&4294967295,b=y+(P<<12&4294967295|P>>>20),P=N+(T^b&(y^T))+A[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=T+(y^N&(b^y))+A[3]+3250441966&4294967295,T=N+(P<<22&4294967295|P>>>10),P=y+(b^T&(N^b))+A[4]+4118548399&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(N^y&(T^N))+A[5]+1200080426&4294967295,b=y+(P<<12&4294967295|P>>>20),P=N+(T^b&(y^T))+A[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=T+(y^N&(b^y))+A[7]+4249261313&4294967295,T=N+(P<<22&4294967295|P>>>10),P=y+(b^T&(N^b))+A[8]+1770035416&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(N^y&(T^N))+A[9]+2336552879&4294967295,b=y+(P<<12&4294967295|P>>>20),P=N+(T^b&(y^T))+A[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=T+(y^N&(b^y))+A[11]+2304563134&4294967295,T=N+(P<<22&4294967295|P>>>10),P=y+(b^T&(N^b))+A[12]+1804603682&4294967295,y=T+(P<<7&4294967295|P>>>25),P=b+(N^y&(T^N))+A[13]+4254626195&4294967295,b=y+(P<<12&4294967295|P>>>20),P=N+(T^b&(y^T))+A[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=T+(y^N&(b^y))+A[15]+1236535329&4294967295,T=N+(P<<22&4294967295|P>>>10),P=y+(N^b&(T^N))+A[1]+4129170786&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^N&(y^T))+A[6]+3225465664&4294967295,b=y+(P<<9&4294967295|P>>>23),P=N+(y^T&(b^y))+A[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(N^b))+A[0]+3921069994&4294967295,T=N+(P<<20&4294967295|P>>>12),P=y+(N^b&(T^N))+A[5]+3593408605&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^N&(y^T))+A[10]+38016083&4294967295,b=y+(P<<9&4294967295|P>>>23),P=N+(y^T&(b^y))+A[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(N^b))+A[4]+3889429448&4294967295,T=N+(P<<20&4294967295|P>>>12),P=y+(N^b&(T^N))+A[9]+568446438&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^N&(y^T))+A[14]+3275163606&4294967295,b=y+(P<<9&4294967295|P>>>23),P=N+(y^T&(b^y))+A[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(N^b))+A[8]+1163531501&4294967295,T=N+(P<<20&4294967295|P>>>12),P=y+(N^b&(T^N))+A[13]+2850285829&4294967295,y=T+(P<<5&4294967295|P>>>27),P=b+(T^N&(y^T))+A[2]+4243563512&4294967295,b=y+(P<<9&4294967295|P>>>23),P=N+(y^T&(b^y))+A[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=T+(b^y&(N^b))+A[12]+2368359562&4294967295,T=N+(P<<20&4294967295|P>>>12),P=y+(T^N^b)+A[5]+4294588738&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^N)+A[8]+2272392833&4294967295,b=y+(P<<11&4294967295|P>>>21),P=N+(b^y^T)+A[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=T+(N^b^y)+A[14]+4259657740&4294967295,T=N+(P<<23&4294967295|P>>>9),P=y+(T^N^b)+A[1]+2763975236&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^N)+A[4]+1272893353&4294967295,b=y+(P<<11&4294967295|P>>>21),P=N+(b^y^T)+A[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=T+(N^b^y)+A[10]+3200236656&4294967295,T=N+(P<<23&4294967295|P>>>9),P=y+(T^N^b)+A[13]+681279174&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^N)+A[0]+3936430074&4294967295,b=y+(P<<11&4294967295|P>>>21),P=N+(b^y^T)+A[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=T+(N^b^y)+A[6]+76029189&4294967295,T=N+(P<<23&4294967295|P>>>9),P=y+(T^N^b)+A[9]+3654602809&4294967295,y=T+(P<<4&4294967295|P>>>28),P=b+(y^T^N)+A[12]+3873151461&4294967295,b=y+(P<<11&4294967295|P>>>21),P=N+(b^y^T)+A[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=T+(N^b^y)+A[2]+3299628645&4294967295,T=N+(P<<23&4294967295|P>>>9),P=y+(N^(T|~b))+A[0]+4096336452&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~N))+A[7]+1126891415&4294967295,b=y+(P<<10&4294967295|P>>>22),P=N+(y^(b|~T))+A[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=T+(b^(N|~y))+A[5]+4237533241&4294967295,T=N+(P<<21&4294967295|P>>>11),P=y+(N^(T|~b))+A[12]+1700485571&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~N))+A[3]+2399980690&4294967295,b=y+(P<<10&4294967295|P>>>22),P=N+(y^(b|~T))+A[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=T+(b^(N|~y))+A[1]+2240044497&4294967295,T=N+(P<<21&4294967295|P>>>11),P=y+(N^(T|~b))+A[8]+1873313359&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~N))+A[15]+4264355552&4294967295,b=y+(P<<10&4294967295|P>>>22),P=N+(y^(b|~T))+A[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=T+(b^(N|~y))+A[13]+1309151649&4294967295,T=N+(P<<21&4294967295|P>>>11),P=y+(N^(T|~b))+A[4]+4149444226&4294967295,y=T+(P<<6&4294967295|P>>>26),P=b+(T^(y|~N))+A[11]+3174756917&4294967295,b=y+(P<<10&4294967295|P>>>22),P=N+(y^(b|~T))+A[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=T+(b^(N|~y))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+b&4294967295}r.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var T=y-this.blockSize,A=this.B,N=this.h,b=0;b<y;){if(N==0)for(;b<=T;)i(this,C,b),b+=this.blockSize;if(typeof C=="string"){for(;b<y;)if(A[N++]=C.charCodeAt(b++),N==this.blockSize){i(this,A),N=0;break}}else for(;b<y;)if(A[N++]=C[b++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=y},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var T=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=T&255,T/=256;for(this.u(C),C=Array(16),y=T=0;4>y;++y)for(var A=0;32>A;A+=8)C[T++]=this.g[y]>>>A&255;return C};function s(C,y){var T=l;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=y(C)}function o(C,y){this.h=y;for(var T=[],A=!0,N=C.length-1;0<=N;N--){var b=C[N]|0;A&&b==y||(T[N]=b,A=!1)}this.g=T}var l={};function u(C){return-128<=C&&128>C?s(C,function(y){return new o([y|0],0>y?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return R(c(-C));for(var y=[],T=1,A=0;C>=T;A++)y[A]=C/T|0,T*=4294967296;return new o(y,0)}function h(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return R(h(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),A=p,N=0;N<C.length;N+=8){var b=Math.min(8,C.length-N),P=parseInt(C.substring(N,N+b),y);8>b?(b=c(Math.pow(y,b)),A=A.j(b).add(c(P))):(A=A.j(T),A=A.add(c(P)))}return A}var p=u(0),f=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-R(this).m();for(var C=0,y=1,T=0;T<this.g.length;T++){var A=this.i(T);C+=(0<=A?A:4294967296+A)*y,y*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(k(this))return"-"+R(this).toString(C);for(var y=c(Math.pow(C,6)),T=this,A="";;){var N=D(T,y).g;T=v(T,N.j(y));var b=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=N,S(T))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function k(C){return C.h==-1}t.l=function(C){return C=v(this,C),k(C)?-1:S(C)?0:1};function R(C){for(var y=C.g.length,T=[],A=0;A<y;A++)T[A]=~C.g[A];return new o(T,~C.h).add(f)}t.abs=function(){return k(this)?R(this):this},t.add=function(C){for(var y=Math.max(this.g.length,C.g.length),T=[],A=0,N=0;N<=y;N++){var b=A+(this.i(N)&65535)+(C.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);A=P>>>16,b&=65535,P&=65535,T[N]=P<<16|b}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(C,y){return C.add(R(y))}t.j=function(C){if(S(this)||S(C))return p;if(k(this))return k(C)?R(this).j(R(C)):R(R(this).j(C));if(k(C))return R(this.j(R(C)));if(0>this.l(_)&&0>C.l(_))return c(this.m()*C.m());for(var y=this.g.length+C.g.length,T=[],A=0;A<2*y;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<C.g.length;N++){var b=this.i(A)>>>16,P=this.i(A)&65535,ut=C.i(N)>>>16,Et=C.i(N)&65535;T[2*A+2*N]+=P*Et,w(T,2*A+2*N),T[2*A+2*N+1]+=b*Et,w(T,2*A+2*N+1),T[2*A+2*N+1]+=P*ut,w(T,2*A+2*N+1),T[2*A+2*N+2]+=b*ut,w(T,2*A+2*N+2)}for(A=0;A<y;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=y;A<2*y;A++)T[A]=0;return new o(T,0)};function w(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function x(C,y){this.g=C,this.h=y}function D(C,y){if(S(y))throw Error("division by zero");if(S(C))return new x(p,p);if(k(C))return y=D(R(C),y),new x(R(y.g),R(y.h));if(k(y))return y=D(C,R(y)),new x(R(y.g),y.h);if(30<C.g.length){if(k(C)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var T=f,A=y;0>=A.l(C);)T=V(T),A=V(A);var N=F(T,1),b=F(A,1);for(A=F(A,2),T=F(T,2);!S(A);){var P=b.add(A);0>=P.l(C)&&(N=N.add(T),b=P),A=F(A,1),T=F(T,1)}return y=v(C,N.j(y)),new x(N,y)}for(N=p;0<=C.l(y);){for(T=Math.max(1,Math.floor(C.m()/y.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=c(T),P=b.j(y);k(P)||0<P.l(C);)T-=A,b=c(T),P=b.j(y);S(b)&&(b=f),N=N.add(b),C=v(C,P)}return new x(N,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var y=Math.max(this.g.length,C.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)&C.i(A);return new o(T,this.h&C.h)},t.or=function(C){for(var y=Math.max(this.g.length,C.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)|C.i(A);return new o(T,this.h|C.h)},t.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)^C.i(A);return new o(T,this.h^C.h)};function V(C){for(var y=C.g.length+1,T=[],A=0;A<y;A++)T[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(T,C.h)}function F(C,y){var T=y>>5;y%=32;for(var A=C.g.length-T,N=[],b=0;b<A;b++)N[b]=0<y?C.i(b+T)>>>y|C.i(b+T+1)<<32-y:C.i(b+T);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,n1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,qr=o}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,Ca,i1,dc,Rf,s1,o1,a1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var m=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var L=a[E];if(!(L in m))break e;m=m[L]}a=a[a.length-1],E=m[a],d=d(E),d!=E&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var m=0,E=!1,L={next:function(){if(!E&&m<a.length){var M=m++;return{value:d(M,a[M]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,m){return m})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,m){return a.call.apply(a.bind,arguments)}function p(a,d,m){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),a.apply(d,L)}}return function(){return a.apply(d,arguments)}}function f(a,d,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function _(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function S(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(E,L,M){for(var W=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)W[ge-2]=arguments[ge];return d.prototype[L].apply(E,W)}}function k(a){const d=a.length;if(0<d){const m=Array(d);for(let E=0;E<d;E++)m[E]=a[E];return m}return[]}function R(a,d){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const L=a.length||0,M=E.length||0;a.length=L+M;for(let W=0;W<M;W++)a[L+W]=E[W]}else a.push(E)}}class v{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function w(a){return/^[\s\xa0]*$/.test(a)}function x(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(a,d,m){for(const E in a)d.call(m,a[E],E,a)}function C(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function y(a){const d={};for(const m in a)d[m]=a[m];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,d){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)a[m]=E[m];for(let M=0;M<T.length;M++)m=T[M],Object.prototype.hasOwnProperty.call(E,m)&&(a[m]=E[m])}}function N(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function b(a){l.setTimeout(()=>{throw a},0)}function P(){var a=Z;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ut{constructor(){this.h=this.g=null}add(d,m){const E=Et.get();E.set(d,m),this.h?this.h.next=E:this.g=E,this.h=E}}var Et=new v(()=>new Le,a=>a.reset());class Le{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,U=!1,Z=new ut,te=()=>{const a=l.Promise.resolve(void 0);ct=()=>{a.then(ve)}};var ve=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(m){b(m)}var d=Et;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}U=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function Ft(a,d){if(ie.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(V){e:{try{D(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ln[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ft.aa.h.call(this)}}S(Ft,ie);var ln={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ad=0;function mo(a,d,m,E,L){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!E,this.ha=L,this.key=++ad,this.da=this.fa=!1}function ur(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function oi(a){this.src=a,this.g={},this.h=0}oi.prototype.add=function(a,d,m,E,L){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var W=Km(a,d,E,L);return-1<W?(d=a[W],m||(d.fa=!1)):(d=new mo(d,this.src,M,!!E,L),d.fa=m,a.push(d)),d};function ai(a,d){var m=d.type;if(m in a.g){var E=a.g[m],L=Array.prototype.indexOf.call(E,d,void 0),M;(M=0<=L)&&Array.prototype.splice.call(E,L,1),M&&(ur(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Km(a,d,m,E){for(var L=0;L<a.length;++L){var M=a[L];if(!M.da&&M.listener==d&&M.capture==!!m&&M.ha==E)return L}return-1}var Qm="closure_lm_"+(1e6*Math.random()|0),Ym={};function xI(a,d,m,E,L){if(Array.isArray(d)){for(var M=0;M<d.length;M++)xI(a,d[M],m,E,L);return null}return m=kI(m),a&&a[me]?a.K(d,m,c(E)?!!E.capture:!!E,L):vM(a,d,m,!1,E,L)}function vM(a,d,m,E,L,M){if(!d)throw Error("Invalid event type");var W=c(L)?!!L.capture:!!L,ge=Jm(a);if(ge||(a[Qm]=ge=new oi(a)),m=ge.add(d,m,E,W,M),m.proxy)return m;if(E=_M(),m.proxy=E,E.src=a,E.listener=m,a.addEventListener)Ve||(L=W),L===void 0&&(L=!1),a.addEventListener(d.toString(),E,L);else if(a.attachEvent)a.attachEvent(CI(d.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function _M(){function a(m){return d.call(a.src,a.listener,m)}const d=wM;return a}function SI(a,d,m,E,L){if(Array.isArray(d))for(var M=0;M<d.length;M++)SI(a,d[M],m,E,L);else E=c(E)?!!E.capture:!!E,m=kI(m),a&&a[me]?(a=a.i,d=String(d).toString(),d in a.g&&(M=a.g[d],m=Km(M,m,E,L),-1<m&&(ur(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jm(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Km(d,m,E,L)),(m=-1<a?d[a]:null)&&Xm(m))}function Xm(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[me])ai(d.i,a);else{var m=a.type,E=a.proxy;d.removeEventListener?d.removeEventListener(m,E,a.capture):d.detachEvent?d.detachEvent(CI(m),E):d.addListener&&d.removeListener&&d.removeListener(E),(m=Jm(d))?(ai(m,a),m.h==0&&(m.src=null,d[Qm]=null)):ur(a)}}}function CI(a){return a in Ym?Ym[a]:Ym[a]="on"+a}function wM(a,d){if(a.da)a=!0;else{d=new Ft(d,this);var m=a.listener,E=a.ha||a.src;a.fa&&Xm(a),a=m.call(E,d)}return a}function Jm(a){return a=a[Qm],a instanceof oi?a:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function kI(a){return typeof a=="function"?a:(a[Zm]||(a[Zm]=function(d){return a.handleEvent(d)}),a[Zm])}function Tt(){he.call(this),this.i=new oi(this),this.M=this,this.F=null}S(Tt,he),Tt.prototype[me]=!0,Tt.prototype.removeEventListener=function(a,d,m,E){SI(this,a,d,m,E)};function Nt(a,d){var m,E=a.F;if(E)for(m=[];E;E=E.F)m.push(E);if(a=a.M,E=d.type||d,typeof d=="string")d=new ie(d,a);else if(d instanceof ie)d.target=d.target||a;else{var L=d;d=new ie(E,a),A(d,L)}if(L=!0,m)for(var M=m.length-1;0<=M;M--){var W=d.g=m[M];L=ld(W,E,!0,d)&&L}if(W=d.g=a,L=ld(W,E,!0,d)&&L,L=ld(W,E,!1,d)&&L,m)for(M=0;M<m.length;M++)W=d.g=m[M],L=ld(W,E,!1,d)&&L}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],E=0;E<m.length;E++)ur(m[E]);delete a.g[d],a.h--}}this.F=null},Tt.prototype.K=function(a,d,m,E){return this.i.add(String(a),d,!1,m,E)},Tt.prototype.L=function(a,d,m,E){return this.i.add(String(a),d,!0,m,E)};function ld(a,d,m,E){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,M=0;M<d.length;++M){var W=d[M];if(W&&!W.da&&W.capture==m){var ge=W.listener,dt=W.ha||W.src;W.fa&&ai(a.i,W),L=ge.call(dt,E)!==!1&&L}}return L&&!E.defaultPrevented}function AI(a,d,m){if(typeof a=="function")m&&(a=f(a,m));else if(a&&typeof a.handleEvent=="function")a=f(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function RI(a){a.g=AI(()=>{a.g=null,a.i&&(a.i=!1,RI(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class EM extends he{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:RI(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(a){he.call(this),this.h=a,this.g={}}S(il,he);var PI=[];function NI(a){F(a.g,function(d,m){this.g.hasOwnProperty(m)&&Xm(d)},a),a.g={}}il.prototype.N=function(){il.aa.N.call(this),NI(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eg=l.JSON.stringify,TM=l.JSON.parse,IM=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function tg(){}tg.prototype.h=null;function bI(a){return a.h||(a.h=a.i())}function DI(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ng(){ie.call(this,"d")}S(ng,ie);function rg(){ie.call(this,"c")}S(rg,ie);var Yi={},LI=null;function ud(){return LI=LI||new Tt}Yi.La="serverreachability";function VI(a){ie.call(this,Yi.La,a)}S(VI,ie);function ol(a){const d=ud();Nt(d,new VI(d))}Yi.STAT_EVENT="statevent";function MI(a,d){ie.call(this,Yi.STAT_EVENT,a),this.stat=d}S(MI,ie);function bt(a){const d=ud();Nt(d,new MI(d,a))}Yi.Ma="timingevent";function OI(a,d){ie.call(this,Yi.Ma,a),this.size=d}S(OI,ie);function al(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function ll(){this.g=!0}ll.prototype.xa=function(){this.g=!1};function xM(a,d,m,E,L,M){a.info(function(){if(a.g)if(M)for(var W="",ge=M.split("&"),dt=0;dt<ge.length;dt++){var de=ge[dt].split("=");if(1<de.length){var It=de[0];de=de[1];var xt=It.split("_");W=2<=xt.length&&xt[1]=="type"?W+(It+"="+de+"&"):W+(It+"=redacted&")}}else W=null;else W=M;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+d+`
`+m+`
`+W})}function SM(a,d,m,E,L,M,W){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+d+`
`+m+`
`+M+" "+W})}function go(a,d,m,E){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+kM(a,m)+(E?" "+E:"")})}function CM(a,d){a.info(function(){return"TIMEOUT: "+d})}ll.prototype.info=function(){};function kM(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var E=m[a];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return eg(m)}catch{return d}}var cd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ig;function dd(){}S(dd,tg),dd.prototype.g=function(){return new XMLHttpRequest},dd.prototype.i=function(){return{}},ig=new dd;function li(a,d,m,E){this.j=a,this.i=d,this.l=m,this.R=E||1,this.U=new il(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FI}function FI(){this.i=null,this.g="",this.h=!1}var UI={},sg={};function og(a,d,m){a.L=1,a.v=md(cr(d)),a.m=m,a.P=!0,zI(a,null)}function zI(a,d){a.F=Date.now(),hd(a),a.A=cr(a.v);var m=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),tx(m.i,"t",E),a.C=0,m=a.j.J,a.h=new FI,a.g=_x(a.j,m?d:null,!a.m),0<a.O&&(a.M=new EM(f(a.Y,a,a.g),a.O)),d=a.U,m=a.g,E=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(PI[0]=L.toString()),L=PI);for(var M=0;M<L.length;M++){var W=xI(m,L[M],E||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ol(),xM(a.i,a.u,a.A,a.l,a.R,a.m)}li.prototype.ca=function(a){a=a.target;const d=this.M;d&&dr(a)==3?d.j():this.Y(a)},li.prototype.Y=function(a){try{if(a==this.g)e:{const xt=dr(this.g);var d=this.g.Ba();const _o=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||lx(this.g)))){this.J||xt!=4||d==7||(d==8||0>=_o?ol(3):ol(2)),ag(this);var m=this.g.Z();this.X=m;t:if(BI(this)){var E=lx(this.g);a="";var L=E.length,M=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),ul(this);var W="";break t}this.h.i=new l.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,a+=this.h.i.decode(E[d],{stream:!(M&&d==L-1)});E.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,SM(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,dt=this.g;if((ge=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ge)){var de=ge;break t}}de=null}if(m=de)go(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lg(this,m);else{this.o=!1,this.s=3,bt(12),Xi(this),ul(this);break e}}if(this.P){m=!0;let In;for(;!this.J&&this.C<W.length;)if(In=AM(this,W),In==sg){xt==4&&(this.s=4,bt(14),m=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(In==UI){this.s=4,bt(15),go(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else go(this.i,this.l,In,null),lg(this,In);if(BI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||W.length!=0||this.h.h||(this.s=1,bt(16),m=!1),this.o=this.o&&m,!m)go(this.i,this.l,W,"[Invalid Chunked Response]"),Xi(this),ul(this);else if(0<W.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),fg(It),It.M=!0,bt(11))}}else go(this.i,this.l,W,null),lg(this,W);xt==4&&Xi(this),this.o&&!this.J&&(xt==4?mx(this.j,this):(this.o=!1,hd(this)))}else HM(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Xi(this),ul(this)}}}catch{}finally{}};function BI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function AM(a,d){var m=a.C,E=d.indexOf(`
`,m);return E==-1?sg:(m=Number(d.substring(m,E)),isNaN(m)?UI:(E+=1,E+m>d.length?sg:(d=d.slice(E,E+m),a.C=E+m,d)))}li.prototype.cancel=function(){this.J=!0,Xi(this)};function hd(a){a.S=Date.now()+a.I,$I(a,a.I)}function $I(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=al(f(a.ba,a),d)}function ag(a){a.B&&(l.clearTimeout(a.B),a.B=null)}li.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(CM(this.i,this.A),this.L!=2&&(ol(),bt(17)),Xi(this),this.s=2,ul(this)):$I(this,this.S-a)};function ul(a){a.j.G==0||a.J||mx(a.j,a)}function Xi(a){ag(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,NI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function lg(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||ug(m.h,a))){if(!a.K&&ug(m.h,a)&&m.G==3){try{var E=m.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Ed(m),_d(m);else break e;pg(m),bt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=al(f(m.Za,m),6e3));if(1>=qI(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zi(m,11)}else if((a.K||m.g==a)&&Ed(m),!w(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let de=L[d];if(m.T=de[0],de=de[1],m.G==2)if(de[0]=="c"){m.K=de[1],m.ia=de[2];const It=de[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const xt=de[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const _o=de[5];_o!=null&&typeof _o=="number"&&0<_o&&(E=1.5*_o,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const In=a.g;if(In){const Id=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var M=E.h;M.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(cg(M,M.h),M.h=null))}if(E.D){const mg=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;mg&&(E.ya=mg,Te(E.I,E.D,mg))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var W=a;if(E.qa=vx(E,E.J?E.ia:null,E.W),W.K){GI(E.h,W);var ge=W,dt=E.L;dt&&(ge.I=dt),ge.B&&(ag(ge),hd(ge)),E.g=W}else px(E);0<m.i.length&&wd(m)}else de[0]!="stop"&&de[0]!="close"||Zi(m,7);else m.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Zi(m,7):hg(m):de[0]!="noop"&&m.l&&m.l.ta(de),m.v=0)}}ol(4)}catch{}}var RM=class{constructor(a,d){this.g=a,this.map=d}};function WI(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function qI(a){return a.h?1:a.g?a.g.size:0}function ug(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function cg(a,d){a.g?a.g.add(d):a.h=d}function GI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}WI.prototype.cancel=function(){if(this.i=KI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function KI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return k(a.i)}function PM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],m=a.length,E=0;E<m;E++)d.push(a[E]);return d}d=[],m=0;for(E in a)d[m++]=a[E];return d}function NM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const E in a)d[m++]=E;return d}}}function QI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=NM(a),E=PM(a),L=E.length,M=0;M<L;M++)d.call(void 0,E[M],m&&m[M],a)}var YI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bM(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var E=a[m].indexOf("="),L=null;if(0<=E){var M=a[m].substring(0,E);L=a[m].substring(E+1)}else M=a[m];d(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ji(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ji){this.h=a.h,pd(this,a.j),this.o=a.o,this.g=a.g,fd(this,a.s),this.l=a.l;var d=a.i,m=new hl;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),XI(this,m),this.m=a.m}else a&&(d=String(a).match(YI))?(this.h=!1,pd(this,d[1]||"",!0),this.o=cl(d[2]||""),this.g=cl(d[3]||"",!0),fd(this,d[4]),this.l=cl(d[5]||"",!0),XI(this,d[6]||"",!0),this.m=cl(d[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Ji.prototype.toString=function(){var a=[],d=this.j;d&&a.push(dl(d,JI,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(dl(d,JI,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(dl(m,m.charAt(0)=="/"?VM:LM,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",dl(m,OM)),a.join("")};function cr(a){return new Ji(a)}function pd(a,d,m){a.j=m?cl(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function fd(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function XI(a,d,m){d instanceof hl?(a.i=d,jM(a.i,a.h)):(m||(d=dl(d,MM)),a.i=new hl(d,a.h))}function Te(a,d,m){a.i.set(d,m)}function md(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function cl(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function dl(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,DM),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function DM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var JI=/[#\/\?@]/g,LM=/[#\?:]/g,VM=/[#\?]/g,MM=/[#\?@]/g,OM=/#/g;function hl(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ui(a){a.g||(a.g=new Map,a.h=0,a.i&&bM(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=hl.prototype,t.add=function(a,d){ui(this),this.i=null,a=yo(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function ZI(a,d){ui(a),d=yo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function ex(a,d){return ui(a),d=yo(a,d),a.g.has(d)}t.forEach=function(a,d){ui(this),this.g.forEach(function(m,E){m.forEach(function(L){a.call(d,L,E,this)},this)},this)},t.na=function(){ui(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let E=0;E<d.length;E++){const L=a[E];for(let M=0;M<L.length;M++)m.push(d[E])}return m},t.V=function(a){ui(this);let d=[];if(typeof a=="string")ex(this,a)&&(d=d.concat(this.g.get(yo(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return ui(this),this.i=null,a=yo(this,a),ex(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function tx(a,d,m){ZI(a,d),0<m.length&&(a.i=null,a.g.set(yo(a,d),k(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var E=d[m];const M=encodeURIComponent(String(E)),W=this.V(E);for(E=0;E<W.length;E++){var L=M;W[E]!==""&&(L+="="+encodeURIComponent(String(W[E]))),a.push(L)}}return this.i=a.join("&")};function yo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function jM(a,d){d&&!a.j&&(ui(a),a.i=null,a.g.forEach(function(m,E){var L=E.toLowerCase();E!=L&&(ZI(this,E),tx(this,L,m))},a)),a.j=d}function FM(a,d){const m=new ll;if(l.Image){const E=new Image;E.onload=_(ci,m,"TestLoadImage: loaded",!0,d,E),E.onerror=_(ci,m,"TestLoadImage: error",!1,d,E),E.onabort=_(ci,m,"TestLoadImage: abort",!1,d,E),E.ontimeout=_(ci,m,"TestLoadImage: timeout",!1,d,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else d(!1)}function UM(a,d){const m=new ll,E=new AbortController,L=setTimeout(()=>{E.abort(),ci(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:E.signal}).then(M=>{clearTimeout(L),M.ok?ci(m,"TestPingServer: ok",!0,d):ci(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),ci(m,"TestPingServer: error",!1,d)})}function ci(a,d,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function zM(){this.g=new IM}function BM(a,d,m){const E=m||"";try{QI(a,function(L,M){let W=L;c(L)&&(W=eg(L)),d.push(E+M+"="+encodeURIComponent(W))})}catch(L){throw d.push(E+"type="+encodeURIComponent("_badmap")),L}}function gd(a){this.l=a.Ub||null,this.j=a.eb||!1}S(gd,tg),gd.prototype.g=function(){return new yd(this.l,this.j)},gd.prototype.i=function(a){return function(){return a}}({});function yd(a,d){Tt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yd,Tt),t=yd.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,fl(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nx(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function nx(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?pl(this):fl(this),this.readyState==3&&nx(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,pl(this))},t.Qa=function(a){this.g&&(this.response=a,pl(this))},t.ga=function(){this.g&&pl(this)};function pl(a){a.readyState=4,a.l=null,a.j=null,a.v=null,fl(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function fl(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rx(a){let d="";return F(a,function(m,E){d+=E,d+=":",d+=m,d+=`\r
`}),d}function dg(a,d,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=rx(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Te(a,d,m))}function Oe(a){Tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Oe,Tt);var $M=/^https?$/i,WM=["POST","PUT"];t=Oe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ig.g(),this.v=this.o?bI(this.o):bI(ig),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(M){ix(this,M);return}if(a=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const M of E.keys())m.set(M,E.get(M));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(WM,d,void 0))||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,W]of m)this.g.setRequestHeader(M,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ax(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){ix(this,M)}};function ix(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,sx(a),vd(a)}function sx(a){a.A||(a.A=!0,Nt(a,"complete"),Nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Nt(this,"complete"),Nt(this,"abort"),vd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vd(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ox(this):this.bb())},t.bb=function(){ox(this)};function ox(a){if(a.h&&typeof o<"u"&&(!a.v[1]||dr(a)!=4||a.Z()!=2)){if(a.u&&dr(a)==4)AI(a.Ea,0,a);else if(Nt(a,"readystatechange"),dr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var E;if(E=W===0){var L=String(a.D).match(YI)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),E=!$M.test(L?L.toLowerCase():"")}m=E}if(m)Nt(a,"complete"),Nt(a,"success");else{a.m=6;try{var M=2<dr(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",sx(a)}}finally{vd(a)}}}}function vd(a,d){if(a.g){ax(a);const m=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Nt(a,"ready");try{m.onreadystatechange=E}catch{}}}function ax(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),TM(d)}};function lx(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function HM(a){const d={};a=(a.g&&2<=dr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(w(a[E]))continue;var m=N(a[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=d[L]||[];d[L]=M,M.push(m)}C(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function ux(a){this.Aa=0,this.i=[],this.j=new ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ml("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ml("baseRetryDelayMs",5e3,a),this.cb=ml("retryDelaySeedMs",1e4,a),this.Wa=ml("forwardChannelMaxRetries",2,a),this.wa=ml("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new WI(a&&a.concurrentRequestLimit),this.Da=new zM,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ux.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,E){bt(0),this.W=a,this.H=d||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=vx(this,null,this.W),wd(this)};function hg(a){if(cx(a),a.G==3){var d=a.U++,m=cr(a.I);if(Te(m,"SID",a.K),Te(m,"RID",d),Te(m,"TYPE","terminate"),gl(a,m),d=new li(a,a.j,d),d.L=2,d.v=md(cr(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=_x(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hd(d)}yx(a)}function _d(a){a.g&&(fg(a),a.g.cancel(),a.g=null)}function cx(a){_d(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ed(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function wd(a){if(!HI(a.h)&&!a.s){a.s=!0;var d=a.Ga;ct||te(),U||(ct(),U=!0),Z.add(d,a),a.B=0}}function qM(a,d){return qI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=al(f(a.Ga,a,d),gx(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new li(this,this.j,a);let M=this.o;if(this.S&&(M?(M=y(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=hx(this,L,d),m=cr(this.I),Te(m,"RID",a),Te(m,"CVER",22),this.D&&Te(m,"X-HTTP-Session-Id",this.D),gl(this,m),M&&(this.O?d="headers="+encodeURIComponent(String(rx(M)))+"&"+d:this.m&&dg(m,this.m,M)),cg(this.h,L),this.Ua&&Te(m,"TYPE","init"),this.P?(Te(m,"$req",d),Te(m,"SID","null"),L.T=!0,og(L,m,null)):og(L,m,d),this.G=2}}else this.G==3&&(a?dx(this,a):this.i.length==0||HI(this.h)||dx(this))};function dx(a,d){var m;d?m=d.l:m=a.U++;const E=cr(a.I);Te(E,"SID",a.K),Te(E,"RID",m),Te(E,"AID",a.T),gl(a,E),a.m&&a.o&&dg(E,a.m,a.o),m=new li(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=hx(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),cg(a.h,m),og(m,E,d)}function gl(a,d){a.H&&F(a.H,function(m,E){Te(d,E,m)}),a.l&&QI({},function(m,E){Te(d,E,m)})}function hx(a,d,m){m=Math.min(a.i.length,m);var E=a.l?f(a.l.Na,a.l,a):null;e:{var L=a.i;let M=-1;for(;;){const W=["count="+m];M==-1?0<m?(M=L[0].g,W.push("ofs="+M)):M=0:W.push("ofs="+M);let ge=!0;for(let dt=0;dt<m;dt++){let de=L[dt].g;const It=L[dt].map;if(de-=M,0>de)M=Math.max(0,L[dt].g-100),ge=!1;else try{BM(It,W,"req"+de+"_")}catch{E&&E(It)}}if(ge){E=W.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,E}function px(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ct||te(),U||(ct(),U=!0),Z.add(d,a),a.v=0}}function pg(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=al(f(a.Fa,a),gx(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,fx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=al(f(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),_d(this),fx(this))};function fg(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function fx(a){a.g=new li(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=cr(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),gl(a,d),a.m&&a.o&&dg(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=md(cr(d)),m.m=null,m.P=!0,zI(m,a)}t.Za=function(){this.C!=null&&(this.C=null,_d(this),pg(this),bt(19))};function Ed(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function mx(a,d){var m=null;if(a.g==d){Ed(a),fg(a),a.g=null;var E=2}else if(ug(a.h,d))m=d.D,GI(a.h,d),E=1;else return;if(a.G!=0){if(d.o)if(E==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=a.B;E=ud(),Nt(E,new OI(E,m)),wd(a)}else px(a);else if(L=d.s,L==3||L==0&&0<d.X||!(E==1&&qM(a,d)||E==2&&pg(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),L){case 1:Zi(a,5);break;case 4:Zi(a,10);break;case 3:Zi(a,6);break;default:Zi(a,2)}}}function gx(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Zi(a,d){if(a.j.info("Error code "+d),d==2){var m=f(a.fb,a),E=a.Xa;const L=!E;E=new Ji(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||pd(E,"https"),md(E),L?FM(E.toString(),m):UM(E.toString(),m)}else bt(2);a.G=0,a.l&&a.l.sa(d),yx(a),cx(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function yx(a){if(a.G=0,a.ka=[],a.l){const d=KI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function vx(a,d,m){var E=m instanceof Ji?cr(m):new Ji(m);if(E.g!="")d&&(E.g=d+"."+E.g),fd(E,E.s);else{var L=l.location;E=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var M=new Ji(null);E&&pd(M,E),d&&(M.g=d),L&&fd(M,L),m&&(M.l=m),E=M}return m=a.D,d=a.ya,m&&d&&Te(E,m,d),Te(E,"VER",a.la),gl(a,E),E}function _x(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Oe(new gd({eb:m})):new Oe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wx(){}t=wx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Td(){}Td.prototype.g=function(a,d){return new Qt(a,d)};function Qt(a,d){Tt.call(this),this.g=new ux(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!w(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new vo(this)}S(Qt,Tt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){hg(this.g)},Qt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=eg(a),a=m);d.i.push(new RM(d.Ya++,a)),d.G==3&&wd(d)},Qt.prototype.N=function(){this.g.l=null,delete this.j,hg(this.g),delete this.g,Qt.aa.N.call(this)};function Ex(a){ng.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(Ex,ng);function Tx(){rg.call(this),this.status=1}S(Tx,rg);function vo(a){this.g=a}S(vo,wx),vo.prototype.ua=function(){Nt(this.g,"a")},vo.prototype.ta=function(a){Nt(this.g,new Ex(a))},vo.prototype.sa=function(a){Nt(this.g,new Tx)},vo.prototype.ra=function(){Nt(this.g,"b")},Td.prototype.createWebChannel=Td.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,a1=function(){return new Td},o1=function(){return ud()},s1=Yi,Rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cd.NO_ERROR=0,cd.TIMEOUT=8,cd.HTTP_ERROR=6,dc=cd,jI.COMPLETE="complete",i1=jI,DI.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Ca=DI,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,r1=Oe}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore",u1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new nf("@firebase/firestore");function Hs(){return Vi.logLevel}function H(t,...e){if(Vi.logLevel<=se.DEBUG){const n=e.map(Pf);Vi.debug(`Firestore (${Ws}): ${t}`,...n)}}function sr(t,...e){if(Vi.logLevel<=se.ERROR){const n=e.map(Pf);Vi.error(`Firestore (${Ws}): ${t}`,...n)}}function qs(t,...e){if(Vi.logLevel<=se.WARN){const n=e.map(Pf);Vi.warn(`Firestore (${Ws}): ${t}`,...n)}}function Pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,c1(t,r,n)}function c1(t,e,n){let r=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sr(r),new Error(r)}function le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||c1(e,i,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class kb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ab{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new d1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new vt(e)}}class Rb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Pb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Rb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nb{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){le(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function bf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Df(i)===Df(s)?oe(i,s):Df(i)?1:-1}return oe(t.length,e.length)}const Db=55296,Lb=57343;function Df(t){const e=t.charCodeAt(0);return e>=Db&&e<=Lb}function Gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__name__";class bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=bn.isNumericId(e),i=bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bn.extractNumericId(e).compare(bn.extractNumericId(n)):bf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class fe extends bn{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends bn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p1}static keyField(){return new ot([p1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(fe.fromString(e))}static fromName(e){return new Q(fe.fromString(e).popFirst(5))}static empty(){return new Q(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mb(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m1(t){if(!Q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g1(t){if(Q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function _t(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hc(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ob(t,e){if(e<=0)throw new $(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function ka(t,e){if(!y1(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=-62135596800,_1=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(e){return Ee.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_1);return new Ee(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v1)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_1}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ka(e,Ee._jsonSchema))return new Ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:ze("string",Ee._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Ee(0,0))}static max(){return new J(new Ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=-1;function jb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ee(n+1,0):new Ee(n,r));return new Gr(i,Q.empty(),e)}function Fb(t){return new Gr(t.readTime,t.key,Aa)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(J.min(),Q.empty(),Aa)}static max(){return new Gr(J.max(),Q.empty(),Aa)}}function Ub(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==zb)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $b(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=-1;function Ra(t){return t==null}function fc(t){return t===0&&1/t==-1/0}function Wb(t){return typeof t=="number"&&Number.isInteger(t)&&!fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="";function Hb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=E1(e)),e=qb(t.get(n),e);return E1(e)}function qb(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case w1:n+="";break;default:n+=s}}return n}function E1(t){return t+w1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1,at.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x1(this.data.getIterator())}getIteratorFrom(e){return new x1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class x1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Qe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S1("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(le(!!t,39018),typeof t=="string"){let e=0;const n=Gb.exec(t);if(le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",k1="__type__",A1="__previous_value__",R1="__local_write_time__";function gc(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k1])==null?void 0:r.stringValue)===C1}function yc(t){const e=t.mapValue.fields[A1];return gc(e)?yc(e):e}function Pa(t){const e=Qr(t.mapValue.fields[R1].timestampValue);return new Ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,i,s,o,l,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const vc="(default)";class Na{constructor(e,n){this.projectId=e,this.database=n||vc}static empty(){return new Na("","")}get isDefaultDatabase(){return this.database===vc}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__type__",N1="__max__",_c={mapValue:{fields:{__type__:{stringValue:N1}}}},b1="__vector__",wc="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gc(t)?4:Yb(t)?9007199254740991:Qb(t)?10:11:Y(28295,{value:t})}function Dn(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qr(i.timestampValue),l=Qr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),l=Fe(s.doubleValue);return o===l?fc(o)===fc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(T1(o)!==T1(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Dn(o[u],l[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function ba(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=Xr(t),r=Xr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Fe(s.integerValue||s.doubleValue),u=Fe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return D1(t.timestampValue,e.timestampValue);case 4:return D1(Pa(t),Pa(e));case 5:return bf(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Yr(s),u=Yr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=oe(l[c],u[c]);if(h!==0)return h}return oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=oe(Fe(s.latitude),Fe(o.latitude));return l!==0?l:oe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,_,S,k;const l=s.fields||{},u=o.fields||{},c=(f=l[wc])==null?void 0:f.arrayValue,h=(_=u[wc])==null?void 0:_.arrayValue,p=oe(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((k=h==null?void 0:h.values)==null?void 0:k.length)||0);return p!==0?p:L1(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const f=bf(u[p],h[p]);if(f!==0)return f;const _=Ys(l[u[p]],c[h[p]]);if(_!==0)return _}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function D1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Qr(t),r=Qr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function L1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ys(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Xs(t){return Vf(t)}function Vf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Vf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Vf(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function Ec(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(t);return e?16+Ec(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ec(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Kr(r.fields,(s,o)=>{i+=s.length+Ec(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function Tc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mf(t){return!!t&&"integerValue"in t}function Of(t){return!!t&&"arrayValue"in t}function V1(t){return!!t&&"nullValue"in t}function M1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ic(t){return!!t&&"mapValue"in t}function Qb(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[P1])==null?void 0:r.stringValue)===b1}function Da(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return{...t}}function Yb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===N1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Da(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(Da(this.value))}}function O1(t){const e=[];return Kr(t.fields,(n,r)=>{const i=new ot([n]);if(Ic(r)){const s=O1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ze(e,0,J.min(),J.min(),J.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ze(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new Ze(e,2,n,J.min(),J.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,J.min(),J.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.position=e,this.inclusive=n}}function j1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function F1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class Be extends U1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Zb(e,n,r):n==="array-contains"?new nD(e,r):n==="in"?new rD(e,r):n==="not-in"?new iD(e,r):n==="array-contains-any"?new sD(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eD(e,r):new tD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ys(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends U1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z1(t){return t.op==="and"}function B1(t){return Jb(t)&&z1(t)}function Jb(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function jf(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(B1(t))return t.filters.map(e=>jf(e)).join(",");{const e=t.filters.map(n=>jf(n)).join(",");return`${t.op}(${e})`}}function $1(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&$1(o,i.filters[l]),!0):!1}(t,e):void Y(19439)}function W1(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(W1).join(" ,")+"}"}(t):"Filter"}class Zb extends Be{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class eD extends Be{constructor(e,n){super(e,"in",n),this.keys=H1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tD extends Be{constructor(e,n){super(e,"not-in",n),this.keys=H1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class nD extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Of(n)&&ba(n.arrayValue,this.value)}}class rD extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ba(this.value.arrayValue,n)}}class iD extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ba(this.value.arrayValue,n)}}class sD extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function q1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oD(t,e,n,r,i,s,o)}function Ff(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.Te=n}return e.Te}function Uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F1(t.startAt,e.startAt)&&F1(t.endAt,e.endAt)}function zf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aD(t,e,n,r,i,s,o,l){return new Mi(t,e,n,r,i,s,o,l)}function xc(t){return new Mi(t)}function G1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bf(t){return t.collectionGroup!==null}function Zs(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qe(ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new La(s,r))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new La(ot.keyField(),r))}return e.Ie}function Ln(t){const e=ee(t);return e.Ee||(e.Ee=lD(e,Zs(t))),e.Ee}function lD(t,e){if(t.limitType==="F")return q1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new La(i.field,s)});const n=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;return q1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $f(t,e){const n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sc(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cc(t,e){return Uf(Ln(t),Ln(e))&&t.limitType===e.limitType}function K1(t){return`${Ff(Ln(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W1(i)).join(", ")}]`),Ra(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xs(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function kc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Zs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=j1(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Zs(r),i)||r.endAt&&!function(o,l,u){const c=j1(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Zs(r),i))}(t,e)}function uD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q1(t){return(e,n)=>{let r=!1;for(const i of Zs(t)){const s=cD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cD(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ys(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new Ne(Q.comparator);function or(){return dD}const Y1=new Ne(Q.comparator);function Va(...t){let e=Y1;for(const n of t)e=e.insert(n.key,n);return e}function X1(t){let e=Y1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Ma()}function J1(){return Ma()}function Ma(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const hD=new Ne(Q.comparator),pD=new Qe(Q.comparator);function ae(...t){let e=pD;for(const n of t)e=e.add(n);return e}const fD=new Qe(oe);function mD(){return fD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Z1(t){return{integerValue:""+t}}function gD(t,e){return Wb(e)?Z1(e):Wf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function yD(t,e,n){return t instanceof Rc?function(i,s){const o={fields:{[k1]:{stringValue:C1},[R1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gc(s)&&(s=yc(s)),s&&(o.fields[A1]=s),{mapValue:o}}(n,e):t instanceof Oa?tE(t,e):t instanceof ja?nE(t,e):function(i,s){const o=eE(i,s),l=rE(o)+rE(i.Ae);return Mf(o)&&Mf(i.Ae)?Z1(l):Wf(i.serializer,l)}(t,e)}function vD(t,e,n){return t instanceof Oa?tE(t,e):t instanceof ja?nE(t,e):n}function eE(t,e){return t instanceof Pc?function(r){return Mf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rc extends Ac{}class Oa extends Ac{constructor(e){super(),this.elements=e}}function tE(t,e){const n=iE(e);for(const r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ja extends Ac{constructor(e){super(),this.elements=e}}function nE(t,e){let n=iE(e);for(const r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class Pc extends Ac{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rE(t){return Fe(t.integerValue||t.doubleValue)}function iE(t){return Of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _D(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oa&&i instanceof Oa||r instanceof ja&&i instanceof ja?Gs(r.elements,i.elements,Dn):r instanceof Pc&&i instanceof Pc?Dn(r.Ae,i.Ae):r instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class wD{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bc{}function sE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new za(t.key,$e.none()):new Ua(t.key,t.data,$e.none());{const n=t.data,r=Pt.empty();let i=new Qe(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jr(t.key,r,new qt(i.toArray()),$e.none())}}function ED(t,e,n){t instanceof Ua?function(i,s,o){const l=i.value.clone(),u=lE(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(i,s,o){if(!Nc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=lE(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(aE(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Ua?function(s,o,l,u){if(!Nc(s.precondition,o))return l;const c=s.value.clone(),h=uE(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jr?function(s,o,l,u){if(!Nc(s.precondition,o))return l;const c=uE(s.fieldTransforms,u,o),h=o.data;return h.setAll(aE(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Nc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function TD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eE(r.transform,i||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function oE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gs(r,i,(s,o)=>_D(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ua extends bc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jr extends bc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lE(t,e,n){const r=new Map;le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,vD(o,l,n[i]))}return r}function uE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yD(s,o,e))}return r}class za extends bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cE extends bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ED(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=sE(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,r)=>oE(n,r))&&Gs(this.baseMutations,e.baseMutations,(n,r)=>oE(n,r))}}class Hf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return hD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ue;function dE(t){switch(t){case O.OK:return Y(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function hE(t){if(t===void 0)return sr("GRPC error has no .code"),O.UNKNOWN;switch(t){case We.OK:return O.OK;case We.CANCELLED:return O.CANCELLED;case We.UNKNOWN:return O.UNKNOWN;case We.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case We.INTERNAL:return O.INTERNAL;case We.UNAVAILABLE:return O.UNAVAILABLE;case We.UNAUTHENTICATED:return O.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case We.NOT_FOUND:return O.NOT_FOUND;case We.ALREADY_EXISTS:return O.ALREADY_EXISTS;case We.PERMISSION_DENIED:return O.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case We.ABORTED:return O.ABORTED;case We.OUT_OF_RANGE:return O.OUT_OF_RANGE;case We.UNIMPLEMENTED:return O.UNIMPLEMENTED;case We.DATA_LOSS:return O.DATA_LOSS;default:return Y(39323,{code:t})}}(ue=We||(We={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new qr([4294967295,4294967295],0);function pE(t){const e=CD().encode(t),n=new n1;return n.update(e),new Uint8Array(n.digest())}function fE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qr([n,r],0),new qr([i,s],0)]}class qf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ba(`Invalid padding: ${n}`);if(r<0)throw new Ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ba(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(qr.fromNumber(r)));return i.compare(kD)===1&&(i=new qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pE(e),[r,i]=fE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qf(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=pE(e),[r,i]=fE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dc(J.min(),i,new Ne(oe),or(),ae())}}class $a{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $a(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class mE{constructor(e,n){this.targetId=e,this.Ce=n}}class gE{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yE{constructor(){this.ve=0,this.Fe=vE(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),r=ae();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new $a(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AD{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ne(oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(zf(s))if(r===0){const o=new Q(s.path);this.et(n,o,Ze.newNoDocument(o,J.min()))}else le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Yr(r).toUint8Array()}catch(u){if(u instanceof S1)return qs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new qf(o,i,s)}catch(u){return qs(u instanceof Ba?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&zf(l.target)){const u=new Q(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ze.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ae();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Dc(e,n,this.Ye,this.je,r);return this.je=or(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ne(oe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vc(){return new Ne(Q.comparator)}function vE(){return new Ne(Q.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ND={and:"AND",or:"OR"};class bD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gf(t,e){return t.useProto3Json||Ra(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DD(t,e){return Mc(t,e.toTimestamp())}function Gt(t){return le(!!t,49232),J.fromTimestamp(function(n){const r=Qr(n);return new Ee(r.seconds,r.nanos)}(t))}function Kf(t,e){return Qf(t,e).canonicalString()}function Qf(t,e){const n=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wE(t){const e=fe.fromString(t);return le(kE(e),10190,{key:e.toString()}),e}function Oc(t,e){return Kf(t.databaseId,e.path)}function Wa(t,e){const n=wE(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(TE(n))}function EE(t,e){return Kf(t.databaseId,e)}function LD(t){const e=wE(t);return e.length===4?fe.emptyPath():TE(e)}function Yf(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TE(t){return le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function IE(t,e,n){return{name:Oc(t,e),fields:n.value.mapValue.fields}}function VD(t,e){return"found"in e?function(r,i){le(!!i.found,43571),i.found.name,i.found.updateTime;const s=Wa(r,i.found.name),o=Gt(i.found.updateTime),l=i.found.createTime?Gt(i.found.createTime):J.min(),u=new Pt({mapValue:{fields:i.found.fields}});return Ze.newFoundDocument(s,o,l,u)}(t,e):"missing"in e?function(r,i){le(!!i.missing,3894),le(!!i.readTime,22933);const s=Wa(r,i.missing),o=Gt(i.readTime);return Ze.newNoDocument(s,o)}(t,e):Y(7234,{result:e})}function MD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(le(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?O.UNKNOWN:hE(c.code);return new $(h,c.message||"")}(o);n=new gE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wa(t,r.document.name),s=Gt(r.document.updateTime),o=r.document.createTime?Gt(r.document.createTime):J.min(),l=new Pt({mapValue:{fields:r.document.fields}}),u=Ze.newFoundDocument(i,s,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Lc(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wa(t,r.document),s=r.readTime?Gt(r.readTime):J.min(),o=Ze.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Lc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wa(t,r.document),s=r.removedTargetIds||[];n=new Lc([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SD(i,s),l=r.targetId;n=new mE(l,o)}}return n}function xE(t,e){let n;if(e instanceof Ua)n={update:IE(t,e.key,e.value)};else if(e instanceof za)n={delete:Oc(t,e.key)};else if(e instanceof Jr)n={update:IE(t,e.key,e.data),updateMask:HD(e.fieldMask)};else{if(!(e instanceof cE))return Y(16599,{Vt:e.type});n={verify:Oc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Pc)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function OD(t,e){return t&&t.length>0?(le(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Gt(i.updateTime):Gt(s);return o.isEqual(J.min())&&(o=Gt(s)),new wD(o,i.transformResults||[])}(n,e))):[]}function jD(t,e){return{documents:[EE(t,e.path)]}}function FD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EE(t,i);const s=function(c){if(c.length!==0)return CE(En.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:to(f.field),direction:BD(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Gf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function UD(t){let e=LD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){le(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const f=SE(p);return f instanceof En&&B1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(S){return new La(no(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(p){let f;return f=typeof p=="object"?p.value:p,Ra(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(p){const f=!!p.before,_=p.values||[];return new Js(_,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,_=p.values||[];return new Js(_,f)}(n.endAt)),aD(e,i,o,s,l,"F",u,c)}function zD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=no(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=no(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=no(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>SE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function BD(t){return RD[t]}function $D(t){return PD[t]}function WD(t){return ND[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return ot.fromServerFormat(t.fieldPath)}function CE(t){return t instanceof Be?function(n){if(n.op==="=="){if(M1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(V1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(V1(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:$D(n.op),value:n.value}}}(t):t instanceof En?function(n){const r=n.getFilters().map(i=>CE(i));return r.length===1?r[0]:{compositeFilter:{op:WD(n.op),filters:r}}}(t):Y(54877,{filter:t})}function HD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r,i,s=J.min(),o=J.min(),l=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.yt=e}}function GD(t){const e=UD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.Cn=new QD}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Gr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class QD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(RE,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",YD=1048576;function NE([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class XD{constructor(e){this.Ir=e,this.buffer=new Qe(NE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(PE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?H(PE,"Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Vr(3e5)})}}class ZD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(pc.ce);const r=new XD(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(AE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Hs()<=se.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function eL(t,e){return new ZD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,qt.empty(),Ee.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=or();const o=Ma(),l=function(){return Ma()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Jr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Fa(h.mutation,c,h.mutation.getFieldMask(),Ee.now())):o.set(c.key,qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>l.set(c,new nL(h,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ma();let i=new Ne((o,l)=>o-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||qt.empty();h=l.applyToLocalView(c,h),r.set(u,h);const p=(i.get(l.batchId)||ae()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,p=J1();h.forEach(f=>{if(!s.has(f)){const _=sE(n.get(f),r.get(f));_!==null&&p.set(f,_),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bf(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ji());let l=Aa,u=s;return o.next(c=>z.forEach(c,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(h=>({batchId:l,changes:X1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,u=>{const c=function(p,f){return new Mi(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ze.newInvalidDocument(h)))});let l=Va();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Fa(h.mutation,c,qt.empty(),Ee.now()),kc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gt(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:GD(i.bundledQuery),readTime:Gt(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new Ne(Q.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ji(),s=n.length+1,o=new Q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ji(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=ji(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=i)););return z.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xD(n,r));let s=this.qr.get(n);s===void 0&&(s=ae(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Qr=new Qe(et.$r),this.Ur=new Qe(et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new et(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new fe([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new fe([])),r=new et(n,e),i=new et(n,e+1);let s=ae();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||oe(e.Yr,n.Yr)}static Kr(e,n){return oe(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(et.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ID(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Lf:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(oe);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new et(new Q(s),0);let l=new Qe(oe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Yr)),!0)},o),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new et(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.ri=e,this.docs=function(){return new Ne(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ze.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=or();const o=n.path,l=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Ub(Fb(h),r)<=0||(i.has(h.key)||kc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return z.resolve(this.size)}}class uL extends tL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.persistence=e,this.si=new Oi(n=>Ff(n),Uf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new Xf,this.targetCount=0,this.ai=ro.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new oL,this.referenceDelegate=e(this),this.Pi=new cL(this),this.indexManager=new KD,this.remoteDocumentCache=function(i){return new lL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qD(n),this.Ii=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new aL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new dL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class dL extends Bb{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Ri=new Xf,this.Vi=null}static mi(e){return new Jf(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jc{constructor(e,n){this.persistence=e,this.pi=new Oi(r=>Hb(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eL(this,n)}static mi(e,n){return new jc(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ec(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HR()?8:$b(yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hL;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hs()<=se.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Hs()<=se.DEBUG&&H("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hs()<=se.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):z.resolve())}ys(e,n){if(G1(n))return z.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sc(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,o,u.readTime)?this.ys(e,Sc(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return G1(n)||i.isEqual(J.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(Hs()<=se.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.vs(e,o,n,jb(i,Aa)).next(l=>l))})}Ds(e,n){let r=new Qe(Q1(e));return n.forEach((i,s)=>{kc(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Hs()<=se.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="LocalStore",fL=3e8;class mL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ne(oe),this.xs=new Oi(s=>Ff(s),Uf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gL(t,e,n,r){return new mL(t,e,n,r)}async function DE(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ae();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:l}))})})}function yL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const p=c.batch,f=p.keys();let _=z.resolve();return f.forEach(S=>{_=_.next(()=>h.getEntry(u,S)).next(k=>{const R=c.docVersions.get(S);le(R!==null,48541),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),h.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LE(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((h,p)=>{const f=i.get(p);if(!f)return;l.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,p)));let _=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(lt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(k,R,v){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=fL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,_,h)&&l.push(n.Pi.updateTargetData(s,_))});let u=or(),c=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(_L(s,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(J.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function _L(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=or();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):H(em,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function wL(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Zr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function tm(t,e,n){const r=ee(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qs(o))throw o;H(em,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function VE(t,e,n){const r=ee(t);let i=J.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=ee(u),f=p.xs.get(h);return f!==void 0?z.resolve(p.Ms.get(f)):p.Pi.getTargetData(c,h)}(r,o,Ln(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ae())).next(l=>(TL(r,uD(e),l),{documents:l,Qs:s})))}function TL(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class ME{constructor(){this.activeTargetIds=mD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IL{constructor(){this.Mo=new ME,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class jE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(OE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function nm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===vc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=nm(),l=this.zo(e,n.toUriEncodedString());H(rm,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(l),h=Ms(c);return this.Jo(e,l,u,r,h).then(p=>(H(rm,`Received RPC '${e}' ${o}: `,p),p),p=>{throw qs(rm,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=SL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class AL extends CL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=nm();return new Promise((l,u)=>{const c=new r1;c.setWithCredentials(!0),c.listenOnce(i1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dc.NO_ERROR:const p=c.getResponseJson();H(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case dc.TIMEOUT:H(wt,`RPC '${e}' ${o} timed out`),u(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const f=c.getStatus();if(H(wt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const k=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(w)>=0?w:O.UNKNOWN}(S.status);u(new $(k,S.message))}else u(new $(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(O.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{H(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);H(wt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=nm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a1(),l=o1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");H(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);this.I_(p);let f=!1,_=!1;const S=new kL({Yo:R=>{_?H(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(f||(H(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),f=!0),H(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Zo:()=>p.close()}),k=(R,v,w)=>{R.listen(v,x=>{try{w(x)}catch(D){setTimeout(()=>{throw D},0)}})};return k(p,Ca.EventType.OPEN,()=>{_||(H(wt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),k(p,Ca.EventType.CLOSE,()=>{_||(_=!0,H(wt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(p))}),k(p,Ca.EventType.ERROR,R=>{_||(_=!0,qs(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,Ca.EventType.MESSAGE,R=>{var v;if(!_){const w=R.data[0];le(!!w,16349);const x=w,D=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(D){H(wt,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let F=function(T){const A=We[T];if(A!==void 0)return hE(A)}(V),C=D.message;F===void 0&&(F=O.INTERNAL,C="Unknown error status: "+V+" with message "+D.message),_=!0,S.a_(new $(F,C)),p.close()}else H(wt,`RPC '${e}' stream ${i} received:`,w),S.u_(w)}}),k(l,s1.STAT_EVENT,R=>{R.stat===Rf.PROXY?H(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Rf.NOPROXY&&H(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return new bD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class UE{constructor(e,n,r,i,s,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sm(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RL extends UE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MD(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Gt(o.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Yf(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=zf(u)?{documents:jD(s,u)}:{query:FD(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=_E(s,o.resumeToken);const c=Gf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){l.readTime=Mc(s,o.snapshotVersion.toTimestamp());const c=Gf(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=zD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Yf(this.serializer),n.removeTarget=e,this.q_(n)}}class PL extends UE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OD(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Yf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xE(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{}class bL extends NL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Qf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Qf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class DL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="RemoteStore";class LL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(H(Fi,"Restarting streams for network reachability change."),await async function(u){const c=ee(u);c.Ea.add(4),await Ha(c),c.Ra.set("Unknown"),c.Ea.delete(4),await zc(c)}(this))})}),this.Ra=new DL(r,i)}}async function zc(t){if(Ui(t))for(const e of t.da)await e(!0)}async function Ha(t){for(const e of t.da)await e(!1)}function zE(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),um(n)?lm(n):io(n).O_()&&am(n,e))}function om(t,e){const n=ee(t),r=io(n);n.Ia.delete(e),r.O_()&&BE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ui(n)&&n.Ra.set("Unknown"))}function am(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).Y_(e)}function BE(t,e){t.Va.Ue(e),io(t).Z_(e)}function lm(t){t.Va=new AD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),io(t).start(),t.Ra.ua()}function um(t){return Ui(t)&&!io(t).x_()&&t.Ia.size>0}function Ui(t){return ee(t).Ea.size===0}function $E(t){t.Va=void 0}async function VL(t){t.Ra.set("Online")}async function ML(t){t.Ia.forEach((e,n)=>{am(t,e)})}async function OL(t,e){$E(t),um(t)?(t.Ra.ha(e),lm(t)):t.Ra.set("Unknown")}async function jL(t,e,n){if(t.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){H(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bc(t,r)}else if(e instanceof Lc?t.Va.Ze(e):e instanceof mE?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await LE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),BE(s,u);const p=new Zr(h.target,u,c,h.sequenceNumber);am(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){H(Fi,"Failed to raise snapshot:",r),await Bc(t,r)}}async function Bc(t,e,n){if(!Qs(e))throw e;t.Ea.add(1),await Ha(t),t.Ra.set("Offline"),n||(n=()=>LE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Fi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zc(t)})}function WE(t,e){return e().catch(n=>Bc(t,n,e))}async function $c(t){const e=ee(t),n=ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lf;for(;FL(e);)try{const i=await wL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UL(e,i)}catch(i){await Bc(e,i)}HE(e)&&qE(e)}function FL(t){return Ui(t)&&t.Ta.length<10}function UL(t,e){t.Ta.push(e);const n=ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HE(t){return Ui(t)&&!ei(t).x_()&&t.Ta.length>0}function qE(t){ei(t).start()}async function zL(t){ei(t).ra()}async function BL(t){const e=ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function $L(t,e,n){const r=t.Ta.shift(),i=Hf.from(r,e,n);await WE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $c(t)}async function WL(t,e){e&&ei(t).X_&&await async function(r,i){if(function(o){return dE(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();ei(r).B_(),await WE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $c(r)}}(t,e),HE(t)&&qE(t)}async function GE(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),H(Fi,"RemoteStore received new credentials");const r=Ui(n);n.Ea.add(3),await Ha(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zc(n)}async function HL(t,e){const n=ee(t);e?(n.Ea.delete(2),await zc(n)):e||(n.Ea.add(2),await Ha(n),n.Ra.set("Unknown"))}function io(t){return t.ma||(t.ma=function(n,r,i){const s=ee(n);return s.sa(),new RL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:VL.bind(null,t),t_:ML.bind(null,t),r_:OL.bind(null,t),H_:jL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),um(t)?lm(t):t.Ra.set("Unknown")):(await t.ma.stop(),$E(t))})),t.ma}function ei(t){return t.fa||(t.fa=function(n,r,i){const s=ee(n);return s.sa(),new PL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zL.bind(null,t),r_:WL.bind(null,t),ta:BL.bind(null,t),na:$L.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await $c(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Fi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new cm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Qs(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ga=new Ne(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new oo(e,n,so.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GL{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ee(n),s=i.queries;i.queries=QE(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function QE(){return new Oi(t=>K1(t),Cc)}async function hm(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new qL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=dm(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&fm(n)}async function pm(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KL(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&fm(n)}function QL(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function fm(t){t.Ca.forEach(e=>{e.next()})}var mm,YE;(YE=mm||(mm={})).Ma="default",YE.Cache="cache";class gm{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class YL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=Q1(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new KE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const f=i.get(h),_=kc(this.query,p)?p:null,S=!!f&&this.mutatedKeys.has(f.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;f&&_?f.data.isEqual(_.data)?S!==k&&(r.track({type:3,doc:_}),R=!0):this.su(f,_)||(r.track({type:2,doc:_}),R=!0,(u&&this.eu(_,u)>0||c&&this.eu(_,c)<0)&&(l=!0)):!f&&_?(r.track({type:0,doc:_}),R=!0):f&&!_&&(r.track({type:1,doc:f}),R=!0,(u||c)&&(l=!0)),R&&(_?(o=o.add(_),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,p)=>function(_,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:R})}};return k(_)-k(S)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new oo(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new JE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new XE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ym="SyncEngine";class XL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JL{constructor(e){this.key=e,this.hu=!1}}class ZL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Oi(l=>K1(l),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new Ne(Q.comparator),this.Au=new Map,this.Ru=new Xf,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eV(t,e,n=!0){const r=oT(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ZE(r,e,n,!0),i}async function tV(t,e){const n=oT(t);await ZE(n,e,!0,!1)}async function ZE(t,e,n,r){const i=await EL(t.localStore,Ln(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await nV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zE(t.remoteStore,i),l}async function nV(t,e,n,r,i){t.pu=(p,f,_)=>async function(k,R,v,w){let x=R.view.ru(v);x.Cs&&(x=await VE(k.localStore,R.query,!1).then(({documents:C})=>R.view.ru(C,x)));const D=w&&w.targetChanges.get(R.targetId),V=w&&w.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(x,k.isPrimaryClient,D,V);return sT(k,R.targetId,F.au),F.snapshot}(t,p,f,_);const s=await VE(t.localStore,e,!0),o=new YL(e,s.Qs),l=o.ru(s.documents),u=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);sT(t,n,c.au);const h=new XL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function rV(t,e,n){const r=ee(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Cc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&om(r.remoteStore,i.targetId),vm(r,i.targetId)}).catch(Ks)):(vm(r,i.targetId),await tm(r.localStore,i.targetId,!0))}async function iV(t,e){const n=ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),om(n.remoteStore,r.targetId))}async function sV(t,e,n){const r=hV(t);try{const i=await function(o,l){const u=ee(o),c=Ee.now(),h=l.reduce((_,S)=>_.add(S.key),ae());let p,f;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=or(),k=ae();return u.Ns.getEntries(_,h).next(R=>{S=R,S.forEach((v,w)=>{w.isValidDocument()||(k=k.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,S)).next(R=>{p=R;const v=[];for(const w of l){const x=TD(w,p.get(w.key).overlayedDocument);x!=null&&v.push(new Jr(w.key,x,O1(x.value.mapValue),$e.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,v,l)}).next(R=>{f=R;const v=R.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(_,R.batchId,v)})}).then(()=>({batchId:f.batchId,changes:X1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ne(oe)),c=c.insert(l,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await qa(r,i.changes),await $c(r.remoteStore)}catch(i){const s=dm(i,"Failed to persist write");n.reject(s)}}async function eT(t,e){const n=ee(t);try{const r=await vL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?le(o.hu,14607):i.removedDocuments.size>0&&(le(o.hu,42227),o.hu=!1))}),await qa(n,r,e)}catch(r){await Ks(r)}}function tT(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ee(o);u.onlineState=l;let c=!1;u.queries.forEach((h,p)=>{for(const f of p.Sa)f.va(l)&&(c=!0)}),c&&fm(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oV(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ne(Q.comparator);o=o.insert(s,Ze.newNoDocument(s,J.min()));const l=ae().add(s),u=new Dc(J.min(),new Map,new Ne(oe),o,l);await eT(r,u),r.du=r.du.remove(s),r.Au.delete(e),_m(r)}else await tm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(Ks)}async function aV(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await yL(n.localStore,e);rT(n,r,null),nT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qa(n,i)}catch(i){await Ks(i)}}async function lV(t,e,n){const r=ee(t);try{const i=await function(o,l){const u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(le(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);rT(r,e,n),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qa(r,i)}catch(i){await Ks(i)}}function nT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function rT(t,e,n){const r=ee(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||iT(t,r)})}function iT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(om(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_m(t))}function sT(t,e,n){for(const r of n)r instanceof XE?(t.Ru.addReference(r.key,e),uV(t,r)):r instanceof JE?(H(ym,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iT(t,r.key)):Y(19791,{wu:r})}function uV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(ym,"New document in limbo: "+n),t.Eu.add(r),_m(t))}function _m(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(fe.fromString(e)),r=t.fu.next();t.Au.set(r,new JL(n)),t.du=t.du.insert(n,r),zE(t.remoteStore,new Zr(Ln(xc(n.path)),r,"TargetPurposeLimboResolution",pc.ce))}}async function qa(t,e,n){const r=ee(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Zf.As(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const h=ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(c,f=>z.forEach(f.Es,_=>h.persistence.referenceDelegate.addReference(p,f.targetId,_)).next(()=>z.forEach(f.ds,_=>h.persistence.referenceDelegate.removeReference(p,f.targetId,_)))))}catch(p){if(!Qs(p))throw p;H(em,"Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const _=h.Ms.get(f),S=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(f,k)}}}(r.localStore,s))}async function cV(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){H(ym,"User change. New user:",e.toKey());const r=await DE(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qa(n,r.Ls)}}function dV(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ae().add(r.key);{let i=ae();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function oT(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oV.bind(null,e),e.Pu.H_=KL.bind(null,e.eventManager),e.Pu.yu=QL.bind(null,e.eventManager),e}function hV(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gL(this.persistence,new pL,e.initialUser,this.serializer)}Cu(e){return new bE(Jf.mi,this.serializer)}Du(e){return new IL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class pV extends Wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){le(this.persistence.referenceDelegate instanceof jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new bE(r=>jc.mi(r,n),this.serializer)}}class wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GL}()}createDatastore(e){const n=Uc(e.databaseInfo.databaseId),r=function(s){return new AL(s)}(e.databaseInfo);return function(s,o,l,u){return new bL(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new LL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return jE.v()?new jE:new xL}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,h){const p=new ZL(i,s,o,l,u,c);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ee(i);H(Fi,"RemoteStore shutting down."),s.Ea.add(5),await Ha(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ee(i),l={documents:s.map(p=>Oc(o.serializer,p))},u=await o.Ho("BatchGetDocuments",o.serializer.databaseId,fe.emptyPath(),l,s.length),c=new Map;u.forEach(p=>{const f=VD(o.serializer,p);c.set(f.key.toString(),f)});const h=[];return s.forEach(p=>{const f=c.get(p.toString());le(!!f,55234,{key:p}),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new za(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Q.fromPath(r);this.mutations.push(new cE(i,this.precondition(i)))}),await async function(r,i){const s=ee(r),o={writes:i.map(l=>xE(s.serializer,l))};await s.Go("Commit",s.serializer.databaseId,fe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Y(50498,{Gu:e.constructor.name});n=J.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(J.min())?$e.exists(!1):$e.updateTime(n):$e.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(J.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $e.updateTime(n)}return $e.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new sm(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new fV(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Ra(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dE(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class gV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=Nf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H(ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tm(t,e){t.asyncQueue.verifyOperationInProgress(),H(ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yV(t);H(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GE(e.remoteStore,i)),t._onlineComponents=e}async function yV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(ti,"Using user provided OfflineComponentProvider");try{await Tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qs("Error using user provided cache. Falling back to memory cache: "+n),await Tm(t,new Wc)}}else H(ti,"Using default OfflineComponentProvider"),await Tm(t,new pV(void 0));return t._offlineComponents}async function Im(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(ti,"Using user provided OnlineComponentProvider"),await aT(t,t._uninitializedComponentsProvider._online)):(H(ti,"Using default OnlineComponentProvider"),await aT(t,new wm))),t._onlineComponents}function vV(t){return Im(t).then(e=>e.syncEngine)}function _V(t){return Im(t).then(e=>e.datastore)}async function Hc(t){const e=await Im(t),n=e.eventManager;return n.onListen=eV.bind(null,e.syncEngine),n.onUnlisten=rV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iV.bind(null,e.syncEngine),n}function wV(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const h=new Em({next:f=>{h.Nu(),o.enqueueAndForget(()=>pm(s,p));const _=f.docs.has(l);!_&&f.fromCache?c.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&f.fromCache&&u&&u.source==="server"?c.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new gm(xc(l.path),h,{includeMetadataChanges:!0,qa:!0});return hm(s,p)}(await Hc(t),t.asyncQueue,e,n,r)),r.promise}function EV(t,e,n={}){const r=new Nn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const h=new Em({next:f=>{h.Nu(),o.enqueueAndForget(()=>pm(s,p)),f.fromCache&&u.source==="server"?c.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new gm(l,h,{includeMetadataChanges:!0,qa:!0});return hm(s,p)}(await Hc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firestore.googleapis.com",dT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YD)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cb;switch(r.type){case"firstParty":return new Pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uT.get(n);r&&(H("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}}function TV(t,e,n,r={}){var c;t=_t(t,qc);const i=Ms(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(O0(`https://${l}`),F0("Firestore",!0)),s.host!==cT&&s.host!==l&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!Ri(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=vt.MOCK_USER;else{h=MR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vt(f)}t._authCredentials=new kb(new d1(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vn(this.firestore,e,this._query)}}class be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ka(n,be._jsonSchema))return new be(e,r||null,new Q(fe.fromString(n.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:ze("string",be._jsonSchemaVersion),referencePath:ze("string")};class ni extends Vn{constructor(e,n,r){super(e,n,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new Q(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function an(t,e,...n){if(t=xe(t),f1("collection","path",e),t instanceof qc){const r=fe.fromString(e,...n);return g1(r),new ni(t,null,r)}{if(!(t instanceof be||t instanceof ni))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return g1(r),new ni(t.firestore,null,r)}}function Mn(t,e,...n){if(t=xe(t),arguments.length===1&&(e=Nf.newId()),f1("doc","path",e),t instanceof qc){const r=fe.fromString(e,...n);return m1(r),new be(t,null,new Q(r))}{if(!(t instanceof be||t instanceof ni))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return m1(r),new be(t.firestore,t instanceof ni?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class fT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sm(this,"async_queue_retry"),this._c=()=>{const r=im();r&&H(pT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Nn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qs(e))throw e;H(pT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",mT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=cm.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:mT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Tn extends qc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fT(e),this._firestoreClient=void 0,await e}}}function IV(t,e){const n=typeof t=="object"?t:Q0(),r=typeof t=="string"?t:vc,i=pf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LR("firestore");s&&TV(i,...s)}return i}function ao(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xV(t),t._firestoreClient}function xV(t){var r,i,s;const e=t._freezeSettings(),n=function(l,u,c,h){return new Kb(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kt(lt.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kt(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ka(e,Kt._jsonSchema))return Kt.fromBase64String(e.bytes)}}Kt._jsonSchemaVersion="firestore/bytes/1.0",Kt._jsonSchema={type:ze("string",Kt._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:On._jsonSchemaVersion}}static fromJSON(e){if(ka(e,On._jsonSchema))return new On(e.latitude,e.longitude)}}On._jsonSchemaVersion="firestore/geoPoint/1.0",On._jsonSchema={type:ze("string",On._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ka(e,jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jn(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jn._jsonSchemaVersion="firestore/vectorValue/1.0",jn._jsonSchema={type:ze("string",jn._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^__.*__$/;class CV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ua(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class Sm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vT(this.Ac)&&SV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uc(e)}Cc(e,n,r,i=!1){return new Sm({Ac:e,methodName:n,Dc:r,path:ot.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zi(t){const e=t._freezeSettings(),n=Uc(t._databaseId);return new kV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gc(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Am("Data must be an object, but it was:",o,r);const l=wT(r,o);let u,c;if(s.merge)u=new qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const f=Rm(e,p,n);if(!o.contains(f))throw new $(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TT(h,f)||h.push(f)}u=new qt(h),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new CV(new Pt(l),u,c)}class Kc extends xm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function Cm(t,e,n,r){const i=t.Cc(1,e,n);Am("Data must be an object, but it was:",i,r);const s=[],o=Pt.empty();Kr(r,(u,c)=>{const h=Pm(e,u,n);c=xe(c);const p=i.yc(h);if(c instanceof Kc)s.push(h);else{const f=Ga(c,p);f!=null&&(s.push(h),o.set(h,f))}});const l=new qt(s);return new yT(o,l,i.fieldTransforms)}function km(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[Rm(e,r,n)],u=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(Rm(e,s[f])),u.push(s[f+1]);const c=[],h=Pt.empty();for(let f=l.length-1;f>=0;--f)if(!TT(c,l[f])){const _=l[f];let S=u[f];S=xe(S);const k=o.yc(_);if(S instanceof Kc)c.push(_);else{const R=Ga(S,k);R!=null&&(c.push(_),h.set(_,R))}}const p=new qt(c);return new yT(h,p,o.fieldTransforms)}function _T(t,e,n,r=!1){return Ga(n,t.Cc(r?4:3,e))}function Ga(t,e){if(ET(t=xe(t)))return Am("Unsupported field value:",e,t),wT(t,e);if(t instanceof xm)return function(r,i){if(!vT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Ga(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ee.fromDate(r);return{timestampValue:Mc(i.serializer,s)}}if(r instanceof Ee){const s=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(i.serializer,s)}}if(r instanceof On)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kt)return{bytesValue:_E(i.serializer,r._byteString)};if(r instanceof be){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jn)return function(o,l){return{mapValue:{fields:{[P1]:{stringValue:b1},[wc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Wf(l.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${hc(r)}`)}(t,e)}function wT(t,e){const n={};return I1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(r,i)=>{const s=Ga(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ET(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ee||t instanceof On||t instanceof Kt||t instanceof be||t instanceof xm||t instanceof jn)}function Am(t,e,n){if(!ET(n)||!y1(n)){const r=hc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Rm(t,e,n){if((e=xe(e))instanceof lo)return e._internalPath;if(typeof e=="string")return Pm(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const AV=new RegExp("[~\\*/\\[\\]]");function Pm(t,e,n){if(e.search(AV)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lo(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new $(O.INVALID_ARGUMENT,l+t+u)}function TT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RV extends Ka{data(){return super.data()}}function Yc(t,e){return typeof e=="string"?Pm(t,e):e instanceof lo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nm{}class Xc extends Nm{}function ri(t,e,...n){let r=[];e instanceof Nm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof bm).length,l=s.filter(u=>u instanceof Jc).length;if(o>1||o>0&&l>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jc extends Xc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jc(e,n,r)}_apply(e){const n=this._parse(e);return kT(e._query,n),new Vn(e.firestore,e.converter,$f(e._query,n))}_parse(e){const n=zi(e.firestore);return function(s,o,l,u,c,h,p){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){CT(p,h);const S=[];for(const k of p)S.push(ST(u,s,k));f={arrayValue:{values:S}}}else f=ST(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||CT(p,h),f=_T(l,o,p,h==="in"||h==="not-in");return Be.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qa(t,e,n){const r=e,i=Yc("where",t);return Jc._create(i,r,n)}class bm extends Nm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)kT(o,u),o=$f(o,u)}(e._query,n),new Vn(e.firestore,e.converter,$f(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dm extends Xc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dm(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new La(s,o)}(e._query,this._field,this._direction);return new Vn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Mi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Ya(t,e="asc"){const n=e,r=Yc("orderBy",t);return Dm._create(r,n)}class Lm extends Xc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Lm(e,n,r)}_apply(e){return new Vn(e.firestore,e.converter,Sc(e._query,this._limit,this._limitType))}}function Xa(t){return Ob("limit",t),Lm._create("limit",t,"F")}class Vm extends Xc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vm(e,n,r)}_apply(e){const n=PV(e,this.type,this._docOrFields,this._inclusive);return new Vn(e.firestore,e.converter,function(i,s){return new Mi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function xT(...t){return Vm._create("startAfter",t,!1)}function PV(t,e,n,r){if(n[0]=xe(n[0]),n[0]instanceof Ka)return function(s,o,l,u,c){if(!u)throw new $(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const p of Zs(s))if(p.field.isKeyField())h.push(Tc(o,u.key));else{const f=u.data.field(p.field);if(gc(f))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const _=p.field.canonicalString();throw new $(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(f)}return new Js(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zi(t.firestore);return function(o,l,u,c,h,p){const f=o.explicitOrderBy;if(h.length>f.length)throw new $(O.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let S=0;S<h.length;S++){const k=h[S];if(f[S].field.isKeyField()){if(typeof k!="string")throw new $(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof k}`);if(!Bf(o)&&k.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${k}' contains a slash.`);const R=o.path.child(fe.fromString(k));if(!Q.isDocumentKey(R))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const v=new Q(R);_.push(Tc(l,v))}else{const R=_T(u,c,k);_.push(R)}}return new Js(_,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function ST(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bf(e)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!Q.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tc(t,new Q(r))}if(n instanceof be)return Tc(t,n._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(n)}.`)}function CT(t,e){if(!Array.isArray(t)||t.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kT(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AT{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[wc].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Fe(o.doubleValue));return new jn(n)}convertGeoPoint(e){return new On(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Ee(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);le(kE(r),9688,{name:e});const i=new Na(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||sr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class NV extends AT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,n)}}class uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ii extends Ka{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ii._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ii._jsonSchemaVersion="firestore/documentSnapshot/1.0",ii._jsonSchema={type:ze("string",ii._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class ed extends ii{data(e={}){return super.data(e)}}class Bi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ed(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new ed(i._firestore,i._userDataWriter,l.doc.key,l.doc,new uo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ed(i._firestore,i._userDataWriter,l.doc.key,l.doc,new uo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:bV(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){t=_t(t,be);const e=_t(t.firestore,Tn);return wV(ao(e),t._key).then(n=>NT(e,t,n))}Bi._jsonSchemaVersion="firestore/querySnapshot/1.0",Bi._jsonSchema={type:ze("string",Bi._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class td extends AT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,n)}}function $i(t){t=_t(t,Vn);const e=_t(t.firestore,Tn),n=ao(e),r=new td(e);return IT(t._query),EV(n,t._query).then(i=>new Bi(e,r,t,i))}function RT(t,e,n){t=_t(t,be);const r=_t(t.firestore,Tn),i=Zc(t.converter,e,n);return Ja(r,[Gc(zi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$e.none())])}function LV(t,e,n,...r){t=_t(t,be);const i=_t(t.firestore,Tn),s=zi(i);let o;return o=typeof(e=xe(e))=="string"||e instanceof lo?km(s,"updateDoc",t._key,e,n,r):Cm(s,"updateDoc",t._key,e),Ja(i,[o.toMutation(t._key,$e.exists(!0))])}function Mm(t){return Ja(_t(t.firestore,Tn),[new za(t._key,$e.none())])}function Om(t,e){const n=_t(t.firestore,Tn),r=Mn(t),i=Zc(t.converter,e);return Ja(n,[Gc(zi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function PT(t,...e){var u,c,h;t=xe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gT(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(c=p.error)==null?void 0:c.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let s,o,l;if(t instanceof be)o=_t(t.firestore,Tn),l=xc(t._key.path),s={next:p=>{e[r]&&e[r](NT(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=_t(t,Vn);o=_t(p.firestore,Tn),l=p._query;const f=new td(o);s={next:_=>{e[r]&&e[r](new Bi(o,f,p,_))},error:e[r+1],complete:e[r+2]},IT(t._query)}return function(f,_,S,k){const R=new Em(k),v=new gm(_,R,S);return f.asyncQueue.enqueueAndForget(async()=>hm(await Hc(f),v)),()=>{R.Nu(),f.asyncQueue.enqueueAndForget(async()=>pm(await Hc(f),v))}}(ao(o),l,i,s)}function Ja(t,e){return function(r,i){const s=new Nn;return r.asyncQueue.enqueueAndForget(async()=>sV(await vV(r),i,s)),s.promise}(ao(t),e)}function NT(t,e,n){const r=n.docs.get(e._key),i=new td(t);return new ii(t,i,e._key,r,new uo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zi(e)}set(e,n,r){this._verifyNotCommitted();const i=si(e,this._firestore),s=Zc(i.converter,n,r),o=Gc(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$e.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=si(e,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof lo?km(this._dataReader,"WriteBatch.update",s._key,n,r,i):Cm(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,$e.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=si(e,this._firestore);return this._mutations=this._mutations.concat(new za(n._key,$e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function si(t,e){if((t=xe(t)).firestore!==e)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zi(e)}get(e){const n=si(e,this._firestore),r=new NV(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Y(24041);const s=i[0];if(s.isFoundDocument())return new Ka(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ka(this._firestore,r,n._key,null,n.converter);throw Y(18433,{doc:s})})}set(e,n,r){const i=si(e,this._firestore),s=Zc(i.converter,n,r),o=Gc(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=si(e,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof lo?km(this._dataReader,"Transaction.update",s._key,n,r,i):Cm(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=si(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV extends OV{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=si(e,this._firestore),r=new td(this._firestore);return super.get(e).then(i=>new ii(this._firestore,r,n._key,i._document,new uo(!1,!1),n.converter))}}function FV(t,e,n){t=_t(t,Tn);const r={...VV,...n};return function(s){if(s.maxAttempts<1)throw new $(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const u=new Nn;return s.asyncQueue.enqueueAndForget(async()=>{const c=await _V(s);new mV(s.asyncQueue,c,l,o,u).ju()}),u.promise}(ao(t),i=>e(new jV(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){return ao(t=_t(t,Tn)),new MV(t,e=>Ja(t,e))}(function(e,n=!0){(function(i){Ws=i})(js),Os(new Pi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tn(new Ab(r.getProvider("auth-internal")),new Nb(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),jr(l1,u1,e),jr(l1,u1,"esm2020")})();const bT=K0({apiKey:"AIzaSyDjL3e2KxKqchkzJtyUcY7VZ-w1cC70QHM",authDomain:"drinkwater-5fca5.firebaseapp.com",projectId:"drinkwater-5fca5",storageBucket:"drinkwater-5fca5.firebasestorage.app",messagingSenderId:"815020126595",appId:"1:815020126595:web:118fc15974861e291d06b6"}),co=Tb(bT),Se=IV(bT);class nd{constructor(e){es(this,"collectionName");this.collectionName=e}async create(e){return(await Om(an(Se,this.collectionName),{...e,createdAt:new Date,updatedAt:new Date})).id}async getById(e){const n=Mn(Se,this.collectionName,e),r=await DV(n);return r.exists()?{id:r.id,...r.data()}:null}async update(e,n){const r=Mn(Se,this.collectionName,e);await LV(r,{...n,updatedAt:new Date})}async delete(e){const n=Mn(Se,this.collectionName,e);await Mm(n)}async find(e={}){const n=[];e.where&&e.where.forEach(s=>{n.push(Qa(s.field,s.operator,s.value))}),e.orderBy&&e.orderBy.forEach(s=>{n.push(Ya(s.field,s.direction))}),e.limit&&n.push(Xa(e.limit)),e.startAfter&&n.push(xT(e.startAfter));const r=ri(an(Se,this.collectionName),...n);return(await $i(r)).docs.map(s=>({id:s.id,...s.data()}))}async findOne(e={}){const n=await this.find({...e,limit:1});return n.length>0?n[0]:null}async findWithPagination(e){const n=[];e.orderBy&&n.push(Ya(e.orderBy,e.orderDirection||"desc")),e.startAfter&&n.push(xT(e.startAfter)),n.push(Xa(e.limit+1));const r=ri(an(Se,this.collectionName),...n),s=(await $i(r)).docs,o=s.length>e.limit;return{data:s.slice(0,e.limit).map(u=>({id:u.id,...u.data()})),lastDoc:o?s[s.length-2]:null,hasMore:o}}async createBatch(e){const n=jm(Se),r=[];return e.forEach(i=>{const s=Mn(an(Se,this.collectionName));n.set(s,{...i,createdAt:new Date,updatedAt:new Date}),r.push(s)}),await n.commit(),r.map(i=>i.id)}async updateBatch(e){const n=jm(Se);e.forEach(({id:r,data:i})=>{const s=Mn(Se,this.collectionName,r);n.update(s,{...i,updatedAt:new Date})}),await n.commit()}async deleteBatch(e){const n=jm(Se);e.forEach(r=>{const i=Mn(Se,this.collectionName,r);n.delete(i)}),await n.commit()}async runTransaction(e){return FV(Se,e)}onSnapshot(e,n={}){const r=[];n.where&&n.where.forEach(s=>{r.push(Qa(s.field,s.operator,s.value))}),n.orderBy&&n.orderBy.forEach(s=>{r.push(Ya(s.field,s.direction))}),n.limit&&r.push(Xa(n.limit));const i=ri(an(Se,this.collectionName),...r);return PT(i,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})}onSnapshotById(e,n){const r=Mn(Se,this.collectionName,e);return PT(r,i=>{if(i.exists()){const s={id:i.id,...i.data()};n(s)}else n(null)})}}class Fm extends nd{constructor(){super("users")}async create(e){const n=Bp(e.username,e.displayName),r={...e,...n,createdAt:new Date,updatedAt:new Date};if(e.uid){const i=Mn(Se,"users",e.uid);return await RT(i,{...r,id:e.uid}),e.uid}else return super.create(r)}async updateSearchFields(e,n,r){const i=await this.getById(e);if(!i)return;const s=n||i.username,o=r!==void 0?r:i.displayName,l=Bp(s,o);await this.update(e,{...n&&{username:s},...r!==void 0&&{displayName:o},...l,updatedAt:new Date})}async findByEmail(e){return this.findOne({where:[{field:"email",operator:"==",value:e}]})}async findByUsername(e){return this.findOne({where:[{field:"username",operator:"==",value:e}]})}async searchUsersImproved(e,n=50){const r=ki(e);if(r.length<2)return[];const i=Mu(r,2),s=Mu(r,3),o=i.slice(0,10),l=s.slice(0,10),u=await this.find({where:[{field:"searchGrams2",operator:"array-contains-any",value:o}],limit:n}),c=await this.find({where:[{field:"searchGrams3",operator:"array-contains-any",value:l}],limit:n});return[...u,...c].filter((k,R,v)=>v.findIndex(w=>w.id===k.id)===R).filter(k=>{const R={searchGrams2:k.searchGrams2||[],searchGrams3:k.searchGrams3||[]},v=i.every(x=>R.searchGrams2.includes(x)),w=s.every(x=>R.searchGrams3.includes(x));return v&&w}).map(k=>({user:k,score:Lk(k,e,{searchGrams2:k.searchGrams2||[],searchGrams3:k.searchGrams3||[]})})).sort((k,R)=>R.score-k.score).slice(0,n).map(k=>k.user).map(k=>({id:k.id,username:k.username,avatarUrl:k.avatarUrl,bio:k.bio,displayName:k.displayName,createdAt:k.createdAt,updatedAt:k.updatedAt,followersCount:k.followersCount,followingCount:k.followingCount,postsCount:k.postsCount,isPrivate:k.isPrivate}))}async searchUsers(e,n=10){return(await this.find({where:[{field:"username",operator:">=",value:e},{field:"username",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async searchUsersByDisplayName(e,n=10){return(await this.find({where:[{field:"displayName",operator:">=",value:e},{field:"displayName",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async followUser(e,n){const r={followerId:e,followedId:n,followedAt:new Date};await Om(an(Se,"users",n,"followers"),r),await Om(an(Se,"users",e,"following"),r),await this.updateFollowersCount(n,1),await this.updateFollowingCount(e,1)}async unfollowUser(e,n){const r=ri(an(Se,"users",n,"followers"),Qa("followerId","==",e));(await $i(r)).docs.forEach(async l=>{await Mm(l.ref)});const s=ri(an(Se,"users",e,"following"),Qa("followedId","==",n));(await $i(s)).docs.forEach(async l=>{await Mm(l.ref)}),await this.updateFollowersCount(n,-1),await this.updateFollowingCount(e,-1)}async isFollowing(e,n){const r=ri(an(Se,"users",n,"followers"),Qa("followerId","==",e));return!(await $i(r)).empty}async getFollowers(e,n=20){const r=ri(an(Se,"users",e,"followers"),Ya("followedAt","desc"),Xa(n)),s=(await $i(r)).docs.map(l=>l.data().followerId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(l=>({id:l.id,username:l.username,avatarUrl:l.avatarUrl,bio:l.bio,displayName:l.displayName,createdAt:l.createdAt,updatedAt:l.updatedAt,followersCount:l.followersCount,followingCount:l.followingCount,postsCount:l.postsCount,isPrivate:l.isPrivate}))}async getFollowing(e,n=20){const r=ri(an(Se,"users",e,"following"),Ya("followedAt","desc"),Xa(n)),s=(await $i(r)).docs.map(l=>l.data().followedId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(l=>({id:l.id,username:l.username,avatarUrl:l.avatarUrl,bio:l.bio,displayName:l.displayName,createdAt:l.createdAt,updatedAt:l.updatedAt,followersCount:l.followersCount,followingCount:l.followingCount,postsCount:l.postsCount,isPrivate:l.isPrivate}))}async updateFollowersCount(e,n){const r=await this.getById(e);if(r){const i=(r.followersCount||0)+n;await this.update(e,{followersCount:Math.max(0,i)})}}async updateFollowingCount(e,n){const r=await this.getById(e);if(r){const i=(r.followingCount||0)+n;await this.update(e,{followingCount:Math.max(0,i)})}}async updatePostsCount(e,n){const r=await this.getById(e);if(r){const i=(r.postsCount||0)+n;await this.update(e,{postsCount:Math.max(0,i)})}}async migrateUserToUid(e,n){try{const r=await this.getById(e);if(!r)throw new Error("Usurio no encontrado");const i=Mn(Se,"users",n);await RT(i,{...r,id:n,updatedAt:new Date}),await this.delete(e),console.log(`Usurio migrado: ${e} -> ${n}`)}catch(r){throw console.error("Erro ao migrar usurio:",r),r}}async migrateAllUsersToSearchFields(){try{console.log("Iniciando migrao dos campos de busca...");const e=await this.find({});let n=0;for(const r of e){if(r.searchGrams2&&r.searchGrams3)continue;const i=Bp(r.username,r.displayName);await this.update(r.id,{...i,updatedAt:new Date}),n++,n%10===0&&console.log(`${n} usurios migrados...`)}console.log(`Migrao concluda! ${n} usurios atualizados.`)}catch(e){throw console.error("Erro na migrao:",e),e}}async findByUid(e){return this.getById(e)}}class Um extends nd{constructor(){super("posts");es(this,"userRepository");this.userRepository=new Fm}async getPostsByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPublicPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:n})}async getFeedPosts(n,r,i=20){if(r.length===0)return[];const s=await this.find({where:[{field:"userId",operator:"in",value:r},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:i}),o=[];for(const l of s){const u=await this.userRepository.getById(l.userId);u&&o.push({...l,user:{id:u.id,username:u.username,avatarUrl:u.avatarUrl,displayName:u.displayName}})}return o}async getPostsByTags(n,r=20){return this.find({where:[{field:"tags",operator:"array-contains-any",value:n},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPopularPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"likeCount",direction:"desc"}],limit:n})}async createPost(n){const r=await this.create({...n,likeCount:0,commentCount:0,createdAt:new Date,updatedAt:new Date});return await this.userRepository.updatePostsCount(n.userId,1),r}async deletePost(n){const r=await this.getById(n);r&&(await this.delete(n),await this.userRepository.updatePostsCount(r.userId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async updateCommentCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.commentCount+r);await this.update(n,{commentCount:s})}}async getPostsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}}class DT extends nd{constructor(){super("comments");es(this,"userRepository");es(this,"postRepository");this.userRepository=new Fm,this.postRepository=new Um}async getCommentsByPost(n,r=50){return this.find({where:[{field:"postId",operator:"==",value:n},{field:"parentCommentId",operator:"==",value:null}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getCommentsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}async getCommentsByPostWithUser(n,r=50){const i=await this.getCommentsByPost(n,r);return this.getCommentsWithUser(i)}async getRepliesToComment(n,r=20){const i=await this.find({where:[{field:"parentCommentId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"asc"}],limit:r});return this.getCommentsWithUser(i)}async createComment(n){const r=await this.create({...n,likeCount:0,createdAt:new Date,updatedAt:new Date});return await this.postRepository.updateCommentCount(n.postId,1),r}async deleteComment(n){const r=await this.getById(n);r&&(await this.delete(n),await this.postRepository.updateCommentCount(r.postId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async getCommentsByUser(n,r=20){const i=await this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});return this.getCommentsWithUser(i)}}class UV extends nd{constructor(){super("likes");es(this,"postRepository");es(this,"commentRepository");this.postRepository=new Um,this.commentRepository=new DT}async like(n,r,i){await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})||(await this.create({userId:n,targetId:r,targetType:i,createdAt:new Date}),i==="post"?await this.postRepository.updateLikeCount(r,1):await this.commentRepository.updateLikeCount(r,1))}async unlike(n,r,i){const s=await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]});s&&(await this.delete(s.id),i==="post"?await this.postRepository.updateLikeCount(r,-1):await this.commentRepository.updateLikeCount(r,-1))}async isLiked(n,r,i){return!!await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})}async getUsersWhoLikedPost(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getUsersWhoLikedComment(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"comment"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getLikesByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPostsLikedByUser(n,r=20){return(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.targetId)}async getLikeCount(n,r){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:r}]})).length}}const De=new Fm,zV=new Um;new DT,new UV;function ar(){const[t,e]=I.useState(null),[n,r]=I.useState(!0),[i,s]=I.useState(null),o=sn();return I.useEffect(()=>{const p=dN(co,f=>{console.log("onAuthStateChanged",f),e(f),r(!1)});return()=>p()},[]),{user:t,loading:n,error:i,login:async(p,f)=>{try{r(!0),s(null),await lN(co,Ow).then(()=>aN(co,p,f)).catch(S=>{console.error("Error setting persistence:",S)});const _=co.currentUser;if(e(_),console.log(_),_&&p&&p.trim()!=="")try{const S=await De.findByEmail(p);S&&S.id!==_.uid&&(console.log("Migrando usurio existente..."),S.id&&_.uid?(await De.migrateUserToUid(S.id,_.uid),console.log("Usurio migrado com sucesso!")):console.warn("IDs invlidos para migrao:",S.id,_.uid))}catch(S){console.error("Erro na migrao:",S)}o("/profile")}catch(_){s(zm(_.code))}finally{r(!1)}},register:async(p,f,_)=>{try{r(!0),s(null);const k=(await oN(co,p,f)).user;if(_&&k){if(await De.findByUsername(_.username)){await k.delete(),s("Este nome de usurio j est em uso.");return}await De.create({uid:k.uid,username:_.username,email:p,displayName:_.displayName,bio:_.bio||"",avatarUrl:_.avatarUrl||"",createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,postsCount:0,isPrivate:!1})}o("/login")}catch(S){s(zm(S.code))}finally{r(!1)}},logout:async()=>{try{r(!0),s(null),await hN(co),e(null),o("/login")}catch(p){s(zm(p.code))}finally{r(!1)}},clearError:()=>{s(null)},setError:s}}function zm(t){switch(t){case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/email-already-in-use":return"Este email j est em uso.";case"auth/weak-password":return"A senha deve ter pelo menos 6 caracteres.";case"auth/invalid-email":return"Email invlido.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Erro de autenticao. Tente novamente."}}function BV(){const{login:t,loading:e,error:n,clearError:r}=ar(),[i,s]=I.useState(""),[o,l]=I.useState(""),u=sn(),c=async h=>{h.preventDefault(),r(),await t(i,o),n||(s(""),l(""))};return g.jsxs(g.Fragment,{children:[g.jsxs(ef,{className:"ppm:text-center ppm:pb-6",children:[g.jsx(A0,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Login"}),g.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Entre com suas credenciais"})]}),g.jsxs(yn,{children:[n&&g.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),g.jsxs("form",{onSubmit:c,className:"ppm:space-y-4",children:[g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),g.jsx(gt,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:h=>s(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),g.jsx(gt,{id:"password",type:"password",placeholder:"",value:o,onChange:h=>l(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),g.jsx(Ke,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Entrar"})]}),g.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:g.jsx("button",{type:"button",onClick:()=>{r(),u("/register")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"No tem uma conta? Cadastre-se"})})]})]})}function $V(){const{register:t,loading:e,error:n,clearError:r,setError:i}=ar(),[s,o]=I.useState(""),[l,u]=I.useState(""),[c,h]=I.useState(""),[p,f]=I.useState(""),[_,S]=I.useState(""),[k,R]=I.useState(""),v=sn(),w=async x=>{if(x.preventDefault(),r(),!c.trim()){i("Nome de usurio  obrigatrio");return}if(!p.trim()){i("Nome completo  obrigatrio");return}if(!s.trim()){i("Email  obrigatrio");return}if(l.length<6){i("A senha deve ter pelo menos 6 caracteres");return}await t(s,l,{username:c.trim(),displayName:p.trim(),bio:_.trim(),avatarUrl:k.trim()}),n||(o(""),u(""),h(""),f(""),S(""),R(""))};return g.jsxs(g.Fragment,{children:[g.jsxs(ef,{className:"ppm:text-center ppm:pb-6",children:[g.jsx(A0,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Cadastro"}),g.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Crie sua conta"})]}),g.jsxs(yn,{children:[n&&g.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),g.jsxs("form",{onSubmit:w,className:"ppm:space-y-4",children:[g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usurio"}),g.jsx(gt,{id:"username",type:"text",placeholder:"jose_britto",value:c,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),g.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usurio nico para sua conta"})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),g.jsx(gt,{id:"displayName",type:"text",placeholder:"Jos Britto",value:p,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),g.jsx(gt,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),g.jsx(gt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre voc...",value:_,onChange:x=>S(x.target.value),className:"ppm:w-full",disabled:e})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),g.jsx(gt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:k,onChange:x=>R(x.target.value),className:"ppm:w-full",disabled:e})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),g.jsx(gt,{id:"password",type:"password",placeholder:"",value:l,onChange:x=>u(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),g.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"A senha deve ter pelo menos 6 caracteres"})]}),g.jsx(Ke,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Cadastrar"})]}),g.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:g.jsx("button",{onClick:()=>{r(),v("/login")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"J tem uma conta? Faa login"})})]})]})}function rd(t,e=[]){let n=[];function r(s,o){const l=I.createContext(o),u=n.length;n=[...n,o];const c=p=>{var v;const{scope:f,children:_,...S}=p,k=((v=f==null?void 0:f[t])==null?void 0:v[u])||l,R=I.useMemo(()=>S,Object.values(S));return g.jsx(k.Provider,{value:R,children:_})};c.displayName=s+"Provider";function h(p,f){var k;const _=((k=f==null?void 0:f[t])==null?void 0:k[u])||l,S=I.useContext(_);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>I.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return I.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,WV(i,...e)]}function WV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const p=u(s)[`__scope${c}`];return{...l,...p}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function LT(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Wi=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},VT={exports:{}},MT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho=I;function HV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qV=typeof Object.is=="function"?Object.is:HV,GV=ho.useState,KV=ho.useEffect,QV=ho.useLayoutEffect,YV=ho.useDebugValue;function XV(t,e){var n=e(),r=GV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return QV(function(){i.value=n,i.getSnapshot=e,Bm(i)&&s({inst:i})},[t,n,e]),KV(function(){return Bm(i)&&s({inst:i}),t(function(){Bm(i)&&s({inst:i})})},[t]),YV(n),n}function Bm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qV(t,n)}catch{return!0}}function JV(t,e){return e()}var ZV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JV:XV;MT.useSyncExternalStore=ho.useSyncExternalStore!==void 0?ho.useSyncExternalStore:ZV,VT.exports=MT;var e4=VT.exports;function t4(){return e4.useSyncExternalStore(n4,()=>!0,()=>!1)}function n4(){return()=>{}}var $m="Avatar",[r4,hO]=rd($m),[i4,OT]=r4($m),jT=I.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=I.useState("idle");return g.jsx(i4,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:g.jsx(vn.span,{...r,ref:e})})});jT.displayName=$m;var FT="AvatarImage",UT=I.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=OT(FT,n),l=s4(r,s),u=LT(c=>{i(c),o.onImageLoadingStatusChange(c)});return Wi(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?g.jsx(vn.img,{...s,ref:e,src:r}):null});UT.displayName=FT;var zT="AvatarFallback",BT=I.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=OT(zT,n),[o,l]=I.useState(r===void 0);return I.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),o&&s.imageLoadingStatus!=="loaded"?g.jsx(vn.span,{...i,ref:e}):null});BT.displayName=zT;function $T(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function s4(t,{referrerPolicy:e,crossOrigin:n}){const r=t4(),i=I.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=I.useState(()=>$T(s,t));return Wi(()=>{l($T(s,t))},[s,t]),Wi(()=>{const u=p=>()=>{l(p)};if(!s)return;const c=u("loaded"),h=u("error");return s.addEventListener("load",c),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",h)}},[s,n,e]),o}var o4=jT,a4=UT,l4=BT;function Za({className:t,...e}){return g.jsx(o4,{"data-slot":"avatar",className:it("ppm:relative ppm:flex ppm:size-8 ppm:shrink-0 ppm:overflow-hidden ppm:rounded-full",t),...e})}function el({className:t,...e}){return g.jsx(a4,{"data-slot":"avatar-image",className:it("ppm:aspect-square ppm:size-full",t),...e})}function tl({className:t,...e}){return g.jsx(l4,{"data-slot":"avatar-fallback",className:it("ppm:bg-muted ppm:flex ppm:size-full ppm:items-center ppm:justify-center ppm:rounded-full",t),...e})}var u4="Separator",WT="horizontal",c4=["horizontal","vertical"],HT=I.forwardRef((t,e)=>{const{decorative:n,orientation:r=WT,...i}=t,s=d4(r)?r:WT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(vn.div,{"data-orientation":s,...l,...i,ref:e})});HT.displayName=u4;function d4(t){return c4.includes(t)}var h4=HT;function p4({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return g.jsx(h4,{"data-slot":"separator",decorative:n,orientation:e,className:it("ppm:bg-border ppm:shrink-0 ppm:data-[orientation=horizontal]:h-px ppm:data-[orientation=horizontal]:w-full ppm:data-[orientation=vertical]:h-full ppm:data-[orientation=vertical]:w-px",t),...r})}function Ce({className:t,...e}){return g.jsx("div",{"data-slot":"skeleton",className:it("ppm:bg-accent ppm:animate-pulse ppm:rounded-md",t),...e})}function f4(){return g.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[g.jsxs("div",{className:"ppm:flex ppm:items-start ppm:space-x-8",children:[g.jsx(Ce,{className:"ppm:w-24 ppm:h-24 ppm:rounded-full"}),g.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[g.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:g.jsx(Ce,{className:"ppm:h-6 ppm:w-32"})}),g.jsxs("div",{className:"ppm:flex ppm:space-x-8",children:[g.jsx(Ce,{className:"ppm:h-4 ppm:w-16"}),g.jsx(Ce,{className:"ppm:h-4 ppm:w-20"}),g.jsx(Ce,{className:"ppm:h-4 ppm:w-16"})]}),g.jsx(Ce,{className:"ppm:h-8 ppm:w-24"}),g.jsx(Ce,{className:"ppm:h-4 ppm:w-48"}),g.jsx(Ce,{className:"ppm:h-3 ppm:w-32"})]})]}),g.jsx(Ce,{className:"ppm:h-px ppm:w-full"}),g.jsxs("div",{className:"ppm:flex ppm:space-x-8 ppm:border-b ppm:border-gray-200",children:[g.jsx(Ce,{className:"ppm:h-8 ppm:w-16"}),g.jsx(Ce,{className:"ppm:h-8 ppm:w-20"})]}),g.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:Array.from({length:9}).map((t,e)=>g.jsx(Ce,{className:"ppm:aspect-square ppm:w-full"},e))})]})}function lr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function m4(t){const e=t+"CollectionProvider",[n,r]=rd(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=k=>{const{scope:R,children:v}=k,w=j.useRef(null),x=j.useRef(new Map).current;return g.jsx(i,{scope:R,itemMap:x,collectionRef:w,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=Du(l),c=j.forwardRef((k,R)=>{const{scope:v,children:w}=k,x=s(l,v),D=bu(R,x.collectionRef);return g.jsx(u,{ref:D,children:w})});c.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",f=Du(h),_=j.forwardRef((k,R)=>{const{scope:v,children:w,...x}=k,D=j.useRef(null),V=bu(R,D),F=s(h,v);return j.useEffect(()=>(F.itemMap.set(D,{ref:D,...x}),()=>void F.itemMap.delete(D))),g.jsx(f,{[p]:"",ref:V,children:w})});_.displayName=h;function S(k){const R=s(t+"CollectionConsumer",k);return j.useCallback(()=>{const w=R.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(R.itemMap.values()).sort((F,C)=>x.indexOf(F.ref.current)-x.indexOf(C.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:c,ItemSlot:_},S,r]}var g4=Ag[" useId ".trim().toString()]||(()=>{}),y4=0;function qT(t){const[e,n]=I.useState(g4());return Wi(()=>{t||n(r=>r??String(y4++))},[t]),t||(e?`radix-${e}`:"")}var v4=Ag[" useInsertionEffect ".trim().toString()]||Wi;function GT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=_4({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=I.useRef(t!==void 0);I.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const c=I.useCallback(h=>{var p;if(l){const f=w4(h)?h(t):h;f!==t&&((p=o.current)==null||p.call(o,f))}else s(h)},[l,t,s,o]);return[u,c]}function _4({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),i=I.useRef(n),s=I.useRef(e);return v4(()=>{s.current=e},[e]),I.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function w4(t){return typeof t=="function"}var E4=I.createContext(void 0);function KT(t){const e=I.useContext(E4);return t||e||"ltr"}var Wm="rovingFocusGroup.onEntryFocus",T4={bubbles:!1,cancelable:!0},nl="RovingFocusGroup",[Hm,QT,I4]=m4(nl),[x4,YT]=rd(nl,[I4]),[S4,C4]=x4(nl),XT=I.forwardRef((t,e)=>g.jsx(Hm.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Hm.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(k4,{...t,ref:e})})}));XT.displayName=nl;var k4=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,f=I.useRef(null),_=bu(e,f),S=KT(s),[k,R]=GT({prop:o,defaultProp:l??null,onChange:u,caller:nl}),[v,w]=I.useState(!1),x=LT(c),D=QT(n),V=I.useRef(!1),[F,C]=I.useState(0);return I.useEffect(()=>{const y=f.current;if(y)return y.addEventListener(Wm,x),()=>y.removeEventListener(Wm,x)},[x]),g.jsx(S4,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:k,onItemFocus:I.useCallback(y=>R(y),[R]),onItemShiftTab:I.useCallback(()=>w(!0),[]),onFocusableItemAdd:I.useCallback(()=>C(y=>y+1),[]),onFocusableItemRemove:I.useCallback(()=>C(y=>y-1),[]),children:g.jsx(vn.div,{tabIndex:v||F===0?-1:0,"data-orientation":r,...p,ref:_,style:{outline:"none",...t.style},onMouseDown:lr(t.onMouseDown,()=>{V.current=!0}),onFocus:lr(t.onFocus,y=>{const T=!V.current;if(y.target===y.currentTarget&&T&&!v){const A=new CustomEvent(Wm,T4);if(y.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=D().filter(Le=>Le.focusable),b=N.find(Le=>Le.active),P=N.find(Le=>Le.id===k),Et=[b,P,...N].filter(Boolean).map(Le=>Le.ref.current);eI(Et,h)}}V.current=!1}),onBlur:lr(t.onBlur,()=>w(!1))})})}),JT="RovingFocusGroupItem",ZT=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,u=qT(),c=s||u,h=C4(JT,n),p=h.currentTabStopId===c,f=QT(n),{onFocusableItemAdd:_,onFocusableItemRemove:S,currentTabStopId:k}=h;return I.useEffect(()=>{if(r)return _(),()=>S()},[r,_,S]),g.jsx(Hm.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:g.jsx(vn.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:lr(t.onMouseDown,R=>{r?h.onItemFocus(c):R.preventDefault()}),onFocus:lr(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:lr(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){h.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const v=P4(R,h.orientation,h.dir);if(v!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let x=f().filter(D=>D.focusable).map(D=>D.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const D=x.indexOf(R.currentTarget);x=h.loop?N4(x,D+1):x.slice(D+1)}setTimeout(()=>eI(x))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:k!=null}):o})})});ZT.displayName=JT;var A4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function P4(t,e,n){const r=R4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return A4[r]}function eI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function N4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var b4=XT,D4=ZT;function L4(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var tI=t=>{const{present:e,children:n}=t,r=V4(e),i=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),s=bu(r.ref,M4(i));return typeof n=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};tI.displayName="Presence";function V4(t){const[e,n]=I.useState(),r=I.useRef(null),i=I.useRef(t),s=I.useRef("none"),o=t?"mounted":"unmounted",[l,u]=L4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=id(r.current);s.current=l==="mounted"?c:"none"},[l]),Wi(()=>{const c=r.current,h=i.current;if(h!==t){const f=s.current,_=id(c);t?u("MOUNT"):_==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&f!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Wi(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=_=>{const k=id(r.current).includes(_.animationName);if(_.target===e&&k&&(u("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},f=_=>{_.target===e&&(s.current=id(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function id(t){return(t==null?void 0:t.animationName)||"none"}function M4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sd="Tabs",[O4,pO]=rd(sd,[YT]),nI=YT(),[j4,qm]=O4(sd),rI=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...c}=t,h=KT(l),[p,f]=GT({prop:r,onChange:i,defaultProp:s??"",caller:sd});return g.jsx(j4,{scope:n,baseId:qT(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:u,children:g.jsx(vn.div,{dir:h,"data-orientation":o,...c,ref:e})})});rI.displayName=sd;var iI="TabsList",sI=I.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=qm(iI,n),o=nI(n);return g.jsx(b4,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(vn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});sI.displayName=iI;var oI="TabsTrigger",aI=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=qm(oI,n),l=nI(n),u=cI(o.baseId,r),c=dI(o.baseId,r),h=r===o.value;return g.jsx(D4,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(vn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:lr(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:lr(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:lr(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(r)})})})});aI.displayName=oI;var lI="TabsContent",uI=I.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=qm(lI,n),u=cI(l.baseId,r),c=dI(l.baseId,r),h=r===l.value,p=I.useRef(h);return I.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),g.jsx(tI,{present:i||h,children:({present:f})=>g.jsx(vn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&s})})});uI.displayName=lI;function cI(t,e){return`${t}-trigger-${e}`}function dI(t,e){return`${t}-content-${e}`}var F4=rI,U4=sI,z4=aI,B4=uI;function $4({className:t,...e}){return g.jsx(F4,{"data-slot":"tabs",className:it("ppm:flex ppm:flex-col ppm:gap-2",t),...e})}function W4({className:t,...e}){return g.jsx(U4,{"data-slot":"tabs-list",className:it("ppm:bg-muted ppm:text-muted-foreground ppm:inline-flex ppm:h-9 ppm:w-fit ppm:items-center ppm:justify-center ppm:rounded-lg ppm:p-[3px]",t),...e})}function hI({className:t,...e}){return g.jsx(z4,{"data-slot":"tabs-trigger",className:it("ppm:data-[state=active]:bg-background ppm:dark:data-[state=active]:text-foreground ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:outline-ring ppm:dark:data-[state=active]:border-input ppm:dark:data-[state=active]:bg-input/30 ppm:text-foreground ppm:dark:text-muted-foreground ppm:inline-flex ppm:h-[calc(100%-1px)] ppm:flex-1 ppm:items-center ppm:justify-center ppm:gap-1.5 ppm:rounded-md ppm:border ppm:border-transparent ppm:px-2 ppm:py-1 ppm:text-sm ppm:font-medium ppm:whitespace-nowrap ppm:transition-[color,box-shadow] ppm:focus-visible:ring-[3px] ppm:focus-visible:outline-1 ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:data-[state=active]:shadow-sm ppm:[&_svg]:pointer-events-none ppm:[&_svg]:shrink-0 ppm:[&_svg:not([class*=size-])]:size-4",t),...e})}function pI({className:t,...e}){return g.jsx(B4,{"data-slot":"tabs-content",className:it("ppm:flex-1 ppm:outline-none",t),...e})}function od(){const{user:t}=ar(),[e,n]=I.useState(null),[r,i]=I.useState(!0),[s,o]=I.useState(null);return I.useEffect(()=>{(async()=>{if(!(t!=null&&t.email)){n(null),i(!1);return}try{i(!0),o(null);const h=await De.findByEmail(t.email);n(h)}catch(h){o("Erro ao carregar perfil do usurio"),console.error("Erro ao buscar perfil:",h)}finally{i(!1)}})()},[t==null?void 0:t.email]),{userProfile:e,loading:r,error:s,updateProfile:async c=>{if(e!=null&&e.id)try{i(!0),o(null),await De.update(e.id,{...c,updatedAt:new Date}),n(h=>h?{...h,...c,updatedAt:new Date}:null)}catch(h){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",h)}finally{i(!1)}},refreshProfile:async()=>{if(t!=null&&t.email)try{i(!0),o(null);const c=await De.findByEmail(t.email);n(c)}catch(c){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",c)}finally{i(!1)}}}}const fI=I.createContext(void 0);function po(){const t=I.useContext(fI);if(!t)throw new Error("useAppBar deve ser usado dentro de AppBarProvider");return t}function H4({children:t}){const[e,n]=I.useState(null),r=I.useCallback(s=>{console.log("[AppBar] setAppBarContent chamado",s,typeof s),n(s)},[]);j.useEffect(()=>{console.log("[AppBar] content mudou:",e)},[e]);const i=I.useMemo(()=>({setAppBarContent:r}),[r]);return console.log("[AppBar] render",{content:e}),g.jsxs(fI.Provider,{value:i,children:[g.jsx("div",{className:"ppm:w-full ppm:h-12 ppm:flex ppm:items-center ppm:px-4 ppm:bg-white ppm:border-b ppm:border-gray-200 ppm:sticky",children:e||g.jsx("span",{className:"ppm:font-bold ppm:text-lg ppm:top-0 ppm:z-20",children:"Popgram"})}),t]})}function mI(){const{user:t,loading:e,logout:n}=ar(),{userProfile:r,loading:i,updateProfile:s}=od(),o=sn(),{username:l}=Gp(),{setAppBarContent:u}=po(),[c,h]=I.useState(null),[p,f]=I.useState(!1),[_,S]=I.useState(!1),[k,R]=I.useState("posts"),[v,w]=I.useState([]);I.useState(!1);const x=!l||r&&r.username===l;I.useEffect(()=>{(async()=>{if(x){h(r);return}if(l){f(!0);try{const A=await De.findByUsername(l);if(h(A),t&&A&&A.id){const N=await De.isFollowing(t.uid,A.id);S(N)}}catch(A){console.error("Erro ao carregar perfil:",A)}finally{f(!1)}}})()},[l,r,t,x]),I.useEffect(()=>{const T=c||r;return T&&u(g.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:T.username})),()=>u(null)},[c,r,u]);const D=async()=>{await n(),o("/login")},V=async()=>{if(!(!t||!c||!c.id))try{if(_?(await De.unfollowUser(t.uid,c.id),S(!1),h(T=>{const A=Math.max(0,((T==null?void 0:T.followersCount)||0)-1);return T?{...T,followersCount:A}:null})):(await De.followUser(t.uid,c.id),S(!0),h(T=>{const A=((T==null?void 0:T.followersCount)||0)+1;return T?{...T,followersCount:A}:null})),l){const T=await De.findByUsername(l);T&&h(T)}}catch(T){console.error("Erro ao seguir/deixar de seguir:",T)}},F=()=>{o("/edit-profile")},C=T=>T.split(" ").map(A=>A.charAt(0)).join("").toUpperCase().slice(0,2);if(e||i||p)return g.jsx(f4,{});if(!c&&!x)return g.jsx("div",{className:"ppm:p-4 ppm:text-center",children:g.jsx("p",{className:"ppm:text-gray-600",children:"Usurio no encontrado"})});const y=c||r;return y?g.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[g.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:gap-4 ppm:items-start ppm:space-x-8",children:[g.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:items-start ppm:space-x-8",children:[g.jsxs(Za,{className:"ppm:w-24 ppm:h-24",children:[g.jsx(el,{src:y.avatarUrl||"",alt:y.displayName||""}),g.jsx(tl,{className:"ppm:text-2xl ppm:bg-blue-500",children:C(y.displayName||"")})]}),g.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[g.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:g.jsx("h1",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:y.displayName})}),g.jsxs("div",{className:"ppm:flex ppm:space-x-8 ppm:text-sm",children:[g.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1",children:[g.jsx("span",{className:"ppm:font-semibold",children:y.postsCount||0}),g.jsx("span",{className:"ppm:text-gray-600",children:"Posts"})]}),g.jsxs("button",{type:"button",onClick:()=>o(`/followers/${y.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[g.jsx("span",{className:"ppm:font-semibold",children:y.followersCount||0}),g.jsx("span",{className:"ppm:text-gray-600",children:"Seguidores"})]}),g.jsxs("button",{type:"button",onClick:()=>o(`/following/${y.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[g.jsx("span",{className:"ppm:font-semibold",children:y.followingCount||0}),g.jsx("span",{className:"ppm:text-gray-600",children:"Seguindo"})]})]})]})]}),g.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-start ppm:gap-4 ppm:w-full",children:[g.jsx("div",{className:"ppm:space-y-1 ppm:w-full",children:y.bio&&g.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:y.bio})}),x?g.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:gap-2 ppm:w-full",children:[g.jsxs(Ke,{variant:"outline",size:"sm",onClick:F,className:"ppm:flex ppm:items-center ppm:space-x-2",children:[g.jsx(Yk,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{children:"Editar Perfil"})]}),g.jsxs(Ke,{onClick:D,variant:"outline",size:"sm",className:"ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100 ppm:space-x-2",disabled:e,children:[g.jsx(Gk,{className:"ppm:w-4 ppm:h-4"}),e?"Saindo...":"Sair da Conta"]})]}):g.jsxs(Ke,{variant:_?"outline":"default",size:"sm",onClick:V,className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:w-full",children:[g.jsx(ju,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{children:_?"Seguindo":"Seguir"})]})]})]}),g.jsx(p4,{}),g.jsxs($4,{value:k,onValueChange:R,className:"ppm:w-full",children:[g.jsxs(W4,{className:"ppm:grid ppm:w-full ppm:grid-cols-2 ppm:bg-transparent ppm:border-b ppm:border-gray-200",children:[g.jsxs(hI,{value:"posts",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[g.jsx(Wk,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Posts"})]}),g.jsxs(hI,{value:"tagged",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[g.jsx(ju,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Marcado"})]})]}),g.jsx(pI,{value:"posts",className:"ppm:mt-6",children:g.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:v.length>0?v.map((T,A)=>g.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-100 ppm:rounded"},A)):g.jsxs("div",{className:"ppm:col-span-3 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[g.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:g.jsx(l0,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),g.jsxs("div",{className:"ppm:text-center",children:[g.jsx("h3",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Nenhum Post Ainda"}),g.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Quando voc compartilhar fotos e vdeos, eles aparecero aqui."})]})]})})}),g.jsx(pI,{value:"tagged",className:"ppm:mt-6",children:g.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[g.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:g.jsx(ju,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),g.jsxs("div",{className:"ppm:text-center",children:[g.jsx("h3",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Nenhuma Foto Marcada"}),g.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Fotos em que voc foi marcado aparecero aqui."})]})]})})]})]}):null}function q4(){const{setAppBarContent:t}=po(),{userProfile:e,loading:n,updateProfile:r}=od(),i=sn(),[s,o]=I.useState(""),[l,u]=I.useState(""),[c,h]=I.useState(""),[p,f]=I.useState(""),[_,S]=I.useState(!1),[k,R]=I.useState("");I.useEffect(()=>{e&&(o(e.username||""),u(e.displayName||""),h(e.bio||""),f(e.avatarUrl||""))},[e]),I.useEffect(()=>(t(g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:[g.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"ppm:p-2",children:g.jsx(Ou,{className:"ppm:w-5 ppm:h-5"})}),g.jsx("span",{className:"ppm:text-lg ppm:font-bold ppm:text-gray-900",children:"Editar Perfil"})]})),()=>t(null)),[t,i]);const v=async x=>{x.preventDefault(),R(""),S(!0);try{if(!s.trim()){R("Nome de usurio  obrigatrio");return}if(!l.trim()){R("Nome completo  obrigatrio");return}if(s!==(e==null?void 0:e.username)){const D=await De.findByUsername(s);if(D&&D.id!==(e==null?void 0:e.id)){R("Este nome de usurio j est em uso");return}}await r({username:s.trim(),displayName:l.trim(),bio:c.trim(),avatarUrl:p.trim()}),i("/profile")}catch(D){console.error("Erro ao atualizar perfil:",D),R("Erro ao atualizar perfil. Tente novamente.")}finally{S(!1)}},w=()=>{i("/profile")};return n?g.jsx("div",{className:"ppm:p-4 ppm:text-center",children:g.jsx("p",{className:"ppm:text-gray-600",children:"Carregando..."})}):e?g.jsxs(g.Fragment,{children:[g.jsx(ef,{className:"ppm:text-center ppm:pb-6"}),g.jsxs(yn,{children:[k&&g.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:k}),g.jsxs("form",{onSubmit:v,className:"ppm:space-y-4",children:[g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usurio"}),g.jsx(gt,{id:"username",type:"text",placeholder:"jose_britto",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:_,required:!0}),g.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usurio nico para sua conta"})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),g.jsx(gt,{id:"displayName",type:"text",placeholder:"Jos Britto",value:l,onChange:x=>u(x.target.value),className:"ppm:w-full",disabled:_,required:!0})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),g.jsx(gt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre voc...",value:c,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:_})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),g.jsx(gt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:p,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:_})]}),g.jsxs("div",{className:"ppm:flex ppm:space-x-3 ppm:mt-6",children:[g.jsx(Ke,{type:"button",variant:"outline",onClick:w,className:"ppm:flex-1",disabled:_,children:"Cancelar"}),g.jsx(Ke,{type:"submit",className:"ppm:flex-1",variant:"default",disabled:_,children:_?"Salvando...":"Salvar"})]})]})]})]}):g.jsx("div",{className:"ppm:p-4 ppm:text-center",children:g.jsx("p",{className:"ppm:text-gray-600",children:"Usurio no encontrado"})})}function gI(){const{setAppBarContent:t}=po(),{user:e}=ar(),{userProfile:n}=od(),r=sn(),{username:i}=Gp(),[s,o]=I.useState([]),[l,u]=I.useState(!0),[c,h]=I.useState({}),[p,f]=I.useState({});!i||n&&n.username;const _=i||(n==null?void 0:n.username);I.useEffect(()=>{(async()=>{if(_){u(!0);try{const w=await De.findByUsername(_);if(!w||!w.id){console.error("Usurio no encontrado");return}const x=await De.getFollowers(w.id,50),D=x.map(V=>({...V,email:V.email??""}));if(o(D),e){const V={};for(const F of x){const C=await De.isFollowing(e.uid,F.id);V[F.id]=C}h(V)}}catch(w){console.error("Erro ao carregar seguidores:",w)}finally{u(!1)}}})()},[_,e]),I.useEffect(()=>{t(g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[g.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:g.jsx(Ou,{className:"ppm:w-5 ppm:h-5"})}),g.jsx("p",{className:"ppm:text-sm ppm:text-gray-600",children:_?`@${_}`:""})]}))},[t]),I.useEffect(()=>()=>t(null),[t]);const S=async v=>{if(!(!e||!v)){f(w=>({...w,[v]:!0}));try{c[v]?(await De.unfollowUser(e.uid,v),h(w=>({...w,[v]:!1}))):(await De.followUser(e.uid,v),h(w=>({...w,[v]:!0})))}catch(w){console.error("Erro ao seguir/deixar de seguir:",w)}finally{f(w=>({...w,[v]:!1}))}}},k=v=>{r(`/profile/${v}`)},R=v=>v.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2);return g.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[g.jsx("div",{children:g.jsx("h1",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Seguidores"})}),l?g.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((v,w)=>g.jsx(Vr,{children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[g.jsx(Ce,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),g.jsxs("div",{className:"ppm:flex-1",children:[g.jsx(Ce,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-3"})]}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},w))}):g.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(v=>g.jsx(Vr,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors",onClick:()=>k(v.username),children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[g.jsxs(Za,{className:"ppm:w-12 ppm:h-12",children:[g.jsx(el,{src:v.avatarUrl||"",alt:v.displayName||v.username}),g.jsx(tl,{className:"ppm:bg-blue-500 ppm:text-white",children:R(v.displayName||v.username)})]}),g.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[g.jsx("div",{className:"ppm:font-semibold ppm:text-gray-900 ppm:truncate",children:v.displayName}),g.jsxs("div",{className:"ppm:text-gray-500 ppm:text-sm ppm:truncate",children:["@",v.username]})]}),e&&v.id!==e.uid&&g.jsx(Ke,{size:"sm",variant:c[v.id]?"outline":"default",onClick:w=>{w.stopPropagation(),S(v.id)},disabled:p[v.id],className:"ppm:flex ppm:items-center ppm:space-x-2",children:p[v.id]?g.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):c[v.id]?g.jsxs(g.Fragment,{children:[g.jsx(ju,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{children:"Seguindo"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Jk,{className:"ppm:w-4 ppm:h-4"}),g.jsx("span",{children:"Seguir"})]})})]})},v.id)):g.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:g.jsx("p",{children:"Nenhum seguidor ainda."})})})]})}function yI(){const{setAppBarContent:t}=po(),{user:e}=ar(),{userProfile:n}=od(),r=sn(),{username:i}=Gp(),[s,o]=I.useState([]),[l,u]=I.useState(!0),[c,h]=I.useState({}),p=!i||n&&n.username===i,f=i||(n==null?void 0:n.username);I.useEffect(()=>{(async()=>{if(f){u(!0);try{const v=await De.findByUsername(f);if(!v||!v.id){console.error("Usurio no encontrado");return}const x=(await De.getFollowing(v.id,50)).map(D=>({...D,email:D.email??""}));o(x)}catch(v){console.error("Erro ao carregar seguindo:",v)}finally{u(!1)}}})()},[f]),I.useEffect(()=>{t(g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[g.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:g.jsx(Ou,{className:"ppm:w-5 ppm:h-5"})}),g.jsx("p",{className:"ppm:text-sm ppm:text-gray-600",children:f?`@${f}`:""})]}))},[t]),I.useEffect(()=>()=>t(null),[t]);const _=async R=>{if(!(!e||!R)){h(v=>({...v,[R]:!0}));try{await De.unfollowUser(e.uid,R),o(v=>v.filter(w=>w.id!==R))}catch(v){console.error("Erro ao deixar de seguir:",v)}finally{h(v=>({...v,[R]:!1}))}}},S=R=>{r(`/profile/${R}`)},k=R=>R.split(" ").map(v=>v.charAt(0)).join("").toUpperCase().slice(0,2);return g.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[g.jsx("div",{children:g.jsx("h1",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Seguindo"})}),l?g.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((R,v)=>g.jsx(Vr,{children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4 ",children:[g.jsx(Ce,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),g.jsxs("div",{className:"ppm:flex-1",children:[g.jsx(Ce,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-3"})]}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},v))}):g.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(R=>g.jsx(Vr,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors",onClick:()=>S(R.username),children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[g.jsxs(Za,{className:"ppm:w-12 ppm:h-12",children:[g.jsx(el,{src:R.avatarUrl||"",alt:R.displayName||R.username}),g.jsx(tl,{className:"ppm:bg-blue-500 ppm:text-white",children:k(R.displayName||R.username)})]}),g.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[g.jsx("div",{className:"ppm:font-semibold ppm:text-gray-900 ppm:truncate",children:R.displayName}),g.jsxs("div",{className:"ppm:text-gray-500 ppm:text-sm ppm:truncate",children:["@",R.username]})]}),p&&e&&R.id!==e.uid&&g.jsx(Ke,{size:"sm",variant:"outline",onClick:v=>{v.stopPropagation(),_(R.id)},disabled:c[R.id],className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100",children:c[R.id]?g.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):g.jsx(g.Fragment,{children:g.jsx(Xk,{className:"ppm:w-4 ppm:h-4"})})})]})},R.id)):g.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:g.jsx("p",{children:"No est seguindo ningum ainda."})})})]})}function G4(){return g.jsxs("div",{className:"ppm:space-y-4",children:[g.jsx("h2",{className:"ppm:text-lg ppm:font-bold",children:"Ajuda"}),g.jsx("p",{className:"ppm:text-sm",children:"Aqui vo informaes de ajuda."}),g.jsx(Ke,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:"Voltar"})]})}function K4({children:t}){const{user:e,loading:n}=ar();return n?null:e?g.jsx(g.Fragment,{children:t}):g.jsx(Bu,{to:"/login",replace:!0})}var Q4=I.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),rl=function(e,n,r){var i=r.get(e);return i?i(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function vI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fo=I.forwardRef(function(t,e){var n=t.alt,r=t.color,i=t.size,s=t.weight,o=t.mirrored,l=t.children,u=t.renderPath,c=vI(t,["alt","color","size","weight","mirrored","children","renderPath"]),h=I.useContext(Q4),p=h.color,f=p===void 0?"currentColor":p,_=h.size,S=h.weight,k=S===void 0?"regular":S,R=h.mirrored,v=R===void 0?!1:R,w=vI(h,["color","size","weight","mirrored"]);return j.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i??_,height:i??_,fill:r??f,viewBox:"0 0 256 256",transform:o||v?"scale(-1, 1)":void 0},w,c),!!n&&j.createElement("title",null,n),l,j.createElement("rect",{width:"256",height:"256",fill:"none"}),u(s??k,r??f))});fo.displayName="IconBase";var Hi=new Map;Hi.set("bold",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Hi.set("duotone",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Hi.set("fill",function(){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))}),Hi.set("light",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Hi.set("thin",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Hi.set("regular",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Y4=function(e,n){return rl(e,n,Hi)},_I=I.forwardRef(function(t,e){return j.createElement(fo,Object.assign({ref:e},t,{renderPath:Y4}))});_I.displayName="Heart";var qi=new Map;qi.set("bold",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),qi.set("duotone",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",opacity:"0.2"}),j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),qi.set("fill",function(){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M218.8,103.7,138.8,31a16,16,0,0,0-21.6,0l-80,72.7A16,16,0,0,0,32,115.5v92.1a16.4,16.4,0,0,0,4,11A15.9,15.9,0,0,0,48,224H96a8,8,0,0,0,8-8V168a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8v48a8,8,0,0,0,8,8h48a15.6,15.6,0,0,0,7.6-1.9A16.1,16.1,0,0,0,224,208V115.5A16,16,0,0,0,218.8,103.7Z"}))}),qi.set("light",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),qi.set("thin",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),qi.set("regular",function(t){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var X4=function(e,n){return rl(e,n,qi)},wI=I.forwardRef(function(t,e){return j.createElement(fo,Object.assign({ref:e},t,{renderPath:X4}))});wI.displayName="House";var Gi=new Map;Gi.set("bold",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),j.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Gi.set("duotone",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),j.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),j.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Gi.set("fill",function(){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))}),Gi.set("light",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),j.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Gi.set("thin",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),j.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Gi.set("regular",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),j.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var J4=function(e,n){return rl(e,n,Gi)},EI=I.forwardRef(function(t,e){return j.createElement(fo,Object.assign({ref:e},t,{renderPath:J4}))});EI.displayName="MagnifyingGlass";var Ki=new Map;Ki.set("bold",function(t){return j.createElement(j.Fragment,null,j.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),j.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ki.set("duotone",function(t){return j.createElement(j.Fragment,null,j.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),j.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ki.set("fill",function(){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))}),Ki.set("light",function(t){return j.createElement(j.Fragment,null,j.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),j.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ki.set("thin",function(t){return j.createElement(j.Fragment,null,j.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),j.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ki.set("regular",function(t){return j.createElement(j.Fragment,null,j.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),j.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Z4=function(e,n){return rl(e,n,Ki)},TI=I.forwardRef(function(t,e){return j.createElement(fo,Object.assign({ref:e},t,{renderPath:Z4}))});TI.displayName="Plus";var Qi=new Map;Qi.set("bold",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),j.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Qi.set("duotone",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),j.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),j.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Qi.set("fill",function(){return j.createElement(j.Fragment,null,j.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))}),Qi.set("light",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),j.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Qi.set("thin",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),j.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Qi.set("regular",function(t){return j.createElement(j.Fragment,null,j.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),j.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var eM=function(e,n){return rl(e,n,Qi)},II=I.forwardRef(function(t,e){return j.createElement(fo,Object.assign({ref:e},t,{renderPath:eM}))});II.displayName="User";function tM(){const t={size:16};return g.jsxs("nav",{className:"ppm:absolute ppm:bottom-0 ppm:left-0 ppm:w-full ppm:bg-white ppm:border-t ppm:flex ppm:justify-between ppm:items-center ppm:px-4 ppm:py-5 ppm:z-50",children:[g.jsx(Vs,{to:"/home",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Home",children:({isActive:e})=>g.jsx(wI,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),g.jsx(Vs,{to:"/find",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Buscar",children:({isActive:e})=>g.jsx(EI,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),g.jsx(Vs,{to:"/add-post",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Adicionar",children:({isActive:e})=>g.jsx(TI,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),g.jsx(Vs,{to:"/favorites",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Favoritos",children:({isActive:e})=>g.jsx(_I,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),g.jsx(Vs,{to:"/profile",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Perfil",children:({isActive:e})=>g.jsx(II,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})})]})}function nM(){return g.jsxs(H4,{children:[g.jsx(WA,{}),g.jsx(tM,{})]})}function rM(){return g.jsx("div",{className:"ppm:text-center ppm:mt-10 ppm:text-xl",children:"Home (Mock)"})}function iM(t,e){const[n,r]=I.useState(t);return I.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}function sM(){const{setAppBarContent:t}=po(),[e,n]=I.useState(""),[r,i]=I.useState([]),[s,o]=I.useState(!1),[l,u]=I.useState(!1),c=sn(),h=I.useRef(null),p=iM(e,300);return I.useEffect(()=>{t(g.jsxs("div",{className:"ppm:relative ppm:w-full ppm:max-w-md ppm:mx-auto",children:[g.jsx("span",{className:"ppm:absolute ppm:left-3 ppm:top-1/2 ppm:-translate-y-1/2 ppm:text-gray-400",children:g.jsx(Qk,{className:"ppm:w-5 ppm:h-5"})}),g.jsx(gt,{ref:h,placeholder:"Buscar usurio...",value:e,onChange:f=>n(f.target.value),className:"ppm:w-full ppm:pl-10 ppm:max-w-md ppm:mx-auto",autoFocus:!0})]}))},[e,t]),I.useEffect(()=>()=>t(null),[t]),I.useEffect(()=>{(async()=>{const _=p.trim();if(_.length<2){i([]),u(!1);return}u(!0),o(!0);try{const S=await De.searchUsersImproved(_,20);i(S)}catch(S){console.error("Erro na busca:",S),i([])}finally{o(!1)}})()},[p]),g.jsx("div",{className:"ppm:p-4 ppm:space-y-6",children:s?g.jsx("div",{className:"ppm:space-y-4",children:[...Array(3)].map((f,_)=>g.jsx(Vr,{children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4 ppm:py-4",children:[g.jsx(Ce,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),g.jsxs("div",{className:"ppm:flex-1",children:[g.jsx(Ce,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-3"})]}),g.jsx(Ce,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},_))}):g.jsx("div",{className:"ppm:space-y-4",children:r.length>0?r.map(f=>g.jsx(Vr,{children:g.jsxs(yn,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[g.jsxs(Za,{className:"ppm:w-12 ppm:h-12",children:[g.jsx(el,{src:f.avatarUrl||"",alt:f.displayName||f.username}),g.jsx(tl,{children:(f.displayName||f.username||"?").slice(0,2).toUpperCase()})]}),g.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[g.jsx("div",{className:"ppm:font-semibold ppm:text-gray-900 ppm:truncate",children:f.displayName}),g.jsxs("div",{className:"ppm:text-gray-500 ppm:text-sm ppm:truncate",children:["@",f.username]})]}),g.jsx(Ke,{size:"sm",onClick:()=>c(`/profile/${f.username}`),children:"Ver perfil"})]})},f.id)):l&&e.trim()!==""?g.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:"Nenhum usurio encontrado."}):e.trim()!==""&&e.trim().length<2?g.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:"Digite pelo menos 2 caracteres para buscar."}):null})})}function oM(){const{user:t}=ar(),e=sn(),[n,r]=I.useState(""),[i,s]=I.useState(""),[o,l]=I.useState(""),[u,c]=I.useState(!0),[h,p]=I.useState([]),[f,_]=I.useState([]),[S,k]=I.useState(!1),[R,v]=I.useState(!1),w=I.useCallback(async C=>{if(C.length<2)return[];try{return(await De.searchUsersImproved(C,10)).filter(T=>T.id).map(T=>({id:T.id,username:T.username,displayName:T.displayName,avatarUrl:T.avatarUrl}))}catch(y){return console.error("Erro ao buscar usurios para mention:",y),[]}},[]),x=I.useCallback(C=>{_(y=>y.find(A=>A.id===C.id)?y:[...y,C]),p(y=>y.find(A=>A===C.username)?y:[...y,C.username])},[]),D=I.useCallback(C=>{_(y=>y.filter(T=>T.id!==C)),p(y=>{const T=f.find(A=>A.id===C);return T?y.filter(A=>A!==T.username):y})},[f]),V=I.useCallback(()=>{if(!n.trim())throw new Error("URL da imagem  obrigatria");if(!i.trim())throw new Error("Descrio  obrigatria");try{new URL(n)}catch{throw new Error("URL da imagem invlida")}},[n,i]),F=I.useCallback(async()=>{if(!(t!=null&&t.uid))throw new Error("Usurio no autenticado");V(),k(!0);try{await zV.createPost({userId:t.uid,imageUrl:n.trim(),caption:i.trim(),location:o.trim(),isPublic:u,tags:h}),r(""),s(""),l(""),c(!0),p([]),_([]),e("/profile")}catch(C){throw console.error("Erro ao criar post:",C),C}finally{k(!1)}},[t==null?void 0:t.uid,n,i,o,u,h,V,e]);return{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:l,isPublic:u,setIsPublic:c,tags:h,setTags:p,mentions:f,setMentions:_,loading:S,imageError:R,setImageError:v,searchMentions:w,addMention:x,removeMention:D,submitPost:F,validateForm:V}}const aM=H_("ppm:inline-flex ppm:items-center ppm:justify-center ppm:rounded-md ppm:border ppm:px-2 ppm:py-0.5 ppm:text-xs ppm:font-medium ppm:w-fit ppm:whitespace-nowrap ppm:shrink-0 ppm:[&>svg]:size-3 ppm:gap-1 ppm:[&>svg]:pointer-events-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive ppm:transition-[color,box-shadow] ppm:overflow-hidden",{variants:{variant:{default:"ppm:border-transparent ppm:bg-primary ppm:text-primary-foreground ppm:[a&]:hover:bg-primary/90",secondary:"ppm:border-transparent ppm:bg-secondary ppm:text-secondary-foreground ppm:[a&]:hover:bg-secondary/90",destructive:"ppm:border-transparent ppm:bg-destructive ppm:text-white ppm:[a&]:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:text-foreground ppm:[a&]:hover:bg-accent ppm:[a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function lM({className:t,variant:e,asChild:n=!1,...r}){const i=n?U_:"span";return g.jsx(i,{"data-slot":"badge",className:it(aM({variant:e}),t),...r})}function uM({value:t,onChange:e,placeholder:n="Escreva uma descrio...",mentions:r,onAddMention:i,onRemoveMention:s,searchMentions:o}){const[l,u]=I.useState(!1),[c,h]=I.useState([]),[p,f]=I.useState(0),[_,S]=I.useState(""),[k,R]=I.useState(0),v=I.useRef(null),w=I.useRef(null);I.useEffect(()=>{var y;const V=((y=v.current)==null?void 0:y.selectionStart)||0;R(V);const C=t.slice(0,V).match(/@(\w*)$/);if(C){const T=C[1];S(T),u(!0),f(0),(async()=>{const N=await o(T);h(N)})()}else u(!1),h([])},[t,o]);const x=V=>{if(l)switch(V.key){case"ArrowDown":V.preventDefault(),f(F=>F<c.length-1?F+1:0);break;case"ArrowUp":V.preventDefault(),f(F=>F>0?F-1:c.length-1);break;case"Enter":V.preventDefault(),c[p]&&D(c[p]);break;case"Escape":u(!1);break}},D=V=>{var N;const F=((N=v.current)==null?void 0:N.selectionStart)||0,C=t.slice(0,F),y=t.slice(F),T=C.lastIndexOf("@"),A=C.slice(0,T)+`@${V.username} `+y;e(A),i(V),u(!1),setTimeout(()=>{if(v.current){const b=T+V.username.length+2;v.current.setSelectionRange(b,b),v.current.focus()}},0)};return g.jsxs("div",{className:"ppm:space-y-3",children:[g.jsxs("div",{className:"ppm:relative",children:[g.jsx(gt,{ref:v,value:t,onChange:V=>e(V.target.value),onKeyDown:x,placeholder:n,className:"ppm:w-full"}),l&&c.length>0&&g.jsx("div",{ref:w,className:"ppm:absolute ppm:top-full ppm:left-0 ppm:right-0 ppm:bg-white ppm:border ppm:border-gray-200 ppm:rounded-md ppm:shadow-lg ppm:z-50 ppm:max-h-48 ppm:overflow-y-auto",children:c.map((V,F)=>g.jsxs("button",{type:"button",onClick:()=>D(V),className:`ppm:w-full ppm:flex ppm:items-center ppm:gap-3 ppm:px-3 ppm:py-2 ppm:text-left ppm:hover:bg-gray-50 ppm:transition-colors ${F===p?"ppm:bg-blue-50":""}`,children:[g.jsxs(Za,{className:"ppm:w-8 ppm:h-8",children:[g.jsx(el,{src:V.avatarUrl||"",alt:V.displayName||V.username}),g.jsx(tl,{className:"ppm:text-xs",children:(V.displayName||V.username).slice(0,2).toUpperCase()})]}),g.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[g.jsx("div",{className:"ppm:font-medium ppm:text-sm ppm:truncate",children:V.displayName||V.username}),g.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:truncate",children:["@",V.username]})]})]},V.id))})]}),r.length>0&&g.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-2",children:r.map(V=>g.jsxs(lM,{variant:"secondary",className:"ppm:flex ppm:items-center ppm:gap-1 ppm:px-2 ppm:py-1",children:[g.jsxs("span",{className:"ppm:text-xs",children:["@",V.username]}),g.jsx("button",{type:"button",onClick:()=>s(V.id),className:"ppm:ml-1 ppm:hover:text-red-500 ppm:transition-colors",children:g.jsx(u0,{className:"ppm:w-3 ppm:h-3"})})]},V.id))}),g.jsx("div",{className:"ppm:text-xs ppm:text-gray-500",children:"Use @ para marcar pessoas na sua publicao"})]})}function cM(){const{setAppBarContent:t}=po(),e=sn(),{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:l,isPublic:u,setIsPublic:c,mentions:h,loading:p,imageError:f,setImageError:_,searchMentions:S,addMention:k,removeMention:R,submitPost:v}=oM(),[w,x]=I.useState(!1);I.useEffect(()=>(t(g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[g.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),className:"ppm:p-2",children:g.jsx(Ou,{className:"ppm:w-5 ppm:h-5"})}),g.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Novo Post"}),g.jsx(Ke,{variant:"ghost",size:"sm",onClick:V,disabled:p||!n.trim()||!i.trim(),className:"ppm:text-blue-600 ppm:hover:text-blue-700 ppm:font-medium",children:p?"Postando...":"Compartilhar"})]})),()=>t(null)),[t,e,p,n,i]);const D=F=>{if(r(F),_(!1),F.trim()){x(!0);const C=new window.Image;C.onload=()=>{x(!1),_(!1)},C.onerror=()=>{x(!1),_(!0)},C.src=F}},V=async()=>{try{await v()}catch(F){console.error("Erro ao criar post:",F)}};return g.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[g.jsx(Vr,{children:g.jsx(yn,{className:"ppm:p-4",children:g.jsxs("div",{className:"ppm:space-y-4",children:[g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsxs(st,{htmlFor:"imageUrl",className:"ppm:flex ppm:items-center ppm:gap-2",children:[g.jsx(Hk,{className:"ppm:w-4 ppm:h-4"}),"URL da Imagem"]}),g.jsx(gt,{id:"imageUrl",type:"url",placeholder:"Cole a URL da sua imagem aqui...",value:n,onChange:F=>D(F.target.value),className:"ppm:w-full"})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{className:"ppm:text-sm ppm:font-medium ppm:text-gray-700",children:"Preview da Imagem"}),g.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100 ppm:rounded-lg ppm:overflow-hidden ppm:border-2 ppm:border-dashed ppm:border-gray-300",children:n.trim()?g.jsxs(g.Fragment,{children:[w&&g.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:items-center ppm:justify-center ppm:bg-gray-100",children:g.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-8 ppm:w-8 ppm:border-b-2 ppm:border-blue-600"})}),f&&g.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:bg-red-50 ppm:text-red-600",children:[g.jsx(Bk,{className:"ppm:w-8 ppm:h-8 ppm:mb-2"}),g.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Erro ao carregar imagem"})]}),!w&&!f&&g.jsx("img",{src:n,alt:"Preview",className:"ppm:w-full ppm:h-full ppm:object-cover",onError:()=>_(!0)})]}):g.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:text-gray-400",children:[g.jsx(l0,{className:"ppm:w-12 ppm:h-12 ppm:mb-2"}),g.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Proporo recomendada: 1:1"}),g.jsx("span",{className:"ppm:text-xs",children:"Cole uma URL de imagem para ver o preview"})]})}),g.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:bg-blue-50 ppm:p-3 ppm:rounded-md",children:[g.jsx("div",{className:"ppm:font-medium ppm:text-blue-800 ppm:mb-1",children:" Dica de Proporo"}),g.jsx("p",{children:"Para melhor visualizao, use imagens com proporo 1:1 (quadrada). Imagens com outras propores sero cortadas para se ajustar ao formato quadrado."})]})]})]})})}),g.jsx(Vr,{children:g.jsx(yn,{className:"ppm:p-4",children:g.jsxs("div",{className:"ppm:space-y-4",children:[g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{htmlFor:"caption",className:"ppm:font-medium ppm:text-gray-700",children:"Descrio"}),g.jsx(uM,{value:i,onChange:s,placeholder:"Escreva uma descrio para sua publicao...",mentions:h,onAddMention:k,onRemoveMention:R,searchMentions:S})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsxs(st,{htmlFor:"location",className:"ppm:flex ppm:items-center ppm:gap-2",children:[g.jsx(Kk,{className:"ppm:w-4 ppm:h-4"}),"Localizao"]}),g.jsx(gt,{id:"location",placeholder:"Adicionar localizao...",value:o,onChange:F=>l(F.target.value),className:"ppm:w-full"})]}),g.jsxs("div",{className:"ppm:space-y-2",children:[g.jsx(st,{className:"ppm:font-medium ppm:text-gray-700",children:"Privacidade"}),g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:[g.jsxs("label",{className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:cursor-pointer",children:[g.jsx("input",{type:"radio",checked:u,onChange:()=>c(!0),className:"ppm:form-radio ppm:text-blue-600"}),g.jsx($k,{className:"ppm:w-4 ppm:h-4 ppm:text-gray-600"}),g.jsx("span",{className:"ppm:text-sm ppm:text-gray-700",children:"Pblico"})]}),g.jsxs("label",{className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:cursor-pointer",children:[g.jsx("input",{type:"radio",checked:!u,onChange:()=>c(!1),className:"ppm:form-radio ppm:text-blue-600"}),g.jsx(qk,{className:"ppm:w-4 ppm:h-4 ppm:text-gray-600"}),g.jsx("span",{className:"ppm:text-sm ppm:text-gray-700",children:"Privado"})]})]})]})]})})}),g.jsx("div",{className:"ppm:sticky ppm:bottom-4 ppm:pt-4",children:g.jsx(Ke,{onClick:V,disabled:p||!n.trim()||!i.trim(),className:"ppm:w-full ppm:py-3 ppm:text-base ppm:font-medium",children:p?g.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-2",children:[g.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-4 ppm:w-4 ppm:border-b-2 ppm:border-white"}),"Postando..."]}):"Compartilhar Post"})})]})}function dM(){return g.jsx("div",{className:"ppm:text-center ppm:mt-10 ppm:text-xl",children:"Favoritos (Mock)"})}function hM(){const{user:t}=ar();return console.log("user",t),t?g.jsx(Bu,{to:"/profile",replace:!0}):g.jsx(Bu,{to:"/login",replace:!0})}function pM({isOpen:t,onClose:e}){return t?g.jsx("div",{className:"ppm:fixed ppm:inset-0 ppm:bg-black/50 ppm:flex ppm:items-center ppm:justify-center ppm:z-50",children:g.jsxs("div",{className:"ppm:relative ppm:w-[300px] ppm:h-[600px] ppm:bg-gray-900 ppm:rounded-[3rem] ppm:p-2 ppm:shadow-2xl",children:[g.jsx(Zk,{onClose:e}),g.jsxs("div",{className:"ppm:w-full ppm:h-full ppm:bg-white ppm:rounded-[2.5rem] ppm:overflow-hidden ppm:relative",children:[g.jsx("div",{className:"ppm:absolute ppm:top-0 ppm:left-1/2 ppm:transform ppm:-translate-x-1/2 ppm:w-32 ppm:h-6 ppm:bg-black ppm:rounded-b-2xl ppm:z-10"}),g.jsx(Mk,{}),g.jsx($A,{initialEntries:["/"],children:g.jsx("div",{className:"ppm:flex-1",children:g.jsxs(qA,{children:[g.jsx(Je,{path:"/",element:g.jsx(hM,{})}),g.jsx(Je,{path:"/login",element:g.jsx(BV,{})}),g.jsx(Je,{path:"/register",element:g.jsx($V,{})}),g.jsx(Je,{path:"/ajuda",element:g.jsx(G4,{})}),g.jsxs(Je,{element:g.jsx(K4,{children:g.jsx(nM,{})}),children:[g.jsx(Je,{path:"/home",element:g.jsx(rM,{})}),g.jsx(Je,{path:"/find",element:g.jsx(sM,{})}),g.jsx(Je,{path:"/add-post",element:g.jsx(cM,{})}),g.jsx(Je,{path:"/favorites",element:g.jsx(dM,{})}),g.jsx(Je,{path:"/profile",element:g.jsx(mI,{})}),g.jsx(Je,{path:"/profile/:username",element:g.jsx(mI,{})}),g.jsx(Je,{path:"/edit-profile",element:g.jsx(q4,{})}),g.jsx(Je,{path:"/followers",element:g.jsx(gI,{})}),g.jsx(Je,{path:"/followers/:username",element:g.jsx(gI,{})}),g.jsx(Je,{path:"/following",element:g.jsx(yI,{})}),g.jsx(Je,{path:"/following/:username",element:g.jsx(yI,{})})]}),g.jsx(Je,{path:"*",element:g.jsx(Bu,{to:"/home",replace:!0})})]})})}),g.jsx("div",{className:"ppm:absolute ppm:bottom-2 ppm:left-1/2 ppm:transform ppm:-translate-x-1/2 ppm:w-32 ppm:h-1 ppm:bg-gray-400 ppm:rounded-full"})]})]})}):null}function fM(){const[t,e]=I.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(Ke,{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),n()},className:"ppm:fixed ppm:top-4 ppm:left-4 ppm:z-50",variant:"default",size:"sm",children:"Celular"}),g.jsx(pM,{isOpen:t,onClose:r})]})}function Gm(...t){console.log("%cUserscript (React Mode):","color: purple; font-weight: bold",...t)}function mM(t){window.setTimeout(t,0);let e=window.location.href;const n=document.querySelector("body");if(!n)throw new Error("Body element not found");const r=new MutationObserver(i=>{i.some(()=>e!==document.location.href)&&(e=document.location.href,t())});return r.observe(n,{childList:!0,subtree:!0}),r}async function gM(t){let n=0;return new Promise((r,i)=>{function s(){return n++,document.querySelector(t)}function o(){if(n>=60){Gm("Can't find element with selector",t),i();return}const l=s();if(l){r(l);return}window.setTimeout(o,250)}o()})}Gm("React script has successfully started");async function yM(){const t=await gM("#ppm-wrapper"),e=document.createElement("div");t.appendChild(e),M_(e).render(g.jsx(fM,{}))}mM(()=>{yM().catch(t=>{Gm(t)})})})();
;
(function(){
                    const el = document.createElement("style");
                    el.innerText = "body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--ppm-font-sans:ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";--ppm-font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace;--ppm-color-red-50:oklch(97.1% .013 17.38);--ppm-color-red-100:oklch(93.6% .032 17.717);--ppm-color-red-200:oklch(88.5% .062 18.334);--ppm-color-red-500:oklch(63.7% .237 25.331);--ppm-color-red-600:oklch(57.7% .245 27.325);--ppm-color-red-700:oklch(50.5% .213 27.518);--ppm-color-red-800:oklch(44.4% .177 26.899);--ppm-color-green-100:oklch(96.2% .044 156.743);--ppm-color-green-500:oklch(72.3% .219 149.579);--ppm-color-green-800:oklch(44.8% .119 151.328);--ppm-color-blue-50:oklch(97% .014 254.604);--ppm-color-blue-500:oklch(62.3% .214 259.815);--ppm-color-blue-600:oklch(54.6% .245 262.881);--ppm-color-blue-700:oklch(48.8% .243 264.376);--ppm-color-blue-800:oklch(42.4% .199 265.638);--ppm-color-gray-50:oklch(98.5% .002 247.839);--ppm-color-gray-100:oklch(96.7% .003 264.542);--ppm-color-gray-200:oklch(92.8% .006 264.531);--ppm-color-gray-300:oklch(87.2% .01 258.338);--ppm-color-gray-400:oklch(70.7% .022 261.325);--ppm-color-gray-500:oklch(55.1% .027 264.364);--ppm-color-gray-600:oklch(44.6% .03 256.802);--ppm-color-gray-700:oklch(37.3% .034 259.733);--ppm-color-gray-900:oklch(21% .034 264.665);--ppm-color-black:#000;--ppm-color-white:#fff;--ppm-spacing:.25rem;--ppm-container-md:28rem;--ppm-text-xs:.75rem;--ppm-text-xs--line-height:calc(1/.75);--ppm-text-sm:.875rem;--ppm-text-sm--line-height:calc(1.25/.875);--ppm-text-base:1rem;--ppm-text-base--line-height: 1.5 ;--ppm-text-lg:1.125rem;--ppm-text-lg--line-height:calc(1.75/1.125);--ppm-text-xl:1.25rem;--ppm-text-xl--line-height:calc(1.75/1.25);--ppm-text-2xl:1.5rem;--ppm-text-2xl--line-height:calc(2/1.5);--ppm-font-weight-medium:500;--ppm-font-weight-semibold:600;--ppm-font-weight-bold:700;--ppm-radius-2xl:1rem;--ppm-animate-spin:spin 1s linear infinite;--ppm-animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--ppm-default-transition-duration:.15s;--ppm-default-transition-timing-function:cubic-bezier(.4,0,.2,1);--ppm-default-font-family:var(--ppm-font-sans);--ppm-default-mono-font-family:var(--ppm-font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--ppm-default-font-family,ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\");font-feature-settings:var(--ppm-default-font-feature-settings,normal);font-variation-settings:var(--ppm-default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--ppm-default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace);font-feature-settings:var(--ppm-default-mono-font-feature-settings,normal);font-variation-settings:var(--ppm-default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}body{background-color:var(--background);color:var(--foreground)}}@layer components;@layer utilities{.ppm\\:\\@container\\/card-header{container:card-header/inline-size}.ppm\\:absolute{position:absolute}.ppm\\:fixed{position:fixed}.ppm\\:relative{position:relative}.ppm\\:sticky{position:sticky}.ppm\\:inset-0{inset:calc(var(--ppm-spacing)*0)}.ppm\\:-top-2{top:calc(var(--ppm-spacing)*-2)}.ppm\\:top-0{top:calc(var(--ppm-spacing)*0)}.ppm\\:top-1\\/2{top:50%}.ppm\\:top-4{top:calc(var(--ppm-spacing)*4)}.ppm\\:top-full{top:100%}.ppm\\:-right-2{right:calc(var(--ppm-spacing)*-2)}.ppm\\:right-0{right:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-0{bottom:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-2{bottom:calc(var(--ppm-spacing)*2)}.ppm\\:bottom-4{bottom:calc(var(--ppm-spacing)*4)}.ppm\\:left-0{left:calc(var(--ppm-spacing)*0)}.ppm\\:left-1\\/2{left:50%}.ppm\\:left-3{left:calc(var(--ppm-spacing)*3)}.ppm\\:left-4{left:calc(var(--ppm-spacing)*4)}.ppm\\:z-10{z-index:10}.ppm\\:z-20{z-index:20}.ppm\\:z-50{z-index:50}.ppm\\:col-span-3{grid-column:span 3/span 3}.ppm\\:col-start-2{grid-column-start:2}.ppm\\:row-span-2{grid-row:span 2/span 2}.ppm\\:row-start-1{grid-row-start:1}.ppm\\:mx-auto{margin-inline:auto}.ppm\\:mt-6{margin-top:calc(var(--ppm-spacing)*6)}.ppm\\:mt-8{margin-top:calc(var(--ppm-spacing)*8)}.ppm\\:mt-10{margin-top:calc(var(--ppm-spacing)*10)}.ppm\\:mb-1{margin-bottom:calc(var(--ppm-spacing)*1)}.ppm\\:mb-2{margin-bottom:calc(var(--ppm-spacing)*2)}.ppm\\:mb-4{margin-bottom:calc(var(--ppm-spacing)*4)}.ppm\\:mb-6{margin-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:ml-1{margin-left:calc(var(--ppm-spacing)*1)}.ppm\\:flex{display:flex}.ppm\\:grid{display:grid}.ppm\\:inline-flex{display:inline-flex}.ppm\\:aspect-square{aspect-ratio:1}.ppm\\:size-8{width:calc(var(--ppm-spacing)*8);height:calc(var(--ppm-spacing)*8)}.ppm\\:size-9{width:calc(var(--ppm-spacing)*9);height:calc(var(--ppm-spacing)*9)}.ppm\\:size-full{width:100%;height:100%}.ppm\\:h-1{height:calc(var(--ppm-spacing)*1)}.ppm\\:h-2{height:calc(var(--ppm-spacing)*2)}.ppm\\:h-3{height:calc(var(--ppm-spacing)*3)}.ppm\\:h-4{height:calc(var(--ppm-spacing)*4)}.ppm\\:h-5{height:calc(var(--ppm-spacing)*5)}.ppm\\:h-6{height:calc(var(--ppm-spacing)*6)}.ppm\\:h-8{height:calc(var(--ppm-spacing)*8)}.ppm\\:h-9{height:calc(var(--ppm-spacing)*9)}.ppm\\:h-10{height:calc(var(--ppm-spacing)*10)}.ppm\\:h-12{height:calc(var(--ppm-spacing)*12)}.ppm\\:h-16{height:calc(var(--ppm-spacing)*16)}.ppm\\:h-24{height:calc(var(--ppm-spacing)*24)}.ppm\\:h-\\[600px\\]{height:600px}.ppm\\:h-\\[calc\\(100\\%-1px\\)\\]{height:calc(100% - 1px)}.ppm\\:h-full{height:100%}.ppm\\:h-px{height:1px}.ppm\\:max-h-48{max-height:calc(var(--ppm-spacing)*48)}.ppm\\:w-3{width:calc(var(--ppm-spacing)*3)}.ppm\\:w-4{width:calc(var(--ppm-spacing)*4)}.ppm\\:w-5{width:calc(var(--ppm-spacing)*5)}.ppm\\:w-8{width:calc(var(--ppm-spacing)*8)}.ppm\\:w-12{width:calc(var(--ppm-spacing)*12)}.ppm\\:w-16{width:calc(var(--ppm-spacing)*16)}.ppm\\:w-20{width:calc(var(--ppm-spacing)*20)}.ppm\\:w-24{width:calc(var(--ppm-spacing)*24)}.ppm\\:w-32{width:calc(var(--ppm-spacing)*32)}.ppm\\:w-48{width:calc(var(--ppm-spacing)*48)}.ppm\\:w-\\[300px\\]{width:300px}.ppm\\:w-fit{width:fit-content}.ppm\\:w-full{width:100%}.ppm\\:max-w-md{max-width:var(--ppm-container-md)}.ppm\\:min-w-0{min-width:calc(var(--ppm-spacing)*0)}.ppm\\:flex-1{flex:1}.ppm\\:shrink-0{flex-shrink:0}.ppm\\:-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.ppm\\:animate-pulse{animation:var(--ppm-animate-pulse)}.ppm\\:animate-spin{animation:var(--ppm-animate-spin)}.ppm\\:cursor-pointer{cursor:pointer}.ppm\\:list-inside{list-style-position:inside}.ppm\\:list-disc{list-style-type:disc}.ppm\\:auto-rows-min{grid-auto-rows:min-content}.ppm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.ppm\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.ppm\\:grid-rows-\\[auto_auto\\]{grid-template-rows:auto auto}.ppm\\:flex-col{flex-direction:column}.ppm\\:flex-row{flex-direction:row}.ppm\\:flex-wrap{flex-wrap:wrap}.ppm\\:items-center{align-items:center}.ppm\\:items-start{align-items:flex-start}.ppm\\:justify-between{justify-content:space-between}.ppm\\:justify-center{justify-content:center}.ppm\\:gap-1{gap:calc(var(--ppm-spacing)*1)}.ppm\\:gap-1\\.5{gap:calc(var(--ppm-spacing)*1.5)}.ppm\\:gap-2{gap:calc(var(--ppm-spacing)*2)}.ppm\\:gap-3{gap:calc(var(--ppm-spacing)*3)}.ppm\\:gap-4{gap:calc(var(--ppm-spacing)*4)}.ppm\\:gap-6{gap:calc(var(--ppm-spacing)*6)}:where(.ppm\\:space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-8>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*8)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*8)*calc(1 - var(--tw-space-x-reverse)))}.ppm\\:self-start{align-self:flex-start}.ppm\\:justify-self-end{justify-self:flex-end}.ppm\\:truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.ppm\\:overflow-hidden{overflow:hidden}.ppm\\:overflow-y-auto{overflow-y:auto}.ppm\\:rounded{border-radius:.25rem}.ppm\\:rounded-\\[2\\.5rem\\]{border-radius:2.5rem}.ppm\\:rounded-\\[3rem\\]{border-radius:3rem}.ppm\\:rounded-full{border-radius:3.40282e38px}.ppm\\:rounded-lg{border-radius:var(--radius)}.ppm\\:rounded-md{border-radius:calc(var(--radius) - 2px)}.ppm\\:rounded-none{border-radius:0}.ppm\\:rounded-sm{border-radius:calc(var(--radius) - 4px)}.ppm\\:rounded-xl{border-radius:calc(var(--radius) + 4px)}.ppm\\:rounded-b-2xl{border-bottom-right-radius:var(--ppm-radius-2xl);border-bottom-left-radius:var(--ppm-radius-2xl)}.ppm\\:border{border-style:var(--tw-border-style);border-width:1px}.ppm\\:border-2{border-style:var(--tw-border-style);border-width:2px}.ppm\\:border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.ppm\\:border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.ppm\\:border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:border-dashed{--tw-border-style:dashed;border-style:dashed}.ppm\\:border-none{--tw-border-style:none;border-style:none}.ppm\\:border-blue-600{border-color:var(--ppm-color-blue-600)}.ppm\\:border-current{border-color:currentColor}.ppm\\:border-gray-200{border-color:var(--ppm-color-gray-200)}.ppm\\:border-gray-300{border-color:var(--ppm-color-gray-300)}.ppm\\:border-input{border-color:var(--input)}.ppm\\:border-red-200{border-color:var(--ppm-color-red-200)}.ppm\\:border-transparent{border-color:#0000}.ppm\\:border-white{border-color:var(--ppm-color-white)}.ppm\\:border-t-transparent{border-top-color:#0000}.ppm\\:bg-accent{background-color:var(--accent)}.ppm\\:bg-background{background-color:var(--background)}.ppm\\:bg-black,.ppm\\:bg-black\\/50{background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:bg-black\\/50{background-color:color-mix(in oklab,var(--ppm-color-black)50%,transparent)}}.ppm\\:bg-blue-50{background-color:var(--ppm-color-blue-50)}.ppm\\:bg-blue-500{background-color:var(--ppm-color-blue-500)}.ppm\\:bg-border{background-color:var(--border)}.ppm\\:bg-card{background-color:var(--card)}.ppm\\:bg-destructive{background-color:var(--destructive)}.ppm\\:bg-gray-100{background-color:var(--ppm-color-gray-100)}.ppm\\:bg-gray-400{background-color:var(--ppm-color-gray-400)}.ppm\\:bg-gray-900{background-color:var(--ppm-color-gray-900)}.ppm\\:bg-green-100{background-color:var(--ppm-color-green-100)}.ppm\\:bg-green-500{background-color:var(--ppm-color-green-500)}.ppm\\:bg-muted{background-color:var(--muted)}.ppm\\:bg-primary{background-color:var(--primary)}.ppm\\:bg-red-50{background-color:var(--ppm-color-red-50)}.ppm\\:bg-red-100{background-color:var(--ppm-color-red-100)}.ppm\\:bg-secondary{background-color:var(--secondary)}.ppm\\:bg-transparent{background-color:#0000}.ppm\\:bg-white{background-color:var(--ppm-color-white)}.ppm\\:object-cover{object-fit:cover}.ppm\\:p-0{padding:calc(var(--ppm-spacing)*0)}.ppm\\:p-2{padding:calc(var(--ppm-spacing)*2)}.ppm\\:p-3{padding:calc(var(--ppm-spacing)*3)}.ppm\\:p-4{padding:calc(var(--ppm-spacing)*4)}.ppm\\:p-\\[3px\\]{padding:3px}.ppm\\:px-2{padding-inline:calc(var(--ppm-spacing)*2)}.ppm\\:px-3{padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:px-4{padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:px-6{padding-inline:calc(var(--ppm-spacing)*6)}.ppm\\:py-0\\.5{padding-block:calc(var(--ppm-spacing)*.5)}.ppm\\:py-1{padding-block:calc(var(--ppm-spacing)*1)}.ppm\\:py-2{padding-block:calc(var(--ppm-spacing)*2)}.ppm\\:py-3{padding-block:calc(var(--ppm-spacing)*3)}.ppm\\:py-4{padding-block:calc(var(--ppm-spacing)*4)}.ppm\\:py-5{padding-block:calc(var(--ppm-spacing)*5)}.ppm\\:py-6{padding-block:calc(var(--ppm-spacing)*6)}.ppm\\:py-8{padding-block:calc(var(--ppm-spacing)*8)}.ppm\\:py-12{padding-block:calc(var(--ppm-spacing)*12)}.ppm\\:pt-4{padding-top:calc(var(--ppm-spacing)*4)}.ppm\\:pt-6{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:pb-6{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:pl-10{padding-left:calc(var(--ppm-spacing)*10)}.ppm\\:text-center{text-align:center}.ppm\\:text-left{text-align:left}.ppm\\:text-2xl{font-size:var(--ppm-text-2xl);line-height:var(--tw-leading,var(--ppm-text-2xl--line-height))}.ppm\\:text-base{font-size:var(--ppm-text-base);line-height:var(--tw-leading,var(--ppm-text-base--line-height))}.ppm\\:text-lg{font-size:var(--ppm-text-lg);line-height:var(--tw-leading,var(--ppm-text-lg--line-height))}.ppm\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:text-xl{font-size:var(--ppm-text-xl);line-height:var(--tw-leading,var(--ppm-text-xl--line-height))}.ppm\\:text-xs{font-size:var(--ppm-text-xs);line-height:var(--tw-leading,var(--ppm-text-xs--line-height))}.ppm\\:leading-none{--tw-leading:1;line-height:1}.ppm\\:font-bold{--tw-font-weight:var(--ppm-font-weight-bold);font-weight:var(--ppm-font-weight-bold)}.ppm\\:font-medium{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:font-semibold{--tw-font-weight:var(--ppm-font-weight-semibold);font-weight:var(--ppm-font-weight-semibold)}.ppm\\:whitespace-nowrap{white-space:nowrap}.ppm\\:text-blue-600{color:var(--ppm-color-blue-600)}.ppm\\:text-blue-800{color:var(--ppm-color-blue-800)}.ppm\\:text-card-foreground{color:var(--card-foreground)}.ppm\\:text-foreground{color:var(--foreground)}.ppm\\:text-gray-400{color:var(--ppm-color-gray-400)}.ppm\\:text-gray-500{color:var(--ppm-color-gray-500)}.ppm\\:text-gray-600{color:var(--ppm-color-gray-600)}.ppm\\:text-gray-700{color:var(--ppm-color-gray-700)}.ppm\\:text-gray-900{color:var(--ppm-color-gray-900)}.ppm\\:text-green-800{color:var(--ppm-color-green-800)}.ppm\\:text-muted-foreground{color:var(--muted-foreground)}.ppm\\:text-primary{color:var(--primary)}.ppm\\:text-primary-foreground{color:var(--primary-foreground)}.ppm\\:text-red-600{color:var(--ppm-color-red-600)}.ppm\\:text-red-700{color:var(--ppm-color-red-700)}.ppm\\:text-red-800{color:var(--ppm-color-red-800)}.ppm\\:text-secondary-foreground{color:var(--secondary-foreground)}.ppm\\:text-white{color:var(--ppm-color-white)}.ppm\\:underline-offset-4{text-underline-offset:4px}.ppm\\:shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:transition-\\[color\\,box-shadow\\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:outline-none{--tw-outline-style:none;outline-style:none}.ppm\\:select-none{-webkit-user-select:none;user-select:none}.ppm\\:group-data-\\[disabled\\=true\\]\\:pointer-events-none:is(:where(.ppm\\:group)[data-disabled=true] *){pointer-events:none}.ppm\\:group-data-\\[disabled\\=true\\]\\:opacity-50:is(:where(.ppm\\:group)[data-disabled=true] *){opacity:.5}.ppm\\:peer-disabled\\:cursor-not-allowed:is(:where(.ppm\\:peer):disabled~*){cursor:not-allowed}.ppm\\:peer-disabled\\:opacity-50:is(:where(.ppm\\:peer):disabled~*){opacity:.5}.ppm\\:selection\\:bg-primary ::selection{background-color:var(--primary)}.ppm\\:selection\\:bg-primary::selection{background-color:var(--primary)}.ppm\\:selection\\:text-primary-foreground ::selection{color:var(--primary-foreground)}.ppm\\:selection\\:text-primary-foreground::selection{color:var(--primary-foreground)}.ppm\\:file\\:inline-flex::file-selector-button{display:inline-flex}.ppm\\:file\\:h-7::file-selector-button{height:calc(var(--ppm-spacing)*7)}.ppm\\:file\\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.ppm\\:file\\:bg-transparent::file-selector-button{background-color:#0000}.ppm\\:file\\:text-sm::file-selector-button{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:file\\:font-medium::file-selector-button{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:file\\:text-foreground::file-selector-button{color:var(--foreground)}.ppm\\:placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground)}@media (hover:hover){.ppm\\:hover\\:bg-accent:hover{background-color:var(--accent)}.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.ppm\\:hover\\:bg-gray-50:hover{background-color:var(--ppm-color-gray-50)}.ppm\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.ppm\\:hover\\:bg-red-100:hover{background-color:var(--ppm-color-red-100)}.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.ppm\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}.ppm\\:hover\\:text-blue-700:hover{color:var(--ppm-color-blue-700)}.ppm\\:hover\\:text-red-500:hover{color:var(--ppm-color-red-500)}.ppm\\:hover\\:underline:hover{text-decoration-line:underline}.ppm\\:hover\\:opacity-80:hover{opacity:.8}}.ppm\\:focus-visible\\:border-ring:focus-visible{border-color:var(--ring)}.ppm\\:focus-visible\\:ring-\\[3px\\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.ppm\\:focus-visible\\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.ppm\\:focus-visible\\:outline-ring:focus-visible{outline-color:var(--ring)}.ppm\\:disabled\\:pointer-events-none:disabled{pointer-events:none}.ppm\\:disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.ppm\\:disabled\\:opacity-50:disabled{opacity:.5}.ppm\\:has-data-\\[slot\\=card-action\\]\\:grid-cols-\\[1fr_auto\\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.ppm\\:has-\\[\\>svg\\]\\:px-2\\.5:has(>svg){padding-inline:calc(var(--ppm-spacing)*2.5)}.ppm\\:has-\\[\\>svg\\]\\:px-3:has(>svg){padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:has-\\[\\>svg\\]\\:px-4:has(>svg){padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:aria-invalid\\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:data-\\[orientation\\=horizontal\\]\\:h-px[data-orientation=horizontal]{height:1px}.ppm\\:data-\\[orientation\\=horizontal\\]\\:w-full[data-orientation=horizontal]{width:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:h-full[data-orientation=vertical]{height:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:w-px[data-orientation=vertical]{width:1px}.ppm\\:data-\\[state\\=active\\]\\:border-b-2[data-state=active]{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:data-\\[state\\=active\\]\\:border-blue-500[data-state=active]{border-color:var(--ppm-color-blue-500)}.ppm\\:data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:var(--background)}.ppm\\:data-\\[state\\=active\\]\\:text-blue-600[data-state=active]{color:var(--ppm-color-blue-600)}.ppm\\:data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (min-width:48rem){.ppm\\:md\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}}.ppm\\:dark\\:border-input:is(.dark *){border-color:var(--input)}.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:text-muted-foreground:is(.dark *){color:var(--muted-foreground)}@media (hover:hover){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:border-input:is(.dark *)[data-state=active]{border-color:var(--input)}.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:text-foreground:is(.dark *)[data-state=active]{color:var(--foreground)}.ppm\\:\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.ppm\\:\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.ppm\\:\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--ppm-spacing)*4);height:calc(var(--ppm-spacing)*4)}.ppm\\:\\[\\.border-b\\]\\:pb-6.border-b{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\.border-t\\]\\:pt-6.border-t{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\&\\>svg\\]\\:pointer-events-none>svg{pointer-events:none}.ppm\\:\\[\\&\\>svg\\]\\:size-3>svg{width:calc(var(--ppm-spacing)*3);height:calc(var(--ppm-spacing)*3)}@media (hover:hover){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-accent:hover{background-color:var(--accent)}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:color-mix(in oklab,var(--secondary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}}}@property --tw-animation-delay{syntax:\"*\";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:\"*\";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:\"*\";inherits:false}@property --tw-animation-fill-mode{syntax:\"*\";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:\"*\";inherits:false;initial-value:1}@property --tw-enter-opacity{syntax:\"*\";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:\"*\";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:\"*\";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:\"*\";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:\"*\";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:\"*\";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:\"*\";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:\"*\";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:\"*\";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:\"*\";inherits:false;initial-value:0}:root{--background:oklch(100% 0 0);--foreground:oklch(14.5% 0 0);--card:oklch(100% 0 0);--card-foreground:oklch(14.5% 0 0);--popover:oklch(100% 0 0);--popover-foreground:oklch(14.5% 0 0);--primary:oklch(20.5% 0 0);--primary-foreground:oklch(98.5% 0 0);--secondary:oklch(97% 0 0);--secondary-foreground:oklch(20.5% 0 0);--muted:oklch(97% 0 0);--muted-foreground:oklch(55.6% 0 0);--accent:oklch(97% 0 0);--accent-foreground:oklch(20.5% 0 0);--destructive:oklch(57.7% .245 27.325);--destructive-foreground:oklch(57.7% .245 27.325);--border:oklch(92.2% 0 0);--input:oklch(92.2% 0 0);--ring:oklch(70.8% 0 0);--chart-1:oklch(64.6% .222 41.116);--chart-2:oklch(60% .118 184.704);--chart-3:oklch(39.8% .07 227.392);--chart-4:oklch(82.8% .189 84.429);--chart-5:oklch(76.9% .188 70.08);--radius:.625rem;--sidebar:oklch(98.5% 0 0);--sidebar-foreground:oklch(14.5% 0 0);--sidebar-primary:oklch(20.5% 0 0);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(97% 0 0);--sidebar-accent-foreground:oklch(20.5% 0 0);--sidebar-border:oklch(92.2% 0 0);--sidebar-ring:oklch(70.8% 0 0)}.dark{--background:oklch(14.5% 0 0);--foreground:oklch(98.5% 0 0);--card:oklch(14.5% 0 0);--card-foreground:oklch(98.5% 0 0);--popover:oklch(14.5% 0 0);--popover-foreground:oklch(98.5% 0 0);--primary:oklch(98.5% 0 0);--primary-foreground:oklch(20.5% 0 0);--secondary:oklch(26.9% 0 0);--secondary-foreground:oklch(98.5% 0 0);--muted:oklch(26.9% 0 0);--muted-foreground:oklch(70.8% 0 0);--accent:oklch(26.9% 0 0);--accent-foreground:oklch(98.5% 0 0);--destructive:oklch(39.6% .141 25.723);--destructive-foreground:oklch(63.7% .237 25.331);--border:oklch(26.9% 0 0);--input:oklch(26.9% 0 0);--ring:oklch(43.9% 0 0);--chart-1:oklch(48.8% .243 264.376);--chart-2:oklch(69.6% .17 162.48);--chart-3:oklch(76.9% .188 70.08);--chart-4:oklch(62.7% .265 303.9);--chart-5:oklch(64.5% .246 16.439);--sidebar:oklch(20.5% 0 0);--sidebar-foreground:oklch(98.5% 0 0);--sidebar-primary:oklch(48.8% .243 264.376);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(26.9% 0 0);--sidebar-accent-foreground:oklch(98.5% 0 0);--sidebar-border:oklch(26.9% 0 0);--sidebar-ring:oklch(43.9% 0 0)}@property --tw-translate-x{syntax:\"*\";inherits:false;initial-value:0}@property --tw-translate-y{syntax:\"*\";inherits:false;initial-value:0}@property --tw-translate-z{syntax:\"*\";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:\"*\";inherits:false}@property --tw-rotate-y{syntax:\"*\";inherits:false}@property --tw-rotate-z{syntax:\"*\";inherits:false}@property --tw-skew-x{syntax:\"*\";inherits:false}@property --tw-skew-y{syntax:\"*\";inherits:false}@property --tw-space-y-reverse{syntax:\"*\";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:\"*\";inherits:false;initial-value:0}@property --tw-border-style{syntax:\"*\";inherits:false;initial-value:solid}@property --tw-leading{syntax:\"*\";inherits:false}@property --tw-font-weight{syntax:\"*\";inherits:false}@property --tw-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:\"*\";inherits:false}@property --tw-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:\"*\";inherits:false}@property --tw-inset-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:\"*\";inherits:false}@property --tw-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:\"*\";inherits:false}@property --tw-inset-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:\"*\";inherits:false}@property --tw-ring-offset-width{syntax:\"<length>\";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:\"*\";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:\"*\";inherits:false;initial-value:solid}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}\n";
                    el.type = "text/css";
                    document.head.appendChild(el);
                })();