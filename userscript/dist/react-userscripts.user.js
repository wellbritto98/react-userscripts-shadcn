// ==UserScript==
// @name     Popgram
// @version  1.1
// @description Development mode for React Userscripts.
// @include https://*.popmundo.com/*
// @grant    none
// ==/UserScript==


var w6=Object.defineProperty;var _6=(yi,Bn,wr)=>Bn in yi?w6(yi,Bn,{enumerable:!0,configurable:!0,writable:!0,value:wr}):yi[Bn]=wr;var ps=(yi,Bn,wr)=>(_6(yi,typeof Bn!="symbol"?Bn+"":Bn,wr),wr);(function(){"use strict";function yi(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Bn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wr={exports:{}},Il={},Cg={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),$T=Symbol.for("react.portal"),WT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),HT=Symbol.for("react.profiler"),GT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),QT=Symbol.for("react.forward_ref"),YT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),JT=Symbol.for("react.lazy"),Ag=Symbol.iterator;function ZT(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var Ng={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rg=Object.assign,Pg={};function ds(t,e,n){this.props=t,this.context=e,this.refs=Pg,this.updater=n||Ng}ds.prototype.isReactComponent={},ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lg(){}Lg.prototype=ds.prototype;function Vp(t,e,n){this.props=t,this.context=e,this.refs=Pg,this.updater=n||Ng}var Mp=Vp.prototype=new Lg;Mp.constructor=Vp,Rg(Mp,ds.prototype),Mp.isPureReactComponent=!0;var Dg=Array.isArray,Vg=Object.prototype.hasOwnProperty,jp={current:null},Mg={key:!0,ref:!0,__self:!0,__source:!0};function jg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Vg.call(e,r)&&!Mg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ro,type:t,key:s,ref:o,props:i,_owner:jp.current}}function eI(t,e){return{$$typeof:Ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ro}function tI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Og=/\/+/g;function Fp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tI(""+t.key):e.toString(36)}function bl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ro:case $T:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fp(o,0):r,Dg(i)?(n="",t!=null&&(n=t.replace(Og,"$&/")+"/"),bl(i,e,n,"",function(u){return u})):i!=null&&(Op(i)&&(i=eI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dg(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Fp(s,l);o+=bl(s,e,n,c,i)}else if(c=ZT(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Fp(s,l++),o+=bl(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sl(t,e,n){if(t==null)return t;var r=[],i=0;return bl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Cl={transition:null},rI={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:jp};function Fg(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Sl,forEach:function(t,e,n){Sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sl(t,function(){e++}),e},toArray:function(t){return Sl(t,function(e){return e})||[]},only:function(t){if(!Op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},oe.Component=ds,oe.Fragment=WT,oe.Profiler=HT,oe.PureComponent=Vp,oe.StrictMode=qT,oe.Suspense=YT,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rI,oe.act=Fg,oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Vg.call(e,c)&&!Mg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ro,type:t.type,key:i,ref:s,props:r,_owner:o}},oe.createContext=function(t){return t={$$typeof:KT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GT,_context:t},t.Consumer=t},oe.createElement=jg,oe.createFactory=function(t){var e=jg.bind(null,t);return e.type=t,e},oe.createRef=function(){return{current:null}},oe.forwardRef=function(t){return{$$typeof:QT,render:t}},oe.isValidElement=Op,oe.lazy=function(t){return{$$typeof:JT,_payload:{_status:-1,_result:t},_init:nI}},oe.memo=function(t,e){return{$$typeof:XT,type:t,compare:e===void 0?null:e}},oe.startTransition=function(t){var e=Cl.transition;Cl.transition={};try{t()}finally{Cl.transition=e}},oe.unstable_act=Fg,oe.useCallback=function(t,e){return bt.current.useCallback(t,e)},oe.useContext=function(t){return bt.current.useContext(t)},oe.useDebugValue=function(){},oe.useDeferredValue=function(t){return bt.current.useDeferredValue(t)},oe.useEffect=function(t,e){return bt.current.useEffect(t,e)},oe.useId=function(){return bt.current.useId()},oe.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)},oe.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)},oe.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)},oe.useMemo=function(t,e){return bt.current.useMemo(t,e)},oe.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)},oe.useRef=function(t){return bt.current.useRef(t)},oe.useState=function(t){return bt.current.useState(t)},oe.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)},oe.useTransition=function(){return bt.current.useTransition()},oe.version="18.3.1",Cg.exports=oe;var E=Cg.exports;const R=Bn(E),Ug=yi({__proto__:null,default:R},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=E,sI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,lI=iI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cI={key:!0,ref:!0,__self:!0,__source:!0};function zg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aI.call(e,r)&&!cI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sI,type:t,key:s,ref:o,props:i,_owner:lI.current}}Il.Fragment=oI,Il.jsx=zg,Il.jsxs=zg,wr.exports=Il;var d=wr.exports,Bg={exports:{}},Bt={},$g={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,ne){var ie=U.length;U.push(ne);e:for(;0<ie;){var xe=ie-1>>>1,fe=U[xe];if(0<i(fe,ne))U[xe]=ne,U[ie]=fe,ie=xe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ne=U[0],ie=U.pop();if(ie!==ne){U[0]=ie;e:for(var xe=0,fe=U.length,ae=fe>>>1;xe<ae;){var Oe=2*(xe+1)-1,zt=U[Oe],un=Oe+1,ve=U[un];if(0>i(zt,ie))un<fe&&0>i(ve,zt)?(U[xe]=ve,U[un]=ie,xe=un):(U[xe]=zt,U[Oe]=ie,xe=Oe);else if(un<fe&&0>i(ve,ie))U[xe]=ve,U[un]=ie,xe=un;else break e}}return ne}function i(U,ne){var ie=U.sortIndex-ne.sortIndex;return ie!==0?ie:U.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,m=null,f=3,w=!1,T=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=U)r(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(u)}}function L(U){if(I=!1,x(U),!T)if(n(c)!==null)T=!0,Z(M);else{var ne=n(u);ne!==null&&$e(L,ne.startTime-U)}}function M(U,ne){T=!1,I&&(I=!1,v(y),y=-1),w=!0;var ie=f;try{for(x(ne),m=n(c);m!==null&&(!(m.expirationTime>ne)||U&&!A());){var xe=m.callback;if(typeof xe=="function"){m.callback=null,f=m.priorityLevel;var fe=xe(m.expirationTime<=ne);ne=t.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),x(ne)}else r(c);m=n(c)}if(m!==null)var ae=!0;else{var Oe=n(u);Oe!==null&&$e(L,Oe.startTime-ne),ae=!1}return ae}finally{m=null,f=ie,w=!1}}var F=!1,S=null,y=-1,b=5,C=-1;function A(){return!(t.unstable_now()-C<b)}function D(){if(S!==null){var U=t.unstable_now();C=U;var ne=!0;try{ne=S(!0,U)}finally{ne?P():(F=!1,S=null)}}else F=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=D,P=function(){q.postMessage(null)}}else P=function(){N(D,0)};function Z(U){S=U,F||(F=!0,P())}function $e(U,ne){y=N(function(){U(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,Z(M))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ie=f;f=ne;try{return U()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ne){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=f;f=U;try{return ne()}finally{f=ie}},t.unstable_scheduleCallback=function(U,ne,ie){var xe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,U){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ie+fe,U={id:h++,callback:ne,priorityLevel:U,startTime:ie,expirationTime:fe,sortIndex:-1},ie>xe?(U.sortIndex=ie,e(u,U),n(c)===null&&U===n(u)&&(I?(v(y),y=-1):I=!0,$e(L,ie-xe))):(U.sortIndex=fe,e(c,U),T||w||(T=!0,Z(M))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var ne=f;return function(){var ie=f;f=ne;try{return U.apply(this,arguments)}finally{f=ie}}}})(Wg),$g.exports=Wg;var uI=$g.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI=E,$t=uI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qg=new Set,Po={};function vi(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(Po[t]=e,t=0;t<e.length;t++)qg.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hg={},Gg={};function hI(t){return Up.call(Gg,t)?!0:Up.call(Hg,t)?!1:dI.test(t)?Gg[t]=!0:(Hg[t]=!0,!1)}function mI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fI(t,e,n,r){if(e===null||typeof e>"u"||mI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new St(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new St(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new St(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){st[t]=new St(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){st[t]=new St(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){st[t]=new St(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){st[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var zp=/[\-:]([a-z])/g;function Bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zp,Bp);st[e]=new St(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zp,Bp);st[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zp,Bp);st[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)}),st.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function $p(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fI(e,n,i,r)&&(n=null),r||i===null?hI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wn=pI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),ms=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),Qp=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Yg=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Yp;function Do(t){if(Yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yp=e&&e[1]||""}return`
`+Yp+t}var Xp=!1;function Jp(t,e){if(!t||Xp)return"";Xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Xp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Do(t):""}function gI(t){switch(t.tag){case 5:return Do(t.type);case 16:return Do("Lazy");case 13:return Do("Suspense");case 19:return Do("SuspenseList");case 0:case 2:case 15:return t=Jp(t.type,!1),t;case 11:return t=Jp(t.type.render,!1),t;case 1:return t=Jp(t.type,!0),t;default:return""}}function Zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case ms:return"Portal";case qp:return"Profiler";case Wp:return"StrictMode";case Gp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qg:return(t.displayName||"Context")+".Consumer";case Kg:return(t._context.displayName||"Context")+".Provider";case Hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qp:return e=t.displayName||null,e!==null?e:Zp(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return Zp(t(e))}catch{}}return null}function yI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(e);case 8:return e===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vI(t){var e=Jg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nl(t){t._valueTracker||(t._valueTracker=vI(t))}function Zg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ed(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ty(t,e){e=e.checked,e!=null&&$p(t,"checked",e,!1)}function td(t,e){ty(t,e);var n=Er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nd(t,e.type,n):e.hasOwnProperty("defaultValue")&&nd(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nd(t,e,n){(e!=="number"||Rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vo=Array.isArray;function gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Vo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Er(n)}}function iy(t,e){var n=Er(e.value),r=Er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pl,ay=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wI=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){wI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function ly(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ly(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _I=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(t,e){if(e){if(_I[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function od(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=null;function ld(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cd=null,ys=null,vs=null;function uy(t){if(t=sa(t)){if(typeof cd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=tc(e),cd(t.stateNode,t.type,e))}}function py(t){ys?vs?vs.push(t):vs=[t]:ys=t}function dy(){if(ys){var t=ys,e=vs;if(vs=ys=null,uy(t),e)for(t=0;t<e.length;t++)uy(e[t])}}function hy(t,e){return t(e)}function my(){}var ud=!1;function fy(t,e,n){if(ud)return t(e,n);ud=!0;try{return hy(t,e,n)}finally{ud=!1,(ys!==null||vs!==null)&&(my(),dy())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var pd=!1;if($n)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){pd=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{pd=!1}function EI(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Uo=!1,Ll=null,Dl=!1,dd=null,xI={onError:function(t){Uo=!0,Ll=t}};function kI(t,e,n,r,i,s,o,l,c){Uo=!1,Ll=null,EI.apply(xI,arguments)}function TI(t,e,n,r,i,s,o,l,c){if(kI.apply(this,arguments),Uo){if(Uo){var u=Ll;Uo=!1,Ll=null}else throw Error(B(198));Dl||(Dl=!0,dd=u)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yy(t){if(wi(t)!==t)throw Error(B(188))}function II(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yy(i),t;if(s===r)return yy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function vy(t){return t=II(t),t!==null?wy(t):null}function wy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wy(t);if(e!==null)return e;t=t.sibling}return null}var _y=$t.unstable_scheduleCallback,Ey=$t.unstable_cancelCallback,bI=$t.unstable_shouldYield,SI=$t.unstable_requestPaint,ze=$t.unstable_now,CI=$t.unstable_getCurrentPriorityLevel,hd=$t.unstable_ImmediatePriority,xy=$t.unstable_UserBlockingPriority,Vl=$t.unstable_NormalPriority,AI=$t.unstable_LowPriority,ky=$t.unstable_IdlePriority,Ml=null,bn=null;function NI(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:LI,RI=Math.log,PI=Math.LN2;function LI(t){return t>>>=0,t===0?32:31-(RI(t)/PI|0)|0}var jl=64,Ol=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=zo(l):(s&=o,s!==0&&(r=zo(s)))}else o=n&~i,o!==0?r=zo(o):s!==0&&(r=zo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function DI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=DI(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ty(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function fd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function MI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function Iy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var by,yd,Sy,Cy,Ay,vd=!1,Ul=[],xr=null,kr=null,Tr=null,$o=new Map,Wo=new Map,Ir=[],jI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ny(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(e.pointerId)}}function qo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sa(e),e!==null&&yd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OI(t,e,n,r,i){switch(e){case"focusin":return xr=qo(xr,t,e,n,r,i),!0;case"dragenter":return kr=qo(kr,t,e,n,r,i),!0;case"mouseover":return Tr=qo(Tr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $o.set(s,qo($o.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wo.set(s,qo(Wo.get(s)||null,t,e,n,r,i)),!0}return!1}function Ry(t){var e=_i(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=gy(n),e!==null){t.blockedOn=e,Ay(t.priority,function(){Sy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_d(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ad=r,n.target.dispatchEvent(r),ad=null}else return e=sa(n),e!==null&&yd(e),t.blockedOn=n,!1;e.shift()}return!0}function Py(t,e,n){zl(t)&&n.delete(e)}function FI(){vd=!1,xr!==null&&zl(xr)&&(xr=null),kr!==null&&zl(kr)&&(kr=null),Tr!==null&&zl(Tr)&&(Tr=null),$o.forEach(Py),Wo.forEach(Py)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,vd||(vd=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,FI)))}function Go(t){function e(i){return Ho(i,t)}if(0<Ul.length){Ho(Ul[0],t);for(var n=1;n<Ul.length;n++){var r=Ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&Ho(xr,t),kr!==null&&Ho(kr,t),Tr!==null&&Ho(Tr,t),$o.forEach(e),Wo.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&Ir.shift()}var ws=Wn.ReactCurrentBatchConfig,Bl=!0;function UI(t,e,n,r){var i=ge,s=ws.transition;ws.transition=null;try{ge=1,wd(t,e,n,r)}finally{ge=i,ws.transition=s}}function zI(t,e,n,r){var i=ge,s=ws.transition;ws.transition=null;try{ge=4,wd(t,e,n,r)}finally{ge=i,ws.transition=s}}function wd(t,e,n,r){if(Bl){var i=_d(t,e,n,r);if(i===null)jd(t,e,r,$l,n),Ny(t,r);else if(OI(i,t,e,n,r))r.stopPropagation();else if(Ny(t,r),e&4&&-1<jI.indexOf(t)){for(;i!==null;){var s=sa(i);if(s!==null&&by(s),s=_d(t,e,n,r),s===null&&jd(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jd(t,e,r,null,n)}}var $l=null;function _d(t,e,n,r){if($l=null,t=ld(r),t=_i(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function Ly(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CI()){case hd:return 1;case xy:return 4;case Vl:case AI:return 16;case ky:return 536870912;default:return 16}default:return 16}}var br=null,Ed=null,Wl=null;function Dy(){if(Wl)return Wl;var t,e=Ed,n=e.length,r,i="value"in br?br.value:br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Wl=i.slice(t,1<r?1-r:void 0)}function ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Vy(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:Vy,this.isPropagationStopped=Vy,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=Wt(_s),Ko=Re({},_s,{view:0,detail:0}),BI=Wt(Ko),kd,Td,Qo,Gl=Re({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qo&&(Qo&&t.type==="mousemove"?(kd=t.screenX-Qo.screenX,Td=t.screenY-Qo.screenY):Td=kd=0,Qo=t),kd)},movementY:function(t){return"movementY"in t?t.movementY:Td}}),My=Wt(Gl),$I=Re({},Gl,{dataTransfer:0}),WI=Wt($I),qI=Re({},Ko,{relatedTarget:0}),Id=Wt(qI),HI=Re({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),GI=Wt(HI),KI=Re({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QI=Wt(KI),YI=Re({},_s,{data:0}),jy=Wt(YI),XI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZI[t])?!!e[t]:!1}function bd(){return e2}var t2=Re({},Ko,{key:function(t){if(t.key){var e=XI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(t){return t.type==="keypress"?ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n2=Wt(t2),r2=Re({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=Wt(r2),i2=Re({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),s2=Wt(i2),o2=Re({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=Wt(o2),l2=Re({},Gl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=Wt(l2),u2=[9,13,27,32],Sd=$n&&"CompositionEvent"in window,Yo=null;$n&&"documentMode"in document&&(Yo=document.documentMode);var p2=$n&&"TextEvent"in window&&!Yo,Fy=$n&&(!Sd||Yo&&8<Yo&&11>=Yo),Uy=" ",zy=!1;function By(t,e){switch(t){case"keyup":return u2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function d2(t,e){switch(t){case"compositionend":return $y(e);case"keypress":return e.which!==32?null:(zy=!0,Uy);case"textInput":return t=e.data,t===Uy&&zy?null:t;default:return null}}function h2(t,e){if(Es)return t==="compositionend"||!Sd&&By(t,e)?(t=Dy(),Wl=Ed=br=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fy&&e.locale!=="ko"?null:e.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!m2[t.type]:e==="textarea"}function qy(t,e,n,r){py(r),e=Jl(e,"onChange"),0<e.length&&(n=new xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,Jo=null;function f2(t){cv(t,0)}function Kl(t){var e=bs(t);if(Zg(e))return t}function g2(t,e){if(t==="change")return e}var Hy=!1;if($n){var Cd;if($n){var Ad="oninput"in document;if(!Ad){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Ad=typeof Gy.oninput=="function"}Cd=Ad}else Cd=!1;Hy=Cd&&(!document.documentMode||9<document.documentMode)}function Ky(){Xo&&(Xo.detachEvent("onpropertychange",Qy),Jo=Xo=null)}function Qy(t){if(t.propertyName==="value"&&Kl(Jo)){var e=[];qy(e,Jo,t,ld(t)),fy(f2,e)}}function y2(t,e,n){t==="focusin"?(Ky(),Xo=e,Jo=n,Xo.attachEvent("onpropertychange",Qy)):t==="focusout"&&Ky()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(Jo)}function w2(t,e){if(t==="click")return Kl(e)}function _2(t,e){if(t==="input"||t==="change")return Kl(e)}function E2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:E2;function Zo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Up.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function Yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=Yy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yy(n)}}function Jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zy(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function Nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x2(t){var e=Zy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jy(n.ownerDocument.documentElement,n)){if(r!==null&&Nd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xy(n,s);var o=Xy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k2=$n&&"documentMode"in document&&11>=document.documentMode,xs=null,Rd=null,ea=null,Pd=!1;function ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pd||xs==null||xs!==Rl(r)||(r=xs,"selectionStart"in r&&Nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&Zo(ea,r)||(ea=r,r=Jl(Rd,"onSelect"),0<r.length&&(e=new xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xs)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Ld={},tv={};$n&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Yl(t){if(Ld[t])return Ld[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tv)return Ld[t]=e[n];return t}var nv=Yl("animationend"),rv=Yl("animationiteration"),iv=Yl("animationstart"),sv=Yl("transitionend"),ov=new Map,av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(t,e){ov.set(t,e),vi(e,[t])}for(var Dd=0;Dd<av.length;Dd++){var Vd=av[Dd],T2=Vd.toLowerCase(),I2=Vd[0].toUpperCase()+Vd.slice(1);Sr(T2,"on"+I2)}Sr(nv,"onAnimationEnd"),Sr(rv,"onAnimationIteration"),Sr(iv,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(sv,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TI(r,e,void 0,t),t.currentTarget=null}function cv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;lv(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;lv(i,l,u),s=c}}}if(Dl)throw t=dd,Dl=!1,dd=null,t}function ke(t,e){var n=e[$d];n===void 0&&(n=e[$d]=new Set);var r=t+"__bubble";n.has(r)||(uv(e,t,2,!1),n.add(r))}function Md(t,e,n){var r=0;e&&(r|=4),uv(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function na(t){if(!t[Xl]){t[Xl]=!0,qg.forEach(function(n){n!=="selectionchange"&&(b2.has(n)||Md(n,!1,t),Md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,Md("selectionchange",!1,e))}}function uv(t,e,n,r){switch(Ly(e)){case 1:var i=UI;break;case 4:i=zI;break;default:i=wd}n=i.bind(null,e,n,t),i=void 0,!pd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=_i(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fy(function(){var u=s,h=ld(n),m=[];e:{var f=ov.get(t);if(f!==void 0){var w=xd,T=t;switch(t){case"keypress":if(ql(n)===0)break e;case"keydown":case"keyup":w=n2;break;case"focusin":T="focus",w=Id;break;case"focusout":T="blur",w=Id;break;case"beforeblur":case"afterblur":w=Id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=s2;break;case nv:case rv:case iv:w=GI;break;case sv:w=a2;break;case"scroll":w=BI;break;case"wheel":w=c2;break;case"copy":case"cut":case"paste":w=QI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Oy}var I=(e&4)!==0,N=!I&&t==="scroll",v=I?f!==null?f+"Capture":null:f;I=[];for(var _=u,x;_!==null;){x=_;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,v!==null&&(L=Oo(_,v),L!=null&&I.push(ra(_,L,x)))),N)break;_=_.return}0<I.length&&(f=new w(f,T,null,n,h),m.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&n!==ad&&(T=n.relatedTarget||n.fromElement)&&(_i(T)||T[qn]))break e;if((w||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=u,T=T?_i(T):null,T!==null&&(N=wi(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=u),w!==T)){if(I=My,L="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Oy,L="onPointerLeave",v="onPointerEnter",_="pointer"),N=w==null?f:bs(w),x=T==null?f:bs(T),f=new I(L,_+"leave",w,n,h),f.target=N,f.relatedTarget=x,L=null,_i(h)===u&&(I=new I(v,_+"enter",T,n,h),I.target=x,I.relatedTarget=N,L=I),N=L,w&&T)t:{for(I=w,v=T,_=0,x=I;x;x=Ts(x))_++;for(x=0,L=v;L;L=Ts(L))x++;for(;0<_-x;)I=Ts(I),_--;for(;0<x-_;)v=Ts(v),x--;for(;_--;){if(I===v||v!==null&&I===v.alternate)break t;I=Ts(I),v=Ts(v)}I=null}else I=null;w!==null&&pv(m,f,w,I,!1),T!==null&&N!==null&&pv(m,N,T,I,!0)}}e:{if(f=u?bs(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var M=g2;else if(Wy(f))if(Hy)M=_2;else{M=v2;var F=y2}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=w2);if(M&&(M=M(t,u))){qy(m,M,n,h);break e}F&&F(t,f,u),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&nd(f,"number",f.value)}switch(F=u?bs(u):window,t){case"focusin":(Wy(F)||F.contentEditable==="true")&&(xs=F,Rd=u,ea=null);break;case"focusout":ea=Rd=xs=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,ev(m,n,h);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":ev(m,n,h)}var S;if(Sd)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Es?By(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Fy&&n.locale!=="ko"&&(Es||y!=="onCompositionStart"?y==="onCompositionEnd"&&Es&&(S=Dy()):(br=h,Ed="value"in br?br.value:br.textContent,Es=!0)),F=Jl(u,y),0<F.length&&(y=new jy(y,t,null,n,h),m.push({event:y,listeners:F}),S?y.data=S:(S=$y(n),S!==null&&(y.data=S)))),(S=p2?d2(t,n):h2(t,n))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(h=new jy("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=S))}cv(m,e)})}function ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oo(t,n),s!=null&&r.unshift(ra(t,s,i)),s=Oo(t,e),s!=null&&r.push(ra(t,s,i))),t=t.return}return r}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Oo(n,s),c!=null&&o.unshift(ra(n,c,l))):i||(c=Oo(n,s),c!=null&&o.push(ra(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var S2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(S2,`
`).replace(C2,"")}function Zl(t,e,n){if(e=dv(e),dv(t)!==e&&n)throw Error(B(425))}function ec(){}var Od=null,Fd=null;function Ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(R2)}:zd;function R2(t){setTimeout(function(){throw t})}function Bd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Go(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Go(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Is,ia="__reactProps$"+Is,qn="__reactContainer$"+Is,$d="__reactEvents$"+Is,P2="__reactListeners$"+Is,L2="__reactHandles$"+Is;function _i(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mv(t);t!==null;){if(n=t[Sn])return n;t=mv(t)}return e}t=n,n=t.parentNode}return null}function sa(t){return t=t[Sn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function tc(t){return t[ia]||null}var Wd=[],Ss=-1;function Ar(t){return{current:t}}function Te(t){0>Ss||(t.current=Wd[Ss],Wd[Ss]=null,Ss--)}function _e(t,e){Ss++,Wd[Ss]=t.current,t.current=e}var Nr={},mt=Ar(Nr),Dt=Ar(!1),Ei=Nr;function Cs(t,e){var n=t.type.contextTypes;if(!n)return Nr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function nc(){Te(Dt),Te(mt)}function fv(t,e,n){if(mt.current!==Nr)throw Error(B(168));_e(mt,e),_e(Dt,n)}function gv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,yI(t)||"Unknown",i));return Re({},n,r)}function rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,Ei=mt.current,_e(mt,t),_e(Dt,Dt.current),!0}function yv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=gv(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,Te(Dt),Te(mt),_e(mt,t)):Te(Dt),_e(Dt,n)}var Hn=null,ic=!1,qd=!1;function vv(t){Hn===null?Hn=[t]:Hn.push(t)}function D2(t){ic=!0,vv(t)}function Rr(){if(!qd&&Hn!==null){qd=!0;var t=0,e=ge;try{var n=Hn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,ic=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(t+1)),_y(hd,Rr),i}finally{ge=e,qd=!1}}return null}var As=[],Ns=0,sc=null,oc=0,Zt=[],en=0,xi=null,Gn=1,Kn="";function ki(t,e){As[Ns++]=oc,As[Ns++]=sc,sc=t,oc=e}function wv(t,e,n){Zt[en++]=Gn,Zt[en++]=Kn,Zt[en++]=xi,xi=t;var r=Gn;t=Kn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gn=1<<32-pn(e)+i|n<<i|r,Kn=s+t}else Gn=1<<s|n<<i|r,Kn=t}function Hd(t){t.return!==null&&(ki(t,1),wv(t,1,0))}function Gd(t){for(;t===sc;)sc=As[--Ns],As[Ns]=null,oc=As[--Ns],As[Ns]=null;for(;t===xi;)xi=Zt[--en],Zt[en]=null,Kn=Zt[--en],Zt[en]=null,Gn=Zt[--en],Zt[en]=null}var qt=null,Ht=null,Se=!1,hn=null;function _v(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ev(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Ht=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Ht=null,!0):!1;default:return!1}}function Kd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qd(t){if(Se){var e=Ht;if(e){var n=e;if(!Ev(t,e)){if(Kd(t))throw Error(B(418));e=Cr(n.nextSibling);var r=qt;e&&Ev(t,e)?_v(r,n):(t.flags=t.flags&-4097|2,Se=!1,qt=t)}}else{if(Kd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Se=!1,qt=t}}}function xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function ac(t){if(t!==qt)return!1;if(!Se)return xv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ud(t.type,t.memoizedProps)),e&&(e=Ht)){if(Kd(t))throw kv(),Error(B(418));for(;e;)_v(t,e),e=Cr(e.nextSibling)}if(xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=qt?Cr(t.stateNode.nextSibling):null;return!0}function kv(){for(var t=Ht;t;)t=Cr(t.nextSibling)}function Rs(){Ht=qt=null,Se=!1}function Yd(t){hn===null?hn=[t]:hn.push(t)}var V2=Wn.ReactCurrentBatchConfig;function oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function lc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function Iv(t){function e(v,_){if(t){var x=v.deletions;x===null?(v.deletions=[_],v.flags|=16):x.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Fr(v,_),v.index=0,v.sibling=null,v}function s(v,_,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<_?(v.flags|=2,_):x):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,x,L){return _===null||_.tag!==6?(_=zh(x,v.mode,L),_.return=v,_):(_=i(_,x),_.return=v,_)}function c(v,_,x,L){var M=x.type;return M===fs?h(v,_,x.props.children,L,x.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===_r&&Tv(M)===_.type)?(L=i(_,x.props),L.ref=oa(v,_,x),L.return=v,L):(L=Pc(x.type,x.key,x.props,null,v.mode,L),L.ref=oa(v,_,x),L.return=v,L)}function u(v,_,x,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Bh(x,v.mode,L),_.return=v,_):(_=i(_,x.children||[]),_.return=v,_)}function h(v,_,x,L,M){return _===null||_.tag!==7?(_=Ri(x,v.mode,L,M),_.return=v,_):(_=i(_,x),_.return=v,_)}function m(v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=zh(""+_,v.mode,x),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Al:return x=Pc(_.type,_.key,_.props,null,v.mode,x),x.ref=oa(v,null,_),x.return=v,x;case ms:return _=Bh(_,v.mode,x),_.return=v,_;case _r:var L=_._init;return m(v,L(_._payload),x)}if(Vo(_)||Lo(_))return _=Ri(_,v.mode,x,null),_.return=v,_;lc(v,_)}return null}function f(v,_,x,L){var M=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:l(v,_,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:return x.key===M?c(v,_,x,L):null;case ms:return x.key===M?u(v,_,x,L):null;case _r:return M=x._init,f(v,_,M(x._payload),L)}if(Vo(x)||Lo(x))return M!==null?null:h(v,_,x,L,null);lc(v,x)}return null}function w(v,_,x,L,M){if(typeof L=="string"&&L!==""||typeof L=="number")return v=v.get(x)||null,l(_,v,""+L,M);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Al:return v=v.get(L.key===null?x:L.key)||null,c(_,v,L,M);case ms:return v=v.get(L.key===null?x:L.key)||null,u(_,v,L,M);case _r:var F=L._init;return w(v,_,x,F(L._payload),M)}if(Vo(L)||Lo(L))return v=v.get(x)||null,h(_,v,L,M,null);lc(_,L)}return null}function T(v,_,x,L){for(var M=null,F=null,S=_,y=_=0,b=null;S!==null&&y<x.length;y++){S.index>y?(b=S,S=null):b=S.sibling;var C=f(v,S,x[y],L);if(C===null){S===null&&(S=b);break}t&&S&&C.alternate===null&&e(v,S),_=s(C,_,y),F===null?M=C:F.sibling=C,F=C,S=b}if(y===x.length)return n(v,S),Se&&ki(v,y),M;if(S===null){for(;y<x.length;y++)S=m(v,x[y],L),S!==null&&(_=s(S,_,y),F===null?M=S:F.sibling=S,F=S);return Se&&ki(v,y),M}for(S=r(v,S);y<x.length;y++)b=w(S,v,y,x[y],L),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?y:b.key),_=s(b,_,y),F===null?M=b:F.sibling=b,F=b);return t&&S.forEach(function(A){return e(v,A)}),Se&&ki(v,y),M}function I(v,_,x,L){var M=Lo(x);if(typeof M!="function")throw Error(B(150));if(x=M.call(x),x==null)throw Error(B(151));for(var F=M=null,S=_,y=_=0,b=null,C=x.next();S!==null&&!C.done;y++,C=x.next()){S.index>y?(b=S,S=null):b=S.sibling;var A=f(v,S,C.value,L);if(A===null){S===null&&(S=b);break}t&&S&&A.alternate===null&&e(v,S),_=s(A,_,y),F===null?M=A:F.sibling=A,F=A,S=b}if(C.done)return n(v,S),Se&&ki(v,y),M;if(S===null){for(;!C.done;y++,C=x.next())C=m(v,C.value,L),C!==null&&(_=s(C,_,y),F===null?M=C:F.sibling=C,F=C);return Se&&ki(v,y),M}for(S=r(v,S);!C.done;y++,C=x.next())C=w(S,v,y,C.value,L),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?y:C.key),_=s(C,_,y),F===null?M=C:F.sibling=C,F=C);return t&&S.forEach(function(D){return e(v,D)}),Se&&ki(v,y),M}function N(v,_,x,L){if(typeof x=="object"&&x!==null&&x.type===fs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:e:{for(var M=x.key,F=_;F!==null;){if(F.key===M){if(M=x.type,M===fs){if(F.tag===7){n(v,F.sibling),_=i(F,x.props.children),_.return=v,v=_;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===_r&&Tv(M)===F.type){n(v,F.sibling),_=i(F,x.props),_.ref=oa(v,F,x),_.return=v,v=_;break e}n(v,F);break}else e(v,F);F=F.sibling}x.type===fs?(_=Ri(x.props.children,v.mode,L,x.key),_.return=v,v=_):(L=Pc(x.type,x.key,x.props,null,v.mode,L),L.ref=oa(v,_,x),L.return=v,v=L)}return o(v);case ms:e:{for(F=x.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(v,_.sibling),_=i(_,x.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Bh(x,v.mode,L),_.return=v,v=_}return o(v);case _r:return F=x._init,N(v,_,F(x._payload),L)}if(Vo(x))return T(v,_,x,L);if(Lo(x))return I(v,_,x,L);lc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,x),_.return=v,v=_):(n(v,_),_=zh(x,v.mode,L),_.return=v,v=_),o(v)):n(v,_)}return N}var Ps=Iv(!0),bv=Iv(!1),cc=Ar(null),uc=null,Ls=null,Xd=null;function Jd(){Xd=Ls=uc=null}function Zd(t){var e=cc.current;Te(cc),t._currentValue=e}function eh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){uc=t,Xd=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(Xd!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(uc===null)throw Error(B(308));Ls=t,uc.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Ti=null;function th(t){Ti===null?Ti=[t]:Ti.push(t)}function Sv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,th(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,th(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gd(t,n)}}function Av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dc(t,e,n,r){var i=t.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,h=u=c=null,l=s;do{var f=l.lane,w=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,I=l;switch(f=e,w=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){m=T.call(w,m,f);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,f=typeof T=="function"?T.call(w,m,f):T,f==null)break e;m=Re({},m,f);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else w={eventTime:w,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=w,c=m):h=h.next=w,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Si|=o,t.lanes=o,t.memoizedState=m}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var aa={},Cn=Ar(aa),la=Ar(aa),ca=Ar(aa);function Ii(t){if(t===aa)throw Error(B(174));return t}function rh(t,e){switch(_e(ca,e),_e(la,t),_e(Cn,aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=id(e,t)}Te(Cn),_e(Cn,e)}function Vs(){Te(Cn),Te(la),Te(ca)}function Rv(t){Ii(ca.current);var e=Ii(Cn.current),n=id(e,t.type);e!==n&&(_e(la,t),_e(Cn,n))}function ih(t){la.current===t&&(Te(Cn),Te(la))}var Pe=Ar(0);function hc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function oh(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var mc=Wn.ReactCurrentDispatcher,ah=Wn.ReactCurrentBatchConfig,bi=0,Le=null,Ye=null,et=null,fc=!1,ua=!1,pa=0,M2=0;function ft(){throw Error(B(321))}function lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function ch(t,e,n,r,i,s){if(bi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mc.current=t===null||t.memoizedState===null?U2:z2,t=n(r,i),ua){s=0;do{if(ua=!1,pa=0,25<=s)throw Error(B(301));s+=1,et=Ye=null,e.updateQueue=null,mc.current=B2,t=n(r,i)}while(ua)}if(mc.current=vc,e=Ye!==null&&Ye.next!==null,bi=0,et=Ye=Le=null,fc=!1,e)throw Error(B(300));return t}function uh(){var t=pa!==0;return pa=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Le.memoizedState=et=t:et=et.next=t,et}function nn(){if(Ye===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=et===null?Le.memoizedState:et.next;if(e!==null)et=e,Ye=t;else{if(t===null)throw Error(B(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Le.memoizedState=et=t:et=et.next=t}return et}function da(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=nn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((bi&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Le.lanes|=h,Si|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,dn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Si|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dh(t){var e=nn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dn(s,e.memoizedState)||(Mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Pv(){}function Lv(t,e){var n=Le,r=nn(),i=e(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,hh(Mv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,ha(9,Vv.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(B(349));bi&30||Dv(n,e,i)}return i}function Dv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vv(t,e,n,r){e.value=n,e.getSnapshot=r,jv(e)&&Ov(t)}function Mv(t,e,n){return n(function(){jv(e)&&Ov(t)})}function jv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function Ov(t){var e=Qn(t,1);e!==null&&yn(e,t,1,-1)}function Fv(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},e.queue=t,t=t.dispatch=F2.bind(null,Le,t),[e.memoizedState,t]}function ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uv(){return nn().memoizedState}function gc(t,e,n,r){var i=An();Le.flags|=t,i.memoizedState=ha(1|e,n,void 0,r===void 0?null:r)}function yc(t,e,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&lh(r,o.deps)){i.memoizedState=ha(e,n,s,r);return}}Le.flags|=t,i.memoizedState=ha(1|e,n,s,r)}function zv(t,e){return gc(8390656,8,t,e)}function hh(t,e){return yc(2048,8,t,e)}function Bv(t,e){return yc(4,2,t,e)}function $v(t,e){return yc(4,4,t,e)}function Wv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qv(t,e,n){return n=n!=null?n.concat([t]):null,yc(4,4,Wv.bind(null,e,t),n)}function mh(){}function Hv(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gv(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kv(t,e,n){return bi&21?(dn(n,e)||(n=Ty(),Le.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function j2(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=ah.transition;ah.transition={};try{t(!1),e()}finally{ge=n,ah.transition=r}}function Qv(){return nn().memoizedState}function O2(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yv(t))Xv(e,n);else if(n=Sv(t,e,n,r),n!==null){var i=At();yn(n,t,r,i),Jv(n,e,r)}}function F2(t,e,n){var r=jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yv(t))Xv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,dn(l,o)){var c=e.interleaved;c===null?(i.next=i,th(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Sv(t,e,i,r),n!==null&&(i=At(),yn(n,t,r,i),Jv(n,e,r))}}function Yv(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function Xv(t,e){ua=fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gd(t,n)}}var vc={readContext:tn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},U2={readContext:tn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gc(4194308,4,Wv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return gc(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O2.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:Fv,useDebugValue:mh,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=Fv(!1),e=t[0];return t=j2.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=An();if(Se){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),tt===null)throw Error(B(349));bi&30||Dv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zv(Mv.bind(null,r,s,t),[t]),r.flags|=2048,ha(9,Vv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=An(),e=tt.identifierPrefix;if(Se){var n=Kn,r=Gn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z2={readContext:tn,useCallback:Hv,useContext:tn,useEffect:hh,useImperativeHandle:qv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Gv,useReducer:ph,useRef:Uv,useState:function(){return ph(da)},useDebugValue:mh,useDeferredValue:function(t){var e=nn();return Kv(e,Ye.memoizedState,t)},useTransition:function(){var t=ph(da)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Lv,useId:Qv,unstable_isNewReconciler:!1},B2={readContext:tn,useCallback:Hv,useContext:tn,useEffect:hh,useImperativeHandle:qv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Gv,useReducer:dh,useRef:Uv,useState:function(){return dh(da)},useDebugValue:mh,useDeferredValue:function(t){var e=nn();return Ye===null?e.memoizedState=t:Kv(e,Ye.memoizedState,t)},useTransition:function(){var t=dh(da)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Lv,useId:Qv,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wc={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),i=jr(t),s=Yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(yn(e,t,i,r),pc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),i=jr(t),s=Yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(yn(e,t,i,r),pc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=jr(t),i=Yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lr(t,i,r),e!==null&&(yn(e,t,r,n),pc(e,t,r))}};function Zv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zo(n,r)||!Zo(i,s):!0}function e0(t,e,n){var r=!1,i=Nr,s=e.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=Vt(e)?Ei:mt.current,r=e.contextTypes,s=(r=r!=null)?Cs(t,i):Nr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function t0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wc.enqueueReplaceState(e,e.state,null)}function gh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=Vt(e)?Ei:mt.current,i.context=Cs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wc.enqueueReplaceState(i,i.state,null),dc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,e){try{var n="",r=e;do n+=gI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $2=typeof WeakMap=="function"?WeakMap:Map;function n0(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bc||(bc=!0,Lh=r),vh(t,e)},n}function r0(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vh(t,e),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function i0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rb.bind(null,t,e,n),e.then(t,t))}function s0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var W2=Wn.ReactCurrentOwner,Mt=!1;function Ct(t,e,n,r){e.child=t===null?bv(e,null,n,r):Ps(e,t.child,n,r)}function a0(t,e,n,r,i){n=n.render;var s=e.ref;return Ds(e,i),r=ch(t,e,n,r,s,i),n=uh(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Se&&n&&Hd(e),e.flags|=1,Ct(t,e,r,i),e.child)}function l0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Uh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c0(t,e,s,r,i)):(t=Pc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zo,n(o,r)&&t.ref===e.ref)return Xn(t,e,i)}return e.flags|=1,t=Fr(s,r),t.ref=e.ref,t.return=e,e.child=t}function c0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zo(s,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,Xn(t,e,i)}return wh(t,e,n,r,i)}function u0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Os,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Os,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(Os,Gt),Gt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(Os,Gt),Gt|=r;return Ct(t,e,i,n),e.child}function p0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wh(t,e,n,r,i){var s=Vt(n)?Ei:mt.current;return s=Cs(e,s),Ds(e,i),n=ch(t,e,n,r,s,i),r=uh(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Se&&r&&Hd(e),e.flags|=1,Ct(t,e,n,i),e.child)}function d0(t,e,n,r,i){if(Vt(n)){var s=!0;rc(e)}else s=!1;if(Ds(e,i),e.stateNode===null)Ec(t,e),e0(e,n,r),gh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Vt(n)?Ei:mt.current,u=Cs(e,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&t0(e,o,r,u),Pr=!1;var f=e.memoizedState;o.state=f,dc(e,r,o,i),c=e.memoizedState,l!==r||f!==c||Dt.current||Pr?(typeof h=="function"&&(fh(e,n,h,r),c=e.memoizedState),(l=Pr||Zv(e,n,l,r,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cv(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:mn(e.type,l),o.props=u,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=tn(c):(c=Vt(n)?Ei:mt.current,c=Cs(e,c));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&t0(e,o,r,c),Pr=!1,f=e.memoizedState,o.state=f,dc(e,r,o,i);var T=e.memoizedState;l!==m||f!==T||Dt.current||Pr?(typeof w=="function"&&(fh(e,n,w,r),T=e.memoizedState),(u=Pr||Zv(e,n,u,r,f,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return _h(t,e,n,r,s,i)}function _h(t,e,n,r,i,s){p0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yv(e,n,!1),Xn(t,e,s);r=e.stateNode,W2.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,s),e.child=Ps(e,null,l,s)):Ct(t,e,l,s),e.memoizedState=r.state,i&&yv(e,n,!0),e.child}function h0(t){var e=t.stateNode;e.pendingContext?fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fv(t,e.context,!1),rh(t,e.containerInfo)}function m0(t,e,n,r,i){return Rs(),Yd(i),e.flags|=256,Ct(t,e,n,r),e.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function f0(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Pe,i&1),t===null)return Qd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lc(o,r,0,null),t=Ri(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xh(n),e.memoizedState=Eh,t):kh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return q2(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Fr(l,s):(s=Ri(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Eh,r}return s=t.child,t=s.sibling,r=Fr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kh(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&Yd(r),Ps(e,t.child,null,n),t=kh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=yh(Error(B(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),s=Ri(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=xh(o),e.memoizedState=Eh,s);if(!(e.mode&1))return _c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=yh(s,r,void 0),_c(t,e,o,r)}if(l=(o&t.childLanes)!==0,Mt||l){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),yn(r,t,i,-1))}return Fh(),r=yh(Error(B(421))),_c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ib.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ht=Cr(i.nextSibling),qt=e,Se=!0,hn=null,t!==null&&(Zt[en++]=Gn,Zt[en++]=Kn,Zt[en++]=xi,Gn=t.id,Kn=t.overflow,xi=e),e=kh(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eh(t.return,e,n)}function Th(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Th(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Th(e,!0,n,null,s);break;case"together":Th(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function H2(t,e,n){switch(e.tag){case 3:h0(e),Rs();break;case 5:Rv(e);break;case 1:Vt(e.type)&&rc(e);break;case 4:rh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(cc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?f0(t,e,n):(_e(Pe,Pe.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return y0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return Xn(t,e,n)}var v0,Ih,w0,_0;v0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ih=function(){},w0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(Cn.current);var s=null;switch(n){case"input":i=ed(t,i),r=ed(t,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=rd(t,i),r=rd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ec)}sd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}},_0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G2(t,e,n){var r=e.pendingProps;switch(Gd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Vt(e.type)&&nc(),gt(e),null;case 3:return r=e.stateNode,Vs(),Te(Dt),Te(mt),oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(Mh(hn),hn=null))),Ih(t,e),gt(e),null;case 5:ih(e);var i=Ii(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)w0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return gt(e),null}if(t=Ii(Cn.current),ac(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[ia]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)ke(ta[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ey(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":ry(r,s),ke("invalid",r)}sd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Zl(r.textContent,l,t),i=["children",""+l]):Po.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Nl(r),ny(r,s,!0);break;case"textarea":Nl(r),sy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ec)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[ia]=r,v0(t,e,!1,!1),e.stateNode=t;e:{switch(o=od(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)ke(ta[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":ey(t,r),i=ed(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),ke("invalid",t);break;case"textarea":ry(t,r),i=rd(t,r),ke("invalid",t);break;default:i=r}sd(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?cy(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ay(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mo(t,c):typeof c=="number"&&Mo(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Po.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ke("scroll",t):c!=null&&$p(t,s,c,o))}switch(n){case"input":Nl(t),ny(t,r,!1);break;case"textarea":Nl(t),sy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Er(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)_0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ii(ca.current),Ii(Cn.current),ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Zl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return gt(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Ht!==null&&e.mode&1&&!(e.flags&128))kv(),Rs(),e.flags|=98560,s=!1;else if(s=ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Sn]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else hn!==null&&(Mh(hn),hn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Xe===0&&(Xe=3):Fh())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return Vs(),Ih(t,e),t===null&&na(e.stateNode.containerInfo),gt(e),null;case 10:return Zd(e.type._context),gt(e),null;case 17:return Vt(e.type)&&nc(),gt(e),null;case 19:if(Te(Pe),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ma(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hc(t),o!==null){for(e.flags|=128,ma(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Fs&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304)}else{if(!r)if(t=hc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return gt(e),null}else 2*ze()-s.renderingStartTime>Fs&&n!==1073741824&&(e.flags|=128,r=!0,ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Pe.current,_e(Pe,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Oh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function K2(t,e){switch(Gd(e),e.tag){case 1:return Vt(e.type)&&nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),Te(Dt),Te(mt),oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ih(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return Vs(),null;case 10:return Zd(e.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var xc=!1,yt=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,K=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function bh(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var E0=!1;function Y2(t,e){if(Od=Bl,t=Zy(),Nd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,m=t,f=null;t:for(;;){for(var w;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)f=m,m=w;for(;;){if(m===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),(w=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fd={focusedElem:t,selectionRange:n},Bl=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,N=T.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?I:mn(e.type,I),N);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(L){Fe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return T=E0,E0=!1,T}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bh(e,n,s)}i=i.next}while(i!==r)}}function kc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x0(t){var e=t.alternate;e!==null&&(t.alternate=null,x0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[ia],delete e[$d],delete e[P2],delete e[L2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k0(t){return t.tag===5||t.tag===3||t.tag===4}function T0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ec));else if(r!==4&&(t=t.child,t!==null))for(Ch(t,e,n),t=t.sibling;t!==null;)Ch(t,e,n),t=t.sibling}function Ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ah(t,e,n),t=t.sibling;t!==null;)Ah(t,e,n),t=t.sibling}var ot=null,fn=!1;function Dr(t,e,n){for(n=n.child;n!==null;)I0(t,e,n),n=n.sibling}function I0(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:yt||js(n,e);case 6:var r=ot,i=fn;ot=null,Dr(t,e,n),ot=r,fn=i,ot!==null&&(fn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(fn?(t=ot,n=n.stateNode,t.nodeType===8?Bd(t.parentNode,n):t.nodeType===1&&Bd(t,n),Go(t)):Bd(ot,n.stateNode));break;case 4:r=ot,i=fn,ot=n.stateNode.containerInfo,fn=!0,Dr(t,e,n),ot=r,fn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bh(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!yt&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fe(n,e,l)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Dr(t,e,n),yt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function b0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Q2),e.forEach(function(r){var i=sb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,fn=!1;break e;case 3:ot=l.stateNode.containerInfo,fn=!0;break e;case 4:ot=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(ot===null)throw Error(B(160));I0(s,o,i),ot=null,fn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S0(e,t),e=e.sibling}function S0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Nn(t),r&4){try{fa(3,t,t.return),kc(3,t)}catch(I){Fe(t,t.return,I)}try{fa(5,t,t.return)}catch(I){Fe(t,t.return,I)}}break;case 1:gn(e,t),Nn(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(gn(e,t),Nn(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var i=t.stateNode;try{Mo(i,"")}catch(I){Fe(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ty(i,s),od(l,o);var u=od(l,s);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?cy(i,m):h==="dangerouslySetInnerHTML"?ay(i,m):h==="children"?Mo(i,m):$p(i,h,m,u)}switch(l){case"input":td(i,s);break;case"textarea":iy(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?gs(i,!!s.multiple,w,!1):f!==!!s.multiple&&(s.defaultValue!=null?gs(i,!!s.multiple,s.defaultValue,!0):gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ia]=s}catch(I){Fe(t,t.return,I)}}break;case 6:if(gn(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Fe(t,t.return,I)}}break;case 3:if(gn(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Go(e.containerInfo)}catch(I){Fe(t,t.return,I)}break;case 4:gn(e,t),Nn(t);break;case 13:gn(e,t),Nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ph=ze())),r&4&&b0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||h,gn(e,t),yt=u):gn(e,t),Nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(m=K=h;K!==null;){switch(f=K,w=f.child,f.tag){case 0:case 11:case 14:case 15:fa(4,f,f.return);break;case 1:js(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(I){Fe(r,n,I)}}break;case 5:js(f,f.return);break;case 22:if(f.memoizedState!==null){N0(m);continue}}w!==null?(w.return=f,K=w):N0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ly("display",o))}catch(I){Fe(t,t.return,I)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(I){Fe(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gn(e,t),Nn(t),r&4&&b0(t);break;case 21:break;default:gn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k0(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mo(i,""),r.flags&=-33);var s=T0(t);Ah(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=T0(t);Ch(t,l,o);break;default:throw Error(B(161))}}catch(c){Fe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X2(t,e,n){K=t,C0(t)}function C0(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||yt;l=xc;var u=yt;if(xc=o,(yt=c)&&!u)for(K=i;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?R0(i):c!==null?(c.return=o,K=c):R0(i);for(;s!==null;)K=s,C0(s),s=s.sibling;K=i,xc=l,yt=u}A0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):A0(t)}}function A0(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||kc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Go(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}yt||e.flags&512&&Sh(e)}catch(f){Fe(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function N0(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function R0(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kc(4,e)}catch(c){Fe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Fe(e,i,c)}}var s=e.return;try{Sh(e)}catch(c){Fe(e,s,c)}break;case 5:var o=e.return;try{Sh(e)}catch(c){Fe(e,o,c)}}}catch(c){Fe(e,e.return,c)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var J2=Math.ceil,Tc=Wn.ReactCurrentDispatcher,Nh=Wn.ReactCurrentOwner,rn=Wn.ReactCurrentBatchConfig,he=0,tt=null,We=null,at=0,Gt=0,Os=Ar(0),Xe=0,ga=null,Si=0,Ic=0,Rh=0,ya=null,jt=null,Ph=0,Fs=1/0,Jn=null,bc=!1,Lh=null,Vr=null,Sc=!1,Mr=null,Cc=0,va=0,Dh=null,Ac=-1,Nc=0;function At(){return he&6?ze():Ac!==-1?Ac:Ac=ze()}function jr(t){return t.mode&1?he&2&&at!==0?at&-at:V2.transition!==null?(Nc===0&&(Nc=Ty()),Nc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Ly(t.type)),t):1}function yn(t,e,n,r){if(50<va)throw va=0,Dh=null,Error(B(185));Bo(t,n,r),(!(he&2)||t!==tt)&&(t===tt&&(!(he&2)&&(Ic|=n),Xe===4&&Or(t,at)),Ot(t,r),n===1&&he===0&&!(e.mode&1)&&(Fs=ze()+500,ic&&Rr()))}function Ot(t,e){var n=t.callbackNode;VI(t,e);var r=Fl(t,t===tt?at:0);if(r===0)n!==null&&Ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ey(n),e===1)t.tag===0?D2(L0.bind(null,t)):vv(L0.bind(null,t)),N2(function(){!(he&6)&&Rr()}),n=null;else{switch(Iy(r)){case 1:n=hd;break;case 4:n=xy;break;case 16:n=Vl;break;case 536870912:n=ky;break;default:n=Vl}n=z0(n,P0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P0(t,e){if(Ac=-1,Nc=0,he&6)throw Error(B(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var r=Fl(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var i=he;he|=2;var s=V0();(tt!==t||at!==e)&&(Jn=null,Fs=ze()+500,Ai(t,e));do try{tb();break}catch(l){D0(t,l)}while(!0);Jd(),Tc.current=s,he=i,We!==null?e=0:(tt=null,at=0,e=Xe)}if(e!==0){if(e===2&&(i=md(t),i!==0&&(r=i,e=Vh(t,i))),e===1)throw n=ga,Ai(t,0),Or(t,r),Ot(t,ze()),n;if(e===6)Or(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z2(i)&&(e=Rc(t,r),e===2&&(s=md(t),s!==0&&(r=s,e=Vh(t,s))),e===1))throw n=ga,Ai(t,0),Or(t,r),Ot(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ni(t,jt,Jn);break;case 3:if(Or(t,r),(r&130023424)===r&&(e=Ph+500-ze(),10<e)){if(Fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zd(Ni.bind(null,t,jt,Jn),e);break}Ni(t,jt,Jn);break;case 4:if(Or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){t.timeoutHandle=zd(Ni.bind(null,t,jt,Jn),r);break}Ni(t,jt,Jn);break;case 5:Ni(t,jt,Jn);break;default:throw Error(B(329))}}}return Ot(t,ze()),t.callbackNode===n?P0.bind(null,t):null}function Vh(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=jt,jt=n,e!==null&&Mh(e)),t}function Mh(t){jt===null?jt=t:jt.push.apply(jt,t)}function Z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~Rh,e&=~Ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function L0(t){if(he&6)throw Error(B(327));Us();var e=Fl(t,0);if(!(e&1))return Ot(t,ze()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=md(t);r!==0&&(e=r,n=Vh(t,r))}if(n===1)throw n=ga,Ai(t,0),Or(t,e),Ot(t,ze()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,jt,Jn),Ot(t,ze()),null}function jh(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Fs=ze()+500,ic&&Rr())}}function Ci(t){Mr!==null&&Mr.tag===0&&!(he&6)&&Us();var e=he;he|=1;var n=rn.transition,r=ge;try{if(rn.transition=null,ge=1,t)return t()}finally{ge=r,rn.transition=n,he=e,!(he&6)&&Rr()}}function Oh(){Gt=Os.current,Te(Os)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A2(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:Vs(),Te(Dt),Te(mt),oh();break;case 5:ih(r);break;case 4:Vs();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Zd(r.type._context);break;case 22:case 23:Oh()}n=n.return}if(tt=t,We=t=Fr(t.current,null),at=Gt=e,Xe=0,ga=null,Rh=Ic=Si=0,jt=ya=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ti=null}return t}function D0(t,e){do{var n=We;try{if(Jd(),mc.current=vc,fc){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fc=!1}if(bi=0,et=Ye=Le=null,ua=!1,pa=0,Nh.current=null,n===null||n.return===null){Xe=1,ga=e,We=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=at,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=s0(o);if(w!==null){w.flags&=-257,o0(w,o,l,s,e),w.mode&1&&i0(s,u,e),e=w,c=u;var T=e.updateQueue;if(T===null){var I=new Set;I.add(c),e.updateQueue=I}else T.add(c);break e}else{if(!(e&1)){i0(s,u,e),Fh();break e}c=Error(B(426))}}else if(Se&&l.mode&1){var N=s0(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),o0(N,o,l,s,e),Yd(Ms(c,l));break e}}s=c=Ms(c,l),Xe!==4&&(Xe=2),ya===null?ya=[s]:ya.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=n0(s,c,e);Av(s,v);break e;case 1:l=c;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vr===null||!Vr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=r0(s,l,e);Av(s,L);break e}}s=s.return}while(s!==null)}j0(n)}catch(M){e=M,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function V0(){var t=Tc.current;return Tc.current=vc,t===null?vc:t}function Fh(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(Si&268435455)&&!(Ic&268435455)||Or(tt,at)}function Rc(t,e){var n=he;he|=2;var r=V0();(tt!==t||at!==e)&&(Jn=null,Ai(t,e));do try{eb();break}catch(i){D0(t,i)}while(!0);if(Jd(),he=n,Tc.current=r,We!==null)throw Error(B(261));return tt=null,at=0,Xe}function eb(){for(;We!==null;)M0(We)}function tb(){for(;We!==null&&!bI();)M0(We)}function M0(t){var e=U0(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?j0(t):We=e,Nh.current=null}function j0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K2(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,We=null;return}}else if(n=G2(n,e,Gt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Xe===0&&(Xe=5)}function Ni(t,e,n){var r=ge,i=rn.transition;try{rn.transition=null,ge=1,nb(t,e,n,r)}finally{rn.transition=i,ge=r}return null}function nb(t,e,n,r){do Us();while(Mr!==null);if(he&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MI(t,s),t===tt&&(We=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,z0(Vl,function(){return Us(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=ge;ge=1;var l=he;he|=4,Nh.current=null,Y2(t,n),S0(n,t),x2(Fd),Bl=!!Od,Fd=Od=null,t.current=n,X2(n),SI(),he=l,ge=o,rn.transition=s}else t.current=n;if(Sc&&(Sc=!1,Mr=t,Cc=i),s=t.pendingLanes,s===0&&(Vr=null),NI(n.stateNode),Ot(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=Lh,Lh=null,t;return Cc&1&&t.tag!==0&&Us(),s=t.pendingLanes,s&1?t===Dh?va++:(va=0,Dh=t):va=0,Rr(),null}function Us(){if(Mr!==null){var t=Iy(Cc),e=rn.transition,n=ge;try{if(rn.transition=null,ge=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,Cc=0,he&6)throw Error(B(331));var i=he;for(he|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:fa(8,h,s)}var m=h.child;if(m!==null)m.return=h,K=m;else for(;K!==null;){h=K;var f=h.sibling,w=h.return;if(x0(h),h===u){K=null;break}if(f!==null){f.return=w,K=f;break}K=w}}}var T=s.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var N=I.sibling;I.sibling=null,I=N}while(I!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fa(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,K=v;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,K=x;else e:for(o=_;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kc(9,l)}}catch(M){Fe(l,l.return,M)}if(l===o){K=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,K=L;break e}K=l.return}}if(he=i,Rr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{ge=n,rn.transition=e}}return!1}function O0(t,e,n){e=Ms(n,e),e=n0(t,e,1),t=Lr(t,e,1),e=At(),t!==null&&(Bo(t,1,e),Ot(t,e))}function Fe(t,e,n){if(t.tag===3)O0(t,t,n);else for(;e!==null;){if(e.tag===3){O0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){t=Ms(n,t),t=r0(e,t,1),e=Lr(e,t,1),t=At(),e!==null&&(Bo(e,1,t),Ot(e,t));break}}e=e.return}}function rb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(Xe===4||Xe===3&&(at&130023424)===at&&500>ze()-Ph?Ai(t,0):Rh|=n),Ot(t,e)}function F0(t,e){e===0&&(t.mode&1?(e=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):e=1);var n=At();t=Qn(t,e),t!==null&&(Bo(t,e,n),Ot(t,n))}function ib(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function sb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),F0(t,n)}var U0;U0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,H2(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Se&&e.flags&1048576&&wv(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=Cs(e,mt.current);Ds(e,n),i=ch(null,e,r,t,i,n);var s=uh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,rc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nh(e),i.updater=wc,e.stateNode=i,i._reactInternals=e,gh(e,r,t,n),e=_h(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&Hd(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ab(r),t=mn(r,t),i){case 0:e=wh(null,e,r,t,n);break e;case 1:e=d0(null,e,r,t,n);break e;case 11:e=a0(null,e,r,t,n);break e;case 14:e=l0(null,e,r,mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),wh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),d0(t,e,r,i,n);case 3:e:{if(h0(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Cv(t,e),dc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ms(Error(B(423)),e),e=m0(t,e,r,n,i);break e}else if(r!==i){i=Ms(Error(B(424)),e),e=m0(t,e,r,n,i);break e}else for(Ht=Cr(e.stateNode.containerInfo.firstChild),qt=e,Se=!0,hn=null,n=bv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){e=Xn(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return Rv(e),t===null&&Qd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ud(r,i)?o=null:s!==null&&Ud(r,s)&&(e.flags|=32),p0(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Qd(e),null;case 13:return f0(t,e,n);case 4:return rh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),a0(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(cc,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Dt.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),eh(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),eh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ds(e,n),i=tn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),l0(t,e,r,i,n);case 15:return c0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Ec(t,e),e.tag=1,Vt(r)?(t=!0,rc(e)):t=!1,Ds(e,n),e0(e,r,i),gh(e,r,i,n),_h(null,e,r,!0,t,n);case 19:return y0(t,e,n);case 22:return u0(t,e,n)}throw Error(B(156,e.tag))};function z0(t,e){return _y(t,e)}function ob(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new ob(t,e,n,r)}function Uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ab(t){if(typeof t=="function")return Uh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hp)return 11;if(t===Qp)return 14}return 2}function Fr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Uh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Ri(n.children,i,s,e);case Wp:o=8,i|=8;break;case qp:return t=sn(12,n,e,i|2),t.elementType=qp,t.lanes=s,t;case Gp:return t=sn(13,n,e,i),t.elementType=Gp,t.lanes=s,t;case Kp:return t=sn(19,n,e,i),t.elementType=Kp,t.lanes=s,t;case Yg:return Lc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kg:o=10;break e;case Qg:o=9;break e;case Hp:o=11;break e;case Qp:o=14;break e;case _r:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ri(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=sn(22,t,r,e),t.elementType=Yg,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $h(t,e,n,r,i,s,o,l,c){return t=new lb(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(s),t}function cb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B0(t){if(!t)return Nr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Vt(n))return gv(t,n,e)}return e}function $0(t,e,n,r,i,s,o,l,c){return t=$h(n,r,!0,t,i,s,o,l,c),t.context=B0(null),n=t.current,r=At(),i=jr(n),s=Yn(r,i),s.callback=e??null,Lr(n,s,i),t.current.lanes=i,Bo(t,i,r),Ot(t,r),t}function Dc(t,e,n,r){var i=e.current,s=At(),o=jr(i);return n=B0(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(i,e,o),t!==null&&(yn(t,i,o,s),pc(t,i,o)),o}function Vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wh(t,e){W0(t,e),(t=t.alternate)&&W0(t,e)}function ub(){return null}var q0=typeof reportError=="function"?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}Mc.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Dc(t,e,null,null)},Mc.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Dc(null,t,null,null)}),e[qn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&Ry(t)}};function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H0(){}function pb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Vc(o);s.call(u)}}var o=$0(e,r,t,0,null,!1,!1,"",H0);return t._reactRootContainer=o,t[qn]=o.current,na(t.nodeType===8?t.parentNode:t),Ci(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Vc(c);l.call(u)}}var c=$h(t,0,!1,null,null,!1,!1,"",H0);return t._reactRootContainer=c,t[qn]=c.current,na(t.nodeType===8?t.parentNode:t),Ci(function(){Dc(e,c,n,r)}),c}function Oc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Vc(o);l.call(c)}}Dc(e,o,t,i)}else o=pb(n,e,t,i,r);return Vc(o)}by=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zo(e.pendingLanes);n!==0&&(gd(e,n|1),Ot(e,ze()),!(he&6)&&(Fs=ze()+500,Rr()))}break;case 13:Ci(function(){var r=Qn(t,1);if(r!==null){var i=At();yn(r,t,1,i)}}),Wh(t,1)}},yd=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=At();yn(e,t,134217728,n)}Wh(t,134217728)}},Sy=function(t){if(t.tag===13){var e=jr(t),n=Qn(t,e);if(n!==null){var r=At();yn(n,t,e,r)}Wh(t,e)}},Cy=function(){return ge},Ay=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}},cd=function(t,e,n){switch(e){case"input":if(td(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tc(r);if(!i)throw Error(B(90));Zg(r),td(r,i)}}}break;case"textarea":iy(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}},hy=jh,my=Ci;var db={usingClientEntryPoint:!1,Events:[sa,bs,tc,py,dy,jh]},wa={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hb={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vy(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Ml=Fc.inject(hb),bn=Fc}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=db,Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(e))throw Error(B(200));return cb(t,e,null,n)},Bt.createRoot=function(t,e){if(!Hh(t))throw Error(B(299));var n=!1,r="",i=q0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$h(t,1,!1,null,null,n,!1,r,i),t[qn]=e.current,na(t.nodeType===8?t.parentNode:t),new qh(e)},Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=vy(e),t=t===null?null:t.stateNode,t},Bt.flushSync=function(t){return Ci(t)},Bt.hydrate=function(t,e,n){if(!jc(e))throw Error(B(200));return Oc(null,t,e,!0,n)},Bt.hydrateRoot=function(t,e,n){if(!Hh(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=q0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$0(e,null,t,1,n??null,i,!1,s,o),t[qn]=e.current,na(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mc(e)},Bt.render=function(t,e,n){if(!jc(e))throw Error(B(200));return Oc(null,t,e,!1,n)},Bt.unmountComponentAtNode=function(t){if(!jc(t))throw Error(B(40));return t._reactRootContainer?(Ci(function(){Oc(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1},Bt.unstable_batchedUpdates=jh,Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Oc(t,e,n,!1,r)},Bt.version="18.3.1-next-f1338f8080-20240426";function G0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G0)}catch(t){console.error(t)}}G0(),Bg.exports=Bt;var mb=Bg.exports,K0,Q0=mb;K0=Q0.createRoot,Q0.hydrateRoot;const fb="body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}",gb='/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-outline-style:solid;--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--ppm-font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--ppm-font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--ppm-color-red-50:oklch(97.1% .013 17.38);--ppm-color-red-100:oklch(93.6% .032 17.717);--ppm-color-red-200:oklch(88.5% .062 18.334);--ppm-color-red-500:oklch(63.7% .237 25.331);--ppm-color-red-600:oklch(57.7% .245 27.325);--ppm-color-red-700:oklch(50.5% .213 27.518);--ppm-color-red-800:oklch(44.4% .177 26.899);--ppm-color-green-100:oklch(96.2% .044 156.743);--ppm-color-green-500:oklch(72.3% .219 149.579);--ppm-color-green-800:oklch(44.8% .119 151.328);--ppm-color-blue-50:oklch(97% .014 254.604);--ppm-color-blue-100:oklch(93.2% .032 255.585);--ppm-color-blue-500:oklch(62.3% .214 259.815);--ppm-color-blue-600:oklch(54.6% .245 262.881);--ppm-color-blue-700:oklch(48.8% .243 264.376);--ppm-color-blue-800:oklch(42.4% .199 265.638);--ppm-color-gray-50:oklch(98.5% .002 247.839);--ppm-color-gray-100:oklch(96.7% .003 264.542);--ppm-color-gray-200:oklch(92.8% .006 264.531);--ppm-color-gray-300:oklch(87.2% .01 258.338);--ppm-color-gray-400:oklch(70.7% .022 261.325);--ppm-color-gray-500:oklch(55.1% .027 264.364);--ppm-color-gray-600:oklch(44.6% .03 256.802);--ppm-color-gray-700:oklch(37.3% .034 259.733);--ppm-color-gray-900:oklch(21% .034 264.665);--ppm-color-black:#000;--ppm-color-white:#fff;--ppm-spacing:.25rem;--ppm-container-md:28rem;--ppm-text-xs:.75rem;--ppm-text-xs--line-height:calc(1/.75);--ppm-text-sm:.875rem;--ppm-text-sm--line-height:calc(1.25/.875);--ppm-text-base:1rem;--ppm-text-base--line-height: 1.5 ;--ppm-text-lg:1.125rem;--ppm-text-lg--line-height:calc(1.75/1.125);--ppm-text-xl:1.25rem;--ppm-text-xl--line-height:calc(1.75/1.25);--ppm-text-2xl:1.5rem;--ppm-text-2xl--line-height:calc(2/1.5);--ppm-font-weight-medium:500;--ppm-font-weight-semibold:600;--ppm-font-weight-bold:700;--ppm-radius-2xl:1rem;--ppm-animate-spin:spin 1s linear infinite;--ppm-animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--ppm-default-transition-duration:.15s;--ppm-default-transition-timing-function:cubic-bezier(.4,0,.2,1);--ppm-default-font-family:var(--ppm-font-sans);--ppm-default-mono-font-family:var(--ppm-font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--ppm-default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--ppm-default-font-feature-settings,normal);font-variation-settings:var(--ppm-default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--ppm-default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--ppm-default-mono-font-feature-settings,normal);font-variation-settings:var(--ppm-default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}body{background-color:var(--background);color:var(--foreground)}}@layer components;@layer utilities{.ppm\\:\\@container\\/card-header{container:card-header/inline-size}.ppm\\:absolute{position:absolute}.ppm\\:fixed{position:fixed}.ppm\\:relative{position:relative}.ppm\\:sticky{position:sticky}.ppm\\:inset-0{inset:calc(var(--ppm-spacing)*0)}.ppm\\:-top-2{top:calc(var(--ppm-spacing)*-2)}.ppm\\:top-0{top:calc(var(--ppm-spacing)*0)}.ppm\\:top-1\\/2{top:50%}.ppm\\:top-full{top:100%}.ppm\\:-right-2{right:calc(var(--ppm-spacing)*-2)}.ppm\\:right-0{right:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-0{bottom:calc(var(--ppm-spacing)*0)}.ppm\\:bottom-2{bottom:calc(var(--ppm-spacing)*2)}.ppm\\:left-0{left:calc(var(--ppm-spacing)*0)}.ppm\\:left-1\\/2{left:50%}.ppm\\:left-3{left:calc(var(--ppm-spacing)*3)}.ppm\\:z-10{z-index:10}.ppm\\:z-20{z-index:20}.ppm\\:z-50{z-index:50}.ppm\\:col-span-3{grid-column:span 3/span 3}.ppm\\:col-start-2{grid-column-start:2}.ppm\\:row-span-2{grid-row:span 2/span 2}.ppm\\:row-start-1{grid-row-start:1}.ppm\\:mx-auto{margin-inline:auto}.ppm\\:mt-1{margin-top:calc(var(--ppm-spacing)*1)}.ppm\\:mt-2{margin-top:calc(var(--ppm-spacing)*2)}.ppm\\:mt-6{margin-top:calc(var(--ppm-spacing)*6)}.ppm\\:mt-8{margin-top:calc(var(--ppm-spacing)*8)}.ppm\\:mt-10{margin-top:calc(var(--ppm-spacing)*10)}.ppm\\:mb-1{margin-bottom:calc(var(--ppm-spacing)*1)}.ppm\\:mb-2{margin-bottom:calc(var(--ppm-spacing)*2)}.ppm\\:mb-4{margin-bottom:calc(var(--ppm-spacing)*4)}.ppm\\:mb-6{margin-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:ml-1{margin-left:calc(var(--ppm-spacing)*1)}.ppm\\:flex{display:flex}.ppm\\:grid{display:grid}.ppm\\:inline-flex{display:inline-flex}.ppm\\:aspect-square{aspect-ratio:1}.ppm\\:size-8{width:calc(var(--ppm-spacing)*8);height:calc(var(--ppm-spacing)*8)}.ppm\\:size-9{width:calc(var(--ppm-spacing)*9);height:calc(var(--ppm-spacing)*9)}.ppm\\:size-full{width:100%;height:100%}.ppm\\:h-1{height:calc(var(--ppm-spacing)*1)}.ppm\\:h-2{height:calc(var(--ppm-spacing)*2)}.ppm\\:h-3{height:calc(var(--ppm-spacing)*3)}.ppm\\:h-4{height:calc(var(--ppm-spacing)*4)}.ppm\\:h-5{height:calc(var(--ppm-spacing)*5)}.ppm\\:h-6{height:calc(var(--ppm-spacing)*6)}.ppm\\:h-8{height:calc(var(--ppm-spacing)*8)}.ppm\\:h-9{height:calc(var(--ppm-spacing)*9)}.ppm\\:h-10{height:calc(var(--ppm-spacing)*10)}.ppm\\:h-12{height:calc(var(--ppm-spacing)*12)}.ppm\\:h-14{height:calc(var(--ppm-spacing)*14)}.ppm\\:h-16{height:calc(var(--ppm-spacing)*16)}.ppm\\:h-24{height:calc(var(--ppm-spacing)*24)}.ppm\\:h-\\[700px\\]{height:700px}.ppm\\:h-\\[calc\\(100\\%-1px\\)\\]{height:calc(100% - 1px)}.ppm\\:h-full{height:100%}.ppm\\:h-px{height:1px}.ppm\\:max-h-60{max-height:calc(var(--ppm-spacing)*60)}.ppm\\:max-h-\\[90vh\\]{max-height:90vh}.ppm\\:w-1\\/2{width:50%}.ppm\\:w-3{width:calc(var(--ppm-spacing)*3)}.ppm\\:w-3\\/4{width:75%}.ppm\\:w-4{width:calc(var(--ppm-spacing)*4)}.ppm\\:w-5{width:calc(var(--ppm-spacing)*5)}.ppm\\:w-6{width:calc(var(--ppm-spacing)*6)}.ppm\\:w-8{width:calc(var(--ppm-spacing)*8)}.ppm\\:w-12{width:calc(var(--ppm-spacing)*12)}.ppm\\:w-16{width:calc(var(--ppm-spacing)*16)}.ppm\\:w-20{width:calc(var(--ppm-spacing)*20)}.ppm\\:w-24{width:calc(var(--ppm-spacing)*24)}.ppm\\:w-32{width:calc(var(--ppm-spacing)*32)}.ppm\\:w-48{width:calc(var(--ppm-spacing)*48)}.ppm\\:w-\\[350px\\]{width:350px}.ppm\\:w-fit{width:fit-content}.ppm\\:w-full{width:100%}.ppm\\:max-w-\\[90vw\\]{max-width:90vw}.ppm\\:max-w-md{max-width:var(--ppm-container-md)}.ppm\\:min-w-0{min-width:calc(var(--ppm-spacing)*0)}.ppm\\:flex-1{flex:1}.ppm\\:flex-shrink-0,.ppm\\:shrink-0{flex-shrink:0}.ppm\\:-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.ppm\\:animate-pulse{animation:var(--ppm-animate-pulse)}.ppm\\:animate-spin{animation:var(--ppm-animate-spin)}.ppm\\:cursor-pointer{cursor:pointer}.ppm\\:list-inside{list-style-position:inside}.ppm\\:list-disc{list-style-type:disc}.ppm\\:auto-rows-min{grid-auto-rows:min-content}.ppm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.ppm\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.ppm\\:grid-rows-\\[auto_auto\\]{grid-template-rows:auto auto}.ppm\\:flex-col{flex-direction:column}.ppm\\:flex-row{flex-direction:row}.ppm\\:flex-wrap{flex-wrap:wrap}.ppm\\:items-center{align-items:center}.ppm\\:items-start{align-items:flex-start}.ppm\\:justify-between{justify-content:space-between}.ppm\\:justify-center{justify-content:center}.ppm\\:gap-1{gap:calc(var(--ppm-spacing)*1)}.ppm\\:gap-1\\.5{gap:calc(var(--ppm-spacing)*1.5)}.ppm\\:gap-2{gap:calc(var(--ppm-spacing)*2)}.ppm\\:gap-3{gap:calc(var(--ppm-spacing)*3)}.ppm\\:gap-4{gap:calc(var(--ppm-spacing)*4)}.ppm\\:gap-6{gap:calc(var(--ppm-spacing)*6)}:where(.ppm\\:space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--ppm-spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--ppm-spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.ppm\\:space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-6>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*6)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*6)*calc(1 - var(--tw-space-x-reverse)))}:where(.ppm\\:space-x-8>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--ppm-spacing)*8)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--ppm-spacing)*8)*calc(1 - var(--tw-space-x-reverse)))}.ppm\\:self-start{align-self:flex-start}.ppm\\:justify-self-end{justify-self:flex-end}.ppm\\:truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.ppm\\:overflow-hidden{overflow:hidden}.ppm\\:overflow-x-hidden{overflow-x:hidden}.ppm\\:overflow-y-auto{overflow-y:auto}.ppm\\:rounded{border-radius:.25rem}.ppm\\:rounded-\\[2\\.5rem\\]{border-radius:2.5rem}.ppm\\:rounded-\\[3rem\\]{border-radius:3rem}.ppm\\:rounded-full{border-radius:3.40282e38px}.ppm\\:rounded-lg{border-radius:var(--radius)}.ppm\\:rounded-md{border-radius:calc(var(--radius) - 2px)}.ppm\\:rounded-none{border-radius:0}.ppm\\:rounded-sm{border-radius:calc(var(--radius) - 4px)}.ppm\\:rounded-xl{border-radius:calc(var(--radius) + 4px)}.ppm\\:rounded-b-2xl{border-bottom-right-radius:var(--ppm-radius-2xl);border-bottom-left-radius:var(--ppm-radius-2xl)}.ppm\\:border{border-style:var(--tw-border-style);border-width:1px}.ppm\\:border-2{border-style:var(--tw-border-style);border-width:2px}.ppm\\:border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.ppm\\:border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.ppm\\:border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:border-dashed{--tw-border-style:dashed;border-style:dashed}.ppm\\:border-none{--tw-border-style:none;border-style:none}.ppm\\:border-blue-600{border-color:var(--ppm-color-blue-600)}.ppm\\:border-current{border-color:currentColor}.ppm\\:border-gray-100{border-color:var(--ppm-color-gray-100)}.ppm\\:border-gray-200{border-color:var(--ppm-color-gray-200)}.ppm\\:border-gray-300{border-color:var(--ppm-color-gray-300)}.ppm\\:border-input{border-color:var(--input)}.ppm\\:border-red-200{border-color:var(--ppm-color-red-200)}.ppm\\:border-transparent{border-color:#0000}.ppm\\:border-t-transparent{border-top-color:#0000}.ppm\\:bg-accent{background-color:var(--accent)}.ppm\\:bg-background{background-color:var(--background)}.ppm\\:bg-black,.ppm\\:bg-black\\/0{background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:bg-black\\/0{background-color:color-mix(in oklab,var(--ppm-color-black)0%,transparent)}}.ppm\\:bg-black\\/50{background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:bg-black\\/50{background-color:color-mix(in oklab,var(--ppm-color-black)50%,transparent)}}.ppm\\:bg-blue-50{background-color:var(--ppm-color-blue-50)}.ppm\\:bg-blue-500{background-color:var(--ppm-color-blue-500)}.ppm\\:bg-blue-600{background-color:var(--ppm-color-blue-600)}.ppm\\:bg-border{background-color:var(--border)}.ppm\\:bg-card{background-color:var(--card)}.ppm\\:bg-destructive{background-color:var(--destructive)}.ppm\\:bg-gray-100{background-color:var(--ppm-color-gray-100)}.ppm\\:bg-gray-200{background-color:var(--ppm-color-gray-200)}.ppm\\:bg-gray-400{background-color:var(--ppm-color-gray-400)}.ppm\\:bg-gray-900{background-color:var(--ppm-color-gray-900)}.ppm\\:bg-green-100{background-color:var(--ppm-color-green-100)}.ppm\\:bg-green-500{background-color:var(--ppm-color-green-500)}.ppm\\:bg-muted{background-color:var(--muted)}.ppm\\:bg-primary{background-color:var(--primary)}.ppm\\:bg-red-50{background-color:var(--ppm-color-red-50)}.ppm\\:bg-red-100{background-color:var(--ppm-color-red-100)}.ppm\\:bg-secondary{background-color:var(--secondary)}.ppm\\:bg-transparent{background-color:#0000}.ppm\\:bg-white{background-color:var(--ppm-color-white)}.ppm\\:object-cover{object-fit:cover}.ppm\\:p-0{padding:calc(var(--ppm-spacing)*0)}.ppm\\:p-1{padding:calc(var(--ppm-spacing)*1)}.ppm\\:p-2{padding:calc(var(--ppm-spacing)*2)}.ppm\\:p-3{padding:calc(var(--ppm-spacing)*3)}.ppm\\:p-4{padding:calc(var(--ppm-spacing)*4)}.ppm\\:p-\\[3px\\]{padding:3px}.ppm\\:px-2{padding-inline:calc(var(--ppm-spacing)*2)}.ppm\\:px-3{padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:px-4{padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:px-6{padding-inline:calc(var(--ppm-spacing)*6)}.ppm\\:py-0\\.5{padding-block:calc(var(--ppm-spacing)*.5)}.ppm\\:py-1{padding-block:calc(var(--ppm-spacing)*1)}.ppm\\:py-2{padding-block:calc(var(--ppm-spacing)*2)}.ppm\\:py-3{padding-block:calc(var(--ppm-spacing)*3)}.ppm\\:py-6{padding-block:calc(var(--ppm-spacing)*6)}.ppm\\:py-8{padding-block:calc(var(--ppm-spacing)*8)}.ppm\\:py-12{padding-block:calc(var(--ppm-spacing)*12)}.ppm\\:pt-6{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:pb-2{padding-bottom:calc(var(--ppm-spacing)*2)}.ppm\\:pb-3{padding-bottom:calc(var(--ppm-spacing)*3)}.ppm\\:pb-6{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:pb-28{padding-bottom:calc(var(--ppm-spacing)*28)}.ppm\\:pb-\\[env\\(safe-area-inset-bottom\\)\\]{padding-bottom:env(safe-area-inset-bottom)}.ppm\\:pl-10{padding-left:calc(var(--ppm-spacing)*10)}.ppm\\:text-center{text-align:center}.ppm\\:text-left{text-align:left}.ppm\\:text-2xl{font-size:var(--ppm-text-2xl);line-height:var(--tw-leading,var(--ppm-text-2xl--line-height))}.ppm\\:text-base{font-size:var(--ppm-text-base);line-height:var(--tw-leading,var(--ppm-text-base--line-height))}.ppm\\:text-lg{font-size:var(--ppm-text-lg);line-height:var(--tw-leading,var(--ppm-text-lg--line-height))}.ppm\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:text-xl{font-size:var(--ppm-text-xl);line-height:var(--tw-leading,var(--ppm-text-xl--line-height))}.ppm\\:text-xs{font-size:var(--ppm-text-xs);line-height:var(--tw-leading,var(--ppm-text-xs--line-height))}.ppm\\:leading-none{--tw-leading:1;line-height:1}.ppm\\:font-bold{--tw-font-weight:var(--ppm-font-weight-bold);font-weight:var(--ppm-font-weight-bold)}.ppm\\:font-medium{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:font-semibold{--tw-font-weight:var(--ppm-font-weight-semibold);font-weight:var(--ppm-font-weight-semibold)}.ppm\\:whitespace-nowrap{white-space:nowrap}.ppm\\:text-blue-600{color:var(--ppm-color-blue-600)}.ppm\\:text-blue-800{color:var(--ppm-color-blue-800)}.ppm\\:text-card-foreground{color:var(--card-foreground)}.ppm\\:text-foreground{color:var(--foreground)}.ppm\\:text-gray-400{color:var(--ppm-color-gray-400)}.ppm\\:text-gray-500{color:var(--ppm-color-gray-500)}.ppm\\:text-gray-600{color:var(--ppm-color-gray-600)}.ppm\\:text-gray-700{color:var(--ppm-color-gray-700)}.ppm\\:text-gray-900{color:var(--ppm-color-gray-900)}.ppm\\:text-green-800{color:var(--ppm-color-green-800)}.ppm\\:text-muted-foreground{color:var(--muted-foreground)}.ppm\\:text-primary{color:var(--primary)}.ppm\\:text-primary-foreground{color:var(--primary-foreground)}.ppm\\:text-red-600{color:var(--ppm-color-red-600)}.ppm\\:text-red-700{color:var(--ppm-color-red-700)}.ppm\\:text-red-800{color:var(--ppm-color-red-800)}.ppm\\:text-secondary-foreground{color:var(--secondary-foreground)}.ppm\\:text-white{color:var(--ppm-color-white)}.ppm\\:underline-offset-4{text-underline-offset:4px}.ppm\\:opacity-0{opacity:0}.ppm\\:shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:transition-\\[color\\,box-shadow\\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--ppm-default-transition-timing-function));transition-duration:var(--tw-duration,var(--ppm-default-transition-duration))}.ppm\\:outline-none{--tw-outline-style:none;outline-style:none}.ppm\\:select-none{-webkit-user-select:none;user-select:none}@media (hover:hover){.ppm\\:group-hover\\:scale-105:is(:where(.ppm\\:group):hover *){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.ppm\\:group-hover\\:bg-black\\/20:is(:where(.ppm\\:group):hover *){background-color:var(--ppm-color-black)}@supports (color:color-mix(in lab,red,red)){.ppm\\:group-hover\\:bg-black\\/20:is(:where(.ppm\\:group):hover *){background-color:color-mix(in oklab,var(--ppm-color-black)20%,transparent)}}.ppm\\:group-hover\\:opacity-100:is(:where(.ppm\\:group):hover *){opacity:1}}.ppm\\:group-data-\\[disabled\\=true\\]\\:pointer-events-none:is(:where(.ppm\\:group)[data-disabled=true] *){pointer-events:none}.ppm\\:group-data-\\[disabled\\=true\\]\\:opacity-50:is(:where(.ppm\\:group)[data-disabled=true] *){opacity:.5}.ppm\\:peer-disabled\\:cursor-not-allowed:is(:where(.ppm\\:peer):disabled~*){cursor:not-allowed}.ppm\\:peer-disabled\\:opacity-50:is(:where(.ppm\\:peer):disabled~*){opacity:.5}.ppm\\:selection\\:bg-primary ::selection{background-color:var(--primary)}.ppm\\:selection\\:bg-primary::selection{background-color:var(--primary)}.ppm\\:selection\\:text-primary-foreground ::selection{color:var(--primary-foreground)}.ppm\\:selection\\:text-primary-foreground::selection{color:var(--primary-foreground)}.ppm\\:file\\:inline-flex::file-selector-button{display:inline-flex}.ppm\\:file\\:h-7::file-selector-button{height:calc(var(--ppm-spacing)*7)}.ppm\\:file\\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.ppm\\:file\\:bg-transparent::file-selector-button{background-color:#0000}.ppm\\:file\\:text-sm::file-selector-button{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}.ppm\\:file\\:font-medium::file-selector-button{--tw-font-weight:var(--ppm-font-weight-medium);font-weight:var(--ppm-font-weight-medium)}.ppm\\:file\\:text-foreground::file-selector-button{color:var(--foreground)}.ppm\\:placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground)}@media (hover:hover){.ppm\\:hover\\:bg-accent:hover{background-color:var(--accent)}.ppm\\:hover\\:bg-blue-100:hover{background-color:var(--ppm-color-blue-100)}.ppm\\:hover\\:bg-blue-700:hover{background-color:var(--ppm-color-blue-700)}.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.ppm\\:hover\\:bg-gray-50:hover{background-color:var(--ppm-color-gray-50)}.ppm\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.ppm\\:hover\\:bg-red-100:hover{background-color:var(--ppm-color-red-100)}.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){.ppm\\:hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.ppm\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}.ppm\\:hover\\:text-blue-700:hover{color:var(--ppm-color-blue-700)}.ppm\\:hover\\:underline:hover{text-decoration-line:underline}.ppm\\:hover\\:opacity-80:hover{opacity:.8}}.ppm\\:focus-visible\\:border-ring:focus-visible{border-color:var(--ring)}.ppm\\:focus-visible\\:ring-\\[3px\\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.ppm\\:focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.ppm\\:focus-visible\\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.ppm\\:focus-visible\\:outline-ring:focus-visible{outline-color:var(--ring)}.ppm\\:disabled\\:pointer-events-none:disabled{pointer-events:none}.ppm\\:disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.ppm\\:disabled\\:opacity-50:disabled{opacity:.5}.ppm\\:has-data-\\[slot\\=card-action\\]\\:grid-cols-\\[1fr_auto\\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.ppm\\:has-\\[\\>svg\\]\\:px-2\\.5:has(>svg){padding-inline:calc(var(--ppm-spacing)*2.5)}.ppm\\:has-\\[\\>svg\\]\\:px-3:has(>svg){padding-inline:calc(var(--ppm-spacing)*3)}.ppm\\:has-\\[\\>svg\\]\\:px-4:has(>svg){padding-inline:calc(var(--ppm-spacing)*4)}.ppm\\:aria-invalid\\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.ppm\\:data-\\[orientation\\=horizontal\\]\\:h-px[data-orientation=horizontal]{height:1px}.ppm\\:data-\\[orientation\\=horizontal\\]\\:w-full[data-orientation=horizontal]{width:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:h-full[data-orientation=vertical]{height:100%}.ppm\\:data-\\[orientation\\=vertical\\]\\:w-px[data-orientation=vertical]{width:1px}.ppm\\:data-\\[state\\=active\\]\\:border-b-2[data-state=active]{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.ppm\\:data-\\[state\\=active\\]\\:border-blue-500[data-state=active]{border-color:var(--ppm-color-blue-500)}.ppm\\:data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:var(--background)}.ppm\\:data-\\[state\\=active\\]\\:text-blue-600[data-state=active]{color:var(--ppm-color-blue-600)}.ppm\\:data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (min-width:48rem){.ppm\\:md\\:text-sm{font-size:var(--ppm-text-sm);line-height:var(--tw-leading,var(--ppm-text-sm--line-height))}}.ppm\\:dark\\:border-input:is(.dark *){border-color:var(--input)}.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-destructive\\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:bg-input\\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:text-muted-foreground:is(.dark *){color:var(--muted-foreground)}@media (hover:hover){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-accent\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:hover\\:bg-input\\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:focus-visible\\:ring-destructive\\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:border-input:is(.dark *)[data-state=active]{border-color:var(--input)}.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.ppm\\:dark\\:data-\\[state\\=active\\]\\:bg-input\\/30:is(.dark *)[data-state=active]{background-color:color-mix(in oklab,var(--input)30%,transparent)}}.ppm\\:dark\\:data-\\[state\\=active\\]\\:text-foreground:is(.dark *)[data-state=active]{color:var(--foreground)}.ppm\\:\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.ppm\\:\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.ppm\\:\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--ppm-spacing)*4);height:calc(var(--ppm-spacing)*4)}.ppm\\:\\[\\.border-b\\]\\:pb-6.border-b{padding-bottom:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\.border-t\\]\\:pt-6.border-t{padding-top:calc(var(--ppm-spacing)*6)}.ppm\\:\\[\\&\\>svg\\]\\:pointer-events-none>svg{pointer-events:none}.ppm\\:\\[\\&\\>svg\\]\\:size-3>svg{width:calc(var(--ppm-spacing)*3);height:calc(var(--ppm-spacing)*3)}@media (hover:hover){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-accent:hover{background-color:var(--accent)}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){a.ppm\\:\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:color-mix(in oklab,var(--secondary)90%,transparent)}}a.ppm\\:\\[a\\&\\]\\:hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}}}@property --tw-animation-delay{syntax:"*";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:"*";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:"*";inherits:false}@property --tw-animation-fill-mode{syntax:"*";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:"*";inherits:false;initial-value:0}:root{--background:oklch(100% 0 0);--foreground:oklch(14.5% 0 0);--card:oklch(100% 0 0);--card-foreground:oklch(14.5% 0 0);--popover:oklch(100% 0 0);--popover-foreground:oklch(14.5% 0 0);--primary:oklch(20.5% 0 0);--primary-foreground:oklch(98.5% 0 0);--secondary:oklch(97% 0 0);--secondary-foreground:oklch(20.5% 0 0);--muted:oklch(97% 0 0);--muted-foreground:oklch(55.6% 0 0);--accent:oklch(97% 0 0);--accent-foreground:oklch(20.5% 0 0);--destructive:oklch(57.7% .245 27.325);--destructive-foreground:oklch(57.7% .245 27.325);--border:oklch(92.2% 0 0);--input:oklch(92.2% 0 0);--ring:oklch(70.8% 0 0);--chart-1:oklch(64.6% .222 41.116);--chart-2:oklch(60% .118 184.704);--chart-3:oklch(39.8% .07 227.392);--chart-4:oklch(82.8% .189 84.429);--chart-5:oklch(76.9% .188 70.08);--radius:.625rem;--sidebar:oklch(98.5% 0 0);--sidebar-foreground:oklch(14.5% 0 0);--sidebar-primary:oklch(20.5% 0 0);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(97% 0 0);--sidebar-accent-foreground:oklch(20.5% 0 0);--sidebar-border:oklch(92.2% 0 0);--sidebar-ring:oklch(70.8% 0 0)}.dark{--background:oklch(14.5% 0 0);--foreground:oklch(98.5% 0 0);--card:oklch(14.5% 0 0);--card-foreground:oklch(98.5% 0 0);--popover:oklch(14.5% 0 0);--popover-foreground:oklch(98.5% 0 0);--primary:oklch(98.5% 0 0);--primary-foreground:oklch(20.5% 0 0);--secondary:oklch(26.9% 0 0);--secondary-foreground:oklch(98.5% 0 0);--muted:oklch(26.9% 0 0);--muted-foreground:oklch(70.8% 0 0);--accent:oklch(26.9% 0 0);--accent-foreground:oklch(98.5% 0 0);--destructive:oklch(39.6% .141 25.723);--destructive-foreground:oklch(63.7% .237 25.331);--border:oklch(26.9% 0 0);--input:oklch(26.9% 0 0);--ring:oklch(43.9% 0 0);--chart-1:oklch(48.8% .243 264.376);--chart-2:oklch(69.6% .17 162.48);--chart-3:oklch(76.9% .188 70.08);--chart-4:oklch(62.7% .265 303.9);--chart-5:oklch(64.5% .246 16.439);--sidebar:oklch(20.5% 0 0);--sidebar-foreground:oklch(98.5% 0 0);--sidebar-primary:oklch(48.8% .243 264.376);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(26.9% 0 0);--sidebar-accent-foreground:oklch(98.5% 0 0);--sidebar-border:oklch(26.9% 0 0);--sidebar-ring:oklch(43.9% 0 0)}.cellphone::-webkit-scrollbar{width:3px}.cellphone::-webkit-scrollbar-track{background:#fff0;border-radius:100vh}.cellphone::-webkit-scrollbar-thumb{background:#bebebe;border-radius:100vh}.cellphone::-webkit-scrollbar-thumb:hover{background:#b8b7b8}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}';function yb(){const[t,e]=E.useState("9:41");return E.useEffect(()=>{const n=s=>{const o=s.match(/(\d{1,2}:\d{2})/);return o?o[1]:"9:41"},r=()=>{const s=document.getElementById("character-tools-location");if(s&&s.textContent){const o=n(s.textContent);e(o)}};r();const i=document.getElementById("character-tools-location");if(i){const s=new MutationObserver(o=>{o.forEach(l=>{(l.type==="childList"||l.type==="characterData")&&r()})});return s.observe(i,{childList:!0,subtree:!0,characterData:!0}),()=>{s.disconnect()}}},[]),d.jsxs("div",{className:"ppm:h-12  ppm:bg-white ppm:flex ppm:items-center ppm:justify-between ppm:px-6 ppm:pt-6",children:[d.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:t}),d.jsx("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:d.jsx("div",{className:"ppm:w-4 ppm:h-2 ppm:bg-green-500 ppm:rounded-sm"})})]})}function Y0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function X0(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Y0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Y0(t[i],null)}}}}function Uc(...t){return E.useCallback(X0(...t),t)}function zc(t){const e=vb(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,l=E.Children.toArray(s),c=l.find(_b);if(c){const u=c.props.children,h=l.map(m=>m===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:m);return d.jsx(e,{...o,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var J0=zc("Slot");function vb(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=xb(i),l=Eb(s,i.props);return i.type!==E.Fragment&&(l.ref=r?X0(r,o):o),E.cloneElement(i,l)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wb=Symbol("radix.slottable");function _b(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wb}function Eb(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function xb(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Z0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Z0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ew(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Z0(t))&&(r&&(r+=" "),r+=e);return r}const tw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nw=ew,rw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],m=s==null?void 0:s[u];if(h===null)return null;const f=tw(h)||tw(m);return i[u][f]}),l=n&&Object.entries(n).reduce((u,h)=>{let[m,f]=h;return f===void 0||(u[m]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:m,className:f,...w}=h;return Object.entries(w).every(T=>{let[I,N]=T;return Array.isArray(N)?N.includes({...s,...l}[I]):{...s,...l}[I]===N})?[...u,m,f]:u},[]);return nw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Gh="-",kb=t=>{const e=Ib(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Gh);return l[0]===""&&l.length!==1&&l.shift(),iw(l,e)||Tb(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},iw=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iw(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Gh);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},sw=/^\[(.+)\]$/,Tb=t=>{if(sw.test(t)){const e=sw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Ib=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Kh(n[i],r,i,e);return r},Kh=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ow(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(bb(i)){Kh(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Kh(o,ow(e,s),n,r)})})},ow=(t,e)=>{let n=t;return e.split(Gh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bb=t=>t.isThemeGetter,Sb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Qh="!",Yh=":",Cb=Yh.length,Ab=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,u;for(let T=0;T<i.length;T++){let I=i[T];if(o===0&&l===0){if(I===Yh){s.push(i.slice(c,T)),c=T+Cb;continue}if(I==="/"){u=T;continue}}I==="["?o++:I==="]"?o--:I==="("?l++:I===")"&&l--}const h=s.length===0?i:i.substring(c),m=Nb(h),f=m!==h,w=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const i=e+Yh,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Nb=t=>t.endsWith(Qh)?t.substring(0,t.length-1):t.startsWith(Qh)?t.substring(1):t,Rb=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Pb=t=>({cache:Sb(t.cacheSize),parseClassName:Ab(t),sortModifiers:Rb(t),...kb(t)}),Lb=/\s+/,Db=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Lb);let c="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{isExternal:m,modifiers:f,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:I}=n(h);if(m){c=h+(c.length>0?" "+c:c);continue}let N=!!I,v=r(N?T.substring(0,I):T);if(!v){if(!N){c=h+(c.length>0?" "+c:c);continue}if(v=r(T),!v){c=h+(c.length>0?" "+c:c);continue}N=!1}const _=s(f).join(":"),x=w?_+Qh:_,L=x+v;if(o.includes(L))continue;o.push(L);const M=i(v,N);for(let F=0;F<M.length;++F){const S=M[F];o.push(x+S)}c=h+(c.length>0?" "+c:c)}return c};function Vb(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aw(e))&&(r&&(r+=" "),r+=n);return r}const aw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aw(t[r]))&&(n&&(n+=" "),n+=e);return n};function Mb(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((h,m)=>m(h),t());return n=Pb(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=Db(c,n);return i(c,h),h}return function(){return s(Vb.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jb=/^\d+\/\d+$/,Ob=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ub=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zs=t=>jb.test(t),se=t=>!!t&&!Number.isNaN(Number(t)),Ur=t=>!!t&&Number.isInteger(Number(t)),Xh=t=>t.endsWith("%")&&se(t.slice(0,-1)),Zn=t=>Ob.test(t),$b=()=>!0,Wb=t=>Fb.test(t)&&!Ub.test(t),uw=()=>!1,qb=t=>zb.test(t),Hb=t=>Bb.test(t),Gb=t=>!Q(t)&&!Y(t),Kb=t=>Bs(t,fw,uw),Q=t=>lw.test(t),Pi=t=>Bs(t,gw,Wb),Jh=t=>Bs(t,Zb,se),pw=t=>Bs(t,hw,uw),Qb=t=>Bs(t,mw,Hb),Bc=t=>Bs(t,yw,qb),Y=t=>cw.test(t),_a=t=>$s(t,gw),Yb=t=>$s(t,eS),dw=t=>$s(t,hw),Xb=t=>$s(t,fw),Jb=t=>$s(t,mw),$c=t=>$s(t,yw,!0),Bs=(t,e,n)=>{const r=lw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},$s=(t,e,n=!1)=>{const r=cw.exec(t);return r?r[1]?e(r[1]):n:!1},hw=t=>t==="position"||t==="percentage",mw=t=>t==="image"||t==="url",fw=t=>t==="length"||t==="size"||t==="bg-size",gw=t=>t==="length",Zb=t=>t==="number",eS=t=>t==="family-name",yw=t=>t==="shadow",tS=Mb(()=>{const t=Je("color"),e=Je("font"),n=Je("text"),r=Je("font-weight"),i=Je("tracking"),s=Je("leading"),o=Je("breakpoint"),l=Je("container"),c=Je("spacing"),u=Je("radius"),h=Je("shadow"),m=Je("inset-shadow"),f=Je("text-shadow"),w=Je("drop-shadow"),T=Je("blur"),I=Je("perspective"),N=Je("aspect"),v=Je("ease"),_=Je("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...L(),Y,Q],F=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],y=()=>[Y,Q,c],b=()=>[zs,"full","auto",...y()],C=()=>[Ur,"none","subgrid",Y,Q],A=()=>["auto",{span:["full",Ur,Y,Q]},Ur,Y,Q],D=()=>[Ur,"auto",Y,Q],P=()=>["auto","min","max","fr",Y,Q],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...y()],$e=()=>[zs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],U=()=>[t,Y,Q],ne=()=>[...L(),dw,pw,{position:[Y,Q]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",Xb,Kb,{size:[Y,Q]}],fe=()=>[Xh,_a,Pi],ae=()=>["","none","full",u,Y,Q],Oe=()=>["",se,_a,Pi],zt=()=>["solid","dashed","dotted","double"],un=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[se,Xh,dw,pw],vp=()=>["","none",T,Y,Q],bo=()=>["none",se,Y,Q],gr=()=>["none",se,Y,Q],di=()=>[se,Y,Q],hi=()=>[zs,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zn],breakpoint:[Zn],color:[$b],container:[Zn],"drop-shadow":[Zn],ease:["in","out","in-out"],font:[Gb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zn],shadow:[Zn],spacing:["px",se],text:[Zn],"text-shadow":[Zn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zs,Q,Y,N]}],container:["container"],columns:[{columns:[se,Q,Y,l]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[Ur,"auto",Y,Q]}],basis:[{basis:[zs,"full","auto",l,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,zs,"auto","initial","none",Q]}],grow:[{grow:["",se,Y,Q]}],shrink:[{shrink:["",se,Y,Q]}],order:[{order:[Ur,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:$e()}],w:[{w:[l,"screen",...$e()]}],"min-w":[{"min-w":[l,"screen","none",...$e()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...$e()]}],h:[{h:["screen","lh",...$e()]}],"min-h":[{"min-h":["screen","lh","none",...$e()]}],"max-h":[{"max-h":["screen","lh",...$e()]}],"font-size":[{text:["base",n,_a,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,Jh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xh,Q]}],"font-family":[{font:[Yb,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Y,Q]}],"line-clamp":[{"line-clamp":[se,"none",Y,Jh]}],leading:[{leading:[s,...y()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...zt(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",Y,Pi]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[se,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ur,Y,Q],radial:["",Y,Q],conic:[Ur,Y,Q]},Jb,Qb]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:Oe()}],"border-w-x":[{"border-x":Oe()}],"border-w-y":[{"border-y":Oe()}],"border-w-s":[{"border-s":Oe()}],"border-w-e":[{"border-e":Oe()}],"border-w-t":[{"border-t":Oe()}],"border-w-r":[{"border-r":Oe()}],"border-w-b":[{"border-b":Oe()}],"border-w-l":[{"border-l":Oe()}],"divide-x":[{"divide-x":Oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...zt(),"hidden","none"]}],"divide-style":[{divide:[...zt(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...zt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,Y,Q]}],"outline-w":[{outline:["",se,_a,Pi]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",h,$c,Bc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,$c,Bc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[se,Pi]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Oe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",f,$c,Bc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[se,Y,Q]}],"mix-blend":[{"mix-blend":[...un(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":un()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[se]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[se]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:vp()}],brightness:[{brightness:[se,Y,Q]}],contrast:[{contrast:[se,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",w,$c,Bc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",se,Y,Q]}],"hue-rotate":[{"hue-rotate":[se,Y,Q]}],invert:[{invert:["",se,Y,Q]}],saturate:[{saturate:[se,Y,Q]}],sepia:[{sepia:["",se,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":vp()}],"backdrop-brightness":[{"backdrop-brightness":[se,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[se,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",se,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[se,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[se,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",se,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",Y,Q]}],ease:[{ease:["linear","initial",v,Y,Q]}],delay:[{delay:[se,Y,Q]}],animate:[{animate:["none",_,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Y,Q]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:bo()}],"rotate-x":[{"rotate-x":bo()}],"rotate-y":[{"rotate-y":bo()}],"rotate-z":[{"rotate-z":bo()}],scale:[{scale:gr()}],"scale-x":[{"scale-x":gr()}],"scale-y":[{"scale-y":gr()}],"scale-z":[{"scale-z":gr()}],"scale-3d":["scale-3d"],skew:[{skew:di()}],"skew-x":[{"skew-x":di()}],"skew-y":[{"skew-y":di()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:hi()}],"translate-x":[{"translate-x":hi()}],"translate-y":[{"translate-y":hi()}],"translate-z":[{"translate-z":hi()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[se,_a,Pi,Jh]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function lt(...t){return tS(ew(t))}function nS(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Li(t){return nS(t.toLowerCase().trim())}function Wc(t,e){const n=[],r=Li(t);for(let i=0;i<=r.length-e;i++)n.push(r.substring(i,i+e));return n}function Zh(t,e){const n=Li(t),r=e?Li(e):"",i=r?`${n} ${r}`:n,s=Wc(i,2),o=Wc(i,3);return{searchText:i,searchGrams2:s,searchGrams3:o}}function rS(t,e,n){const r=Li(e),i=Li(t.username),s=t.displayName?Li(t.displayName):"";let o=0;return i.startsWith(r)&&(o+=100),s.startsWith(r)&&(o+=80),i.includes(r)&&(o+=50),s.includes(r)&&(o+=40),o+=(t.followersCount||0)*.01,o}const iS=rw("ppm:inline-flex ppm:items-center ppm:justify-center ppm:gap-2 ppm:whitespace-nowrap ppm:rounded-md ppm:text-sm ppm:font-medium ppm:transition-all ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:[&_svg]:pointer-events-none ppm:[&_svg:not([class*=size-])]:size-4 ppm:shrink-0 ppm:[&_svg]:shrink-0 ppm:outline-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",{variants:{variant:{default:"ppm:bg-primary ppm:text-primary-foreground ppm:shadow-xs ppm:hover:bg-primary/90",destructive:"ppm:bg-destructive ppm:text-white ppm:shadow-xs ppm:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:border ppm:bg-background ppm:shadow-xs ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:bg-input/30 ppm:dark:border-input ppm:dark:hover:bg-input/50",secondary:"ppm:bg-secondary ppm:text-secondary-foreground ppm:shadow-xs ppm:hover:bg-secondary/80",ghost:"ppm:hover:bg-accent ppm:hover:text-accent-foreground ppm:dark:hover:bg-accent/50",link:"ppm:text-primary ppm:underline-offset-4 ppm:hover:underline"},size:{default:"ppm:h-9 ppm:px-4 ppm:py-2 ppm:has-[>svg]:px-3",sm:"ppm:h-8 ppm:rounded-md ppm:gap-1.5 ppm:px-3 ppm:has-[>svg]:px-2.5",lg:"ppm:h-10 ppm:rounded-md ppm:px-6 ppm:has-[>svg]:px-4",icon:"ppm:size-9"}},defaultVariants:{variant:"default",size:"default"}});function De({className:t,variant:e,size:n,asChild:r=!1,...i}){const s=r?J0:"button";return d.jsx(s,{"data-slot":"button",type:"button",className:lt(iS({variant:e,size:n,className:t})),...i})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vw=t=>{const e=oS(t);return e.charAt(0).toUpperCase()+e.slice(1)},ww=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),aS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...lS,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ww("lucide",i),...!s&&!aS(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>E.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(cS,{ref:s,iconNode:e,className:ww(`lucide-${sS(vw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=vw(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=vt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=vt("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=vt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=vt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=vt("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=vt("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=vt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=vt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=vt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=vt("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=vt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=vt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=vt("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=vt("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=vt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=vt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wS({onClose:t}){return d.jsx(De,{onClick:t,variant:"ghost",size:"sm",className:"ppm:absolute ppm:-top-2 ppm:-right-2 ppm:bg-white ppm:rounded-full ppm:w-8 ppm:h-8 ppm:p-0 ppm:z-10",children:d.jsx(Tw,{className:"ppm:w-4 ppm:h-4"})})}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _S(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((w,T)=>h(w,typeof w=="string"?null:w.state,T===0?"default":void 0));let s=c(n??i.length-1),o="POP",l=null;function c(w){return Math.min(Math.max(w,0),i.length-1)}function u(){return i[s]}function h(w,T=null,I){let N=xS(i?u().pathname:"/",w,T,I);return on(N.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(w)}`),N}function m(w){return typeof w=="string"?w:Gc(w)}return{get index(){return s},get action(){return o},get location(){return u()},createHref:m,createURL(w){return new URL(m(w),"http://localhost")},encodeLocation(w){let T=typeof w=="string"?Di(w):w;return{pathname:T.pathname||"",search:T.search||"",hash:T.hash||""}},push(w,T){o="PUSH";let I=h(w,T);s+=1,i.splice(s,i.length,I),r&&l&&l({action:o,location:I,delta:1})},replace(w,T){o="REPLACE";let I=h(w,T);i[s]=I,r&&l&&l({action:o,location:I,delta:0})},go(w){o="POP";let T=c(s+w),I=i[T];s=T,l&&l({action:o,location:I,delta:w})},listen(w){return l=w,()=>{l=null}}}}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function on(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substring(2,10)}function xS(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Di(e):e,state:n,key:e&&e.key||r||ES()}}function Gc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Iw(t,e,n="/"){return kS(t,e,n,!1)}function kS(t,e,n,r){let i=typeof e=="string"?Di(e):e,s=er(i.pathname||"/",n);if(s==null)return null;let o=bw(t);TS(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=VS(s);l=LS(o[c],u,r)}return l}function bw(t,e=[],n=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ve(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=tr([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Ve(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),bw(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:RS(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Sw(s.path))i(s,o,c)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Sw(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function TS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var IS=/^:[\w-]+$/,bS=3,SS=2,CS=1,AS=10,NS=-2,Cw=t=>t==="*";function RS(t,e){let n=t.split("/"),r=n.length;return n.some(Cw)&&(r+=NS),e&&(r+=SS),n.filter(i=>!Cw(i)).reduce((i,s)=>i+(IS.test(s)?bS:s===""?CS:AS),r)}function PS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LS(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=Kc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Kc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:tr([s,m.pathname]),pathnameBase:FS(tr([s,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(s=tr([s,m.pathnameBase]))}return o}function Kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:m},f)=>{if(h==="*"){let T=l[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=l[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function DS(t,e=!1,n=!0){on(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function er(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MS(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:jS(n,e):e,search:US(r),hash:zS(i)}}function jS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function em(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tm(t){let e=OS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function nm(t,e,n,r=!1){let i;typeof t=="string"?i=Di(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),em("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),em("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),em("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=MS(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var tr=t=>t.join("/").replace(/\/\/+/g,"/"),FS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),US=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Aw=["POST","PUT","PATCH","DELETE"];new Set(Aw);var $S=["GET",...Aw];new Set($S);var Ws=E.createContext(null);Ws.displayName="DataRouter";var Qc=E.createContext(null);Qc.displayName="DataRouterState",E.createContext(!1);var Nw=E.createContext({isTransitioning:!1});Nw.displayName="ViewTransition";var WS=E.createContext(new Map);WS.displayName="Fetchers";var qS=E.createContext(null);qS.displayName="Await";var vn=E.createContext(null);vn.displayName="Navigation";var Ea=E.createContext(null);Ea.displayName="Location";var an=E.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var rm=E.createContext(null);rm.displayName="RouteError";function HS(t,{relative:e}={}){Ve(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(vn),{hash:i,pathname:s,search:o}=xa(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:tr([n,s])),r.createHref({pathname:l,search:o,hash:i})}function qs(){return E.useContext(Ea)!=null}function zr(){return Ve(qs(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ea).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pw(t){E.useContext(vn).static||E.useLayoutEffect(t)}function Nt(){let{isDataRoute:t}=E.useContext(an);return t?aC():GS()}function GS(){Ve(qs(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ws),{basename:e,navigator:n}=E.useContext(vn),{matches:r}=E.useContext(an),{pathname:i}=zr(),s=JSON.stringify(tm(r)),o=E.useRef(!1);return Pw(()=>{o.current=!0}),E.useCallback((c,u={})=>{if(on(o.current,Rw),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=nm(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:tr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}var KS=E.createContext(null);function QS(t){let e=E.useContext(an).outlet;return e&&E.createElement(KS.Provider,{value:t},e)}function Yc(){let{matches:t}=E.useContext(an),e=t[t.length-1];return e?e.params:{}}function xa(t,{relative:e}={}){let{matches:n}=E.useContext(an),{pathname:r}=zr(),i=JSON.stringify(tm(n));return E.useMemo(()=>nm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function YS(t,e){return Lw(t,e)}function Lw(t,e,n,r){var v;Ve(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(vn),{matches:s}=E.useContext(an),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";Vw(c,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=zr(),f;if(e){let _=typeof e=="string"?Di(e):e;Ve(u==="/"||((v=_.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),f=_}else f=m;let w=f.pathname||"/",T=w;if(u!=="/"){let _=u.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let I=Iw(t,{pathname:T});on(h||I!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),on(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=tC(I&&I.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:tr([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:tr([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&N?E.createElement(Ea.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},N):N}function XS(){let t=oC(),e=BS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,o)}var JS=E.createElement(XS,null),ZS=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(an.Provider,{value:this.props.routeContext},E.createElement(rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:t,match:e,children:n}){let r=E.useContext(Ws);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(an.Provider,{value:t},n)}function tC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ve(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:m}=n,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||f){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,h)=>{let m,f=!1,w=null,T=null;n&&(m=s&&u.route.id?s[u.route.id]:void 0,w=u.route.errorElement||JS,o&&(l<0&&h===0?(Vw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,T=null):l===h&&(f=!0,T=u.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,h+1)),N=()=>{let v;return m?v=w:f?v=T:u.route.Component?v=E.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,E.createElement(eC,{match:u,routeContext:{outlet:c,matches:I,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?E.createElement(ZS,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}function im(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nC(t){let e=E.useContext(Ws);return Ve(e,im(t)),e}function rC(t){let e=E.useContext(Qc);return Ve(e,im(t)),e}function iC(t){let e=E.useContext(an);return Ve(e,im(t)),e}function sm(t){let e=iC(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function sC(){return sm("useRouteId")}function oC(){var r;let t=E.useContext(rm),e=rC("useRouteError"),n=sm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function aC(){let{router:t}=nC("useNavigate"),e=sm("useNavigate"),n=E.useRef(!1);return Pw(()=>{n.current=!0}),E.useCallback(async(i,s={})=>{on(n.current,Rw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Dw={};function Vw(t,e,n){!e&&!Dw[t]&&(Dw[t]=!0,on(!1,n))}E.memo(lC);function lC({routes:t,future:e,state:n}){return Lw(t,void 0,n,e)}function cC({basename:t,children:e,initialEntries:n,initialIndex:r}){let i=E.useRef();i.current==null&&(i.current=_S({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=i.current,[o,l]=E.useState({action:s.action,location:s.location}),c=E.useCallback(u=>{E.startTransition(()=>l(u))},[l]);return E.useLayoutEffect(()=>s.listen(c),[s,c]),E.createElement(uC,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}function Xc({to:t,replace:e,state:n,relative:r}){Ve(qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(vn);on(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(an),{pathname:o}=zr(),l=Nt(),c=nm(t,tm(s),o,r==="path"),u=JSON.stringify(c);return E.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function Mw(t){return QS(t.context)}function qe(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ve(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Di(n));let{pathname:c="/",search:u="",hash:h="",state:m=null,key:f="default"}=n,w=E.useMemo(()=>{let T=er(c,o);return T==null?null:{location:{pathname:T,search:u,hash:h,state:m,key:f},navigationType:r}},[o,c,u,h,m,f,r]);return on(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(vn.Provider,{value:l},E.createElement(Ea.Provider,{children:e,value:w}))}function pC({children:t,location:e}){return YS(om(t),e)}function om(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,om(r.props.children,s));return}Ve(r.type===qe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=om(r.props.children,s)),n.push(o)}),n}var Jc="get",Zc="application/x-www-form-urlencoded";function eu(t){return t!=null&&typeof t.tagName=="string"}function dC(t){return eu(t)&&t.tagName.toLowerCase()==="button"}function hC(t){return eu(t)&&t.tagName.toLowerCase()==="form"}function mC(t){return eu(t)&&t.tagName.toLowerCase()==="input"}function fC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gC(t,e){return t.button===0&&(!e||e==="_self")&&!fC(t)}var tu=null;function yC(){if(tu===null)try{new FormData(document.createElement("form"),0),tu=!1}catch{tu=!0}return tu}var vC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(t){return t!=null&&!vC.has(t)?(on(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):t}function wC(t,e){let n,r,i,s,o;if(hC(t)){let l=t.getAttribute("action");r=l?er(l,e):null,n=t.getAttribute("method")||Jc,i=am(t.getAttribute("enctype"))||Zc,s=new FormData(t)}else if(dC(t)||mC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?er(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Jc,i=am(t.getAttribute("formenctype"))||am(l.getAttribute("enctype"))||Zc,s=new FormData(l,t),!yC()){let{name:u,type:h,value:m}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,m)}}else{if(eu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,r=null,i=Zc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _C(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&er(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function EC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kC(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await EC(s,n);return o.links?o.links():[]}return[]}));return SC(r.flat(1).filter(xC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jw(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function TC(t,e,{includeHydrateFallback:n}={}){return IC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function IC(t){return[...new Set(t)]}function bC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(bC(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Ow(){let t=E.useContext(Ws);return lm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CC(){let t=E.useContext(Qc);return lm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cm=E.createContext(void 0);cm.displayName="FrameworkContext";function Fw(){let t=E.useContext(cm);return lm(t,"You must render this element inside a <HydratedRouter> element"),t}function AC(t,e){let n=E.useContext(cm),[r,i]=E.useState(!1),[s,o]=E.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=e,f=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=v=>{v.forEach(_=>{o(_.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return f.current&&N.observe(f.current),()=>{N.disconnect()}}},[t]),E.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let w=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:ka(l,w),onBlur:ka(c,T),onMouseEnter:ka(u,w),onMouseLeave:ka(h,T),onTouchStart:ka(m,w)}]:[!1,f,{}]}function ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NC({page:t,...e}){let{router:n}=Ow(),r=E.useMemo(()=>Iw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(PC,{page:t,matches:r,...e}):null}function RC(t){let{manifest:e,routeModules:n}=Fw(),[r,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return kC(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function PC({page:t,matches:e,...n}){let r=zr(),{manifest:i,routeModules:s}=Fw(),{basename:o}=Ow(),{loaderData:l,matches:c}=CC(),u=E.useMemo(()=>jw(t,e,c,i,r,"data"),[t,e,c,i,r]),h=E.useMemo(()=>jw(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(v=>{var x;let _=i.routes[v.route.id];!_||!_.hasLoader||(!u.some(L=>L.route.id===v.route.id)&&v.route.id in l&&((x=s[v.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?I=!0:T.add(v.route.id))}),T.size===0)return[];let N=_C(t,o,"data");return I&&T.size>0&&N.searchParams.set("_routes",e.filter(v=>T.has(v.route.id)).map(v=>v.route.id).join(",")),[N.pathname+N.search]},[o,l,r,i,u,e,t,s]),f=E.useMemo(()=>TC(h,i),[h,i]),w=RC(h);return E.createElement(E.Fragment,null,m.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),f.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:I})=>E.createElement("link",{key:T,...I})))}function LC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.7.1")}catch{}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bw=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:m,...f},w){let{basename:T}=E.useContext(vn),I=typeof u=="string"&&zw.test(u),N,v=!1;if(typeof u=="string"&&I&&(N=u,Uw))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),A=er(C.pathname,T);C.origin===b.origin&&A!=null?u=A+C.search+C.hash:v=!0}catch{on(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=HS(u,{relative:i}),[x,L,M]=AC(r,f),F=MC(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function S(b){e&&e(b),b.defaultPrevented||F(b)}let y=E.createElement("a",{...f,...M,href:N||_,onClick:v||s?e:S,ref:LC(w,L),target:c,"data-discover":!I&&n==="render"?"true":void 0});return x&&!I?E.createElement(E.Fragment,null,y,E.createElement(NC,{page:_})):y});Bw.displayName="Link";var Hs=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...u},h){let m=xa(o,{relative:u.relative}),f=zr(),w=E.useContext(Qc),{navigator:T,basename:I}=E.useContext(vn),N=w!=null&&zC(m)&&l===!0,v=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,_=f.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&I&&(x=er(x,I)||x);const L=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=_===v||!i&&_.startsWith(v)&&_.charAt(L)==="/",F=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),S={isActive:M,isPending:F,isTransitioning:N},y=M?e:void 0,b;typeof r=="function"?b=r(S):b=[r,M?"active":null,F?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(S):s;return E.createElement(Bw,{...u,"aria-current":y,className:b,ref:h,style:C,to:o,viewTransition:l},typeof c=="function"?c(S):c)});Hs.displayName="NavLink";var DC=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Jc,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:m,...f},w)=>{let T=FC(),I=UC(l,{relative:u}),N=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&zw.test(l),_=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let L=x.nativeEvent.submitter,M=(L==null?void 0:L.getAttribute("formmethod"))||o;T(L||x.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:m})};return E.createElement("form",{ref:w,method:N,action:I,onSubmit:r?c:_,...f,"data-discover":!v&&t==="render"?"true":void 0})});DC.displayName="Form";function VC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(t){let e=E.useContext(Ws);return Ve(e,VC(t)),e}function MC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Nt(),c=zr(),u=xa(t,{relative:s});return E.useCallback(h=>{if(gC(h,e)){h.preventDefault();let m=n!==void 0?n:Gc(c)===Gc(u);l(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,r,e,t,i,s,o])}var jC=0,OC=()=>`__${String(++jC)}__`;function FC(){let{router:t}=$w("useSubmit"),{basename:e}=E.useContext(vn),n=sC();return E.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=wC(r,e);if(i.navigate===!1){let h=i.fetcherKey||OC();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function UC(t,{relative:e}={}){let{basename:n}=E.useContext(vn),r=E.useContext(an);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...xa(t||".",{relative:e})},o=zr();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:tr([n,s.pathname])),Gc(s)}function zC(t,{relative:e}={}){let n=E.useContext(Nw);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$w("useViewTransitionState"),i=xa(t,{relative:e});if(!n.isTransitioning)return!1;let s=er(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=er(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kc(i.pathname,o)!=null||Kc(i.pathname,s)!=null}function Gs({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:lt("ppm:bg-card ppm:text-card-foreground ppm:flex ppm:flex-col ppm:gap-6 ppm:rounded-xl ppm:border ppm:py-6 ppm:shadow-sm",t),...e})}function um({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:lt("ppm:@container/card-header ppm:grid ppm:auto-rows-min ppm:grid-rows-[auto_auto] ppm:items-start ppm:gap-1.5 ppm:px-6 ppm:has-data-[slot=card-action]:grid-cols-[1fr_auto] ppm:[.border-b]:pb-6",t),...e})}function Ww({className:t,...e}){return d.jsx("div",{"data-slot":"card-title",className:lt("ppm:leading-none ppm:font-semibold",t),...e})}function nr({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:lt("ppm:px-6",t),...e})}function nt({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:lt("ppm:file:text-foreground ppm:placeholder:text-muted-foreground ppm:selection:bg-primary ppm:selection:text-primary-foreground ppm:dark:bg-input/30 ppm:border-input ppm:flex ppm:h-9 ppm:w-full ppm:min-w-0 ppm:rounded-md ppm:border ppm:bg-transparent ppm:px-3 ppm:py-1 ppm:text-base ppm:shadow-xs ppm:transition-[color,box-shadow] ppm:outline-none ppm:file:inline-flex ppm:file:h-7 ppm:file:border-0 ppm:file:bg-transparent ppm:file:text-sm ppm:file:font-medium ppm:disabled:pointer-events-none ppm:disabled:cursor-not-allowed ppm:disabled:opacity-50 ppm:md:text-sm","ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px]","ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive",t),...n})}var BC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=BC.reduce((t,e)=>{const n=zc(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),$C="Label",qw=E.forwardRef((t,e)=>d.jsx(wn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qw.displayName=$C;var WC=qw;function ct({className:t,...e}){return d.jsx(WC,{"data-slot":"label",className:lt("ppm:flex ppm:items-center ppm:gap-2 ppm:text-sm ppm:leading-none ppm:font-medium ppm:select-none ppm:group-data-[disabled=true]:pointer-events-none ppm:group-data-[disabled=true]:opacity-50 ppm:peer-disabled:cursor-not-allowed ppm:peer-disabled:opacity-50",t),...e})}const qC=()=>{};var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,m=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,w=u&63;c||(w=64,o||(f=64)),r.push(n[h],n[m],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw new GC;const f=s<<2|l>>4;if(r.push(f),u!==64){const w=l<<4&240|u>>2;if(r.push(w),m!==64){const T=u<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KC=function(t){const e=Gw(t);return Kw.encodeByteArray(e,!0)},nu=function(t){return KC(t).replace(/\./g,"")},Qw=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=()=>QC().__FIREBASE_DEFAULTS__,XC=()=>{if(typeof process>"u"||typeof Hw>"u")return;const t=Hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qw(t[1]);return e&&JSON.parse(e)},ru=()=>{try{return qC()||YC()||XC()||JC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yw=t=>{var e,n;return(n=(e=ru())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZC=t=>{const e=Yw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xw=()=>{var t;return(t=ru())==null?void 0:t.config},Jw=t=>{var e;return(e=ru())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nu(JSON.stringify(n)),nu(JSON.stringify(o)),""].join(".")}const Ta={};function nA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ta))Ta[e]?t.emulator.push(e):t.prod.push(e);return t}function rA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e_=!1;function t_(t,e){if(typeof window>"u"||typeof document>"u"||!Ks(window.location.host)||Ta[t]===e||Ta[t]||e_)return;Ta[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=nA().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,w){f.setAttribute("width","24"),f.setAttribute("id",w),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{e_=!0,o()},f}function h(f,w){f.setAttribute("id",w),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=rA(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),I=n("learnmore"),N=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;l(x),h(N,I);const L=u();c(_,v),x.append(_,T,N,L),document.body.appendChild(x)}s?(T.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function sA(){var e;const t=(e=ru())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new rr(i,l,r)}}function mA(t,e){return t.replace(fA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fA=/\{\$([^}]+)}/g;function gA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(n_(s)&&n_(o)){if(!Vi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function n_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yA(t,e){const n=new vA(t,e);return n.subscribe.bind(n)}class vA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pm),i.error===void 0&&(i.error=pm),i.complete===void 0&&(i.complete=pm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(t){return t===ji?void 0:t}function xA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _A(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const TA={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},IA=le.INFO,bA={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},SA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=IA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const CA=(t,e)=>e.some(n=>t instanceof n);let r_,i_;function AA(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s_=new WeakMap,hm=new WeakMap,o_=new WeakMap,mm=new WeakMap,fm=new WeakMap;function RA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Br(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&s_.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function PA(t){if(hm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hm.set(t,e)}let gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LA(t){gm=t(gm)}function DA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ym(this),e,...n);return o_.set(r,e.sort?e.sort():[e]),Br(r)}:NA().includes(t)?function(...e){return t.apply(ym(this),e),Br(s_.get(this))}:function(...e){return Br(t.apply(ym(this),e))}}function VA(t){return typeof t=="function"?DA(t):(t instanceof IDBTransaction&&PA(t),CA(t,AA())?new Proxy(t,gm):t)}function Br(t){if(t instanceof IDBRequest)return RA(t);if(mm.has(t))return mm.get(t);const e=VA(t);return e!==t&&(mm.set(t,e),fm.set(e,t)),e}const ym=t=>fm.get(t);function MA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Br(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Br(o.result),c.oldVersion,c.newVersion,Br(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jA=["get","getKey","getAll","getAllKeys","count"],OA=["put","add","delete","clear"],vm=new Map;function a_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jA.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return vm.set(e,s),s}LA(t=>({...t,get:(e,n,r)=>a_(e,n)||t.get(e,n,r),has:(e,n)=>!!a_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",l_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new dm("@firebase/app"),zA="@firebase/app-compat",BA="@firebase/analytics-compat",$A="@firebase/analytics",WA="@firebase/app-check-compat",qA="@firebase/app-check",HA="@firebase/auth",GA="@firebase/auth-compat",KA="@firebase/database",QA="@firebase/data-connect",YA="@firebase/database-compat",XA="@firebase/functions",JA="@firebase/functions-compat",ZA="@firebase/installations",eN="@firebase/installations-compat",tN="@firebase/messaging",nN="@firebase/messaging-compat",rN="@firebase/performance",iN="@firebase/performance-compat",sN="@firebase/remote-config",oN="@firebase/remote-config-compat",aN="@firebase/storage",lN="@firebase/storage-compat",cN="@firebase/firestore",uN="@firebase/ai",pN="@firebase/firestore-compat",dN="firebase",hN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",mN={[wm]:"fire-core",[zA]:"fire-core-compat",[$A]:"fire-analytics",[BA]:"fire-analytics-compat",[qA]:"fire-app-check",[WA]:"fire-app-check-compat",[HA]:"fire-auth",[GA]:"fire-auth-compat",[KA]:"fire-rtdb",[QA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[XA]:"fire-fn",[JA]:"fire-fn-compat",[ZA]:"fire-iid",[eN]:"fire-iid-compat",[tN]:"fire-fcm",[nN]:"fire-fcm-compat",[rN]:"fire-perf",[iN]:"fire-perf-compat",[sN]:"fire-rc",[oN]:"fire-rc-compat",[aN]:"fire-gcs",[lN]:"fire-gcs-compat",[cN]:"fire-fst",[pN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,fN=new Map,Em=new Map;function c_(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Em.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of iu.values())c_(n,t);for(const n of fN.values())c_(n,t);return!0}function xm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Ia("app","Firebase",gN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=hN;function u_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=Xw()),!n)throw $r.create("no-options");const s=iu.get(i);if(s){if(Vi(n,s.options)&&Vi(r,s.config))return s;throw $r.create("duplicate-app",{appName:i})}const o=new kA(i);for(const c of Em.values())o.addComponent(c);const l=new yN(n,r,o);return iu.set(i,l),l}function p_(t=_m){const e=iu.get(t);if(!e&&t===_m&&Xw())return u_();if(!e)throw $r.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=mN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(o.join(" "));return}Qs(new Mi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",wN=1,Aa="firebase-heartbeat-store";let km=null;function d_(){return km||(km=MA(vN,wN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),km}async function _N(t){try{const n=(await d_()).transaction(Aa),r=await n.objectStore(Aa).get(m_(t));return await n.done,r}catch(e){if(e instanceof rr)ir.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function h_(t,e){try{const r=(await d_()).transaction(Aa,"readwrite");await r.objectStore(Aa).put(e,m_(t)),await r.done}catch(n){if(n instanceof rr)ir.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function m_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,xN=30;class kN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xN){const o=bN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:r,unsentEntries:i}=TN(this._heartbeatsCache.heartbeats),s=nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ir.warn(n),""}}}function f_(){return new Date().toISOString().substring(0,10)}function TN(t,e=EN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _N(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g_(t){return nu(JSON.stringify({version:2,heartbeats:t})).length}function bN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){Qs(new Mi("platform-logger",e=>new FA(e),"PRIVATE")),Qs(new Mi("heartbeat",e=>new kN(e),"PRIVATE")),Wr(wm,l_,t),Wr(wm,l_,"esm2020"),Wr("fire-js","")}SN("");function y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CN=y_,v_=new Ia("auth","Firebase",y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new dm("@firebase/auth");function AN(t,...e){su.logLevel<=le.WARN&&su.warn(`Auth (${Ys}): ${t}`,...e)}function ou(t,...e){su.logLevel<=le.ERROR&&su.error(`Auth (${Ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Tm(t,...e)}function Rn(t,...e){return Tm(t,...e)}function w_(t,e,n){const r={...CN(),[e]:n};return new Ia("auth","Firebase",r).create(e,{appName:t.name})}function sr(t){return w_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v_.create(t,...e)}function ee(t,e,...n){if(!t)throw Tm(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function ar(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function NN(){return __()==="http:"||__()==="https:"}function __(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||aA()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=iA()||lA()}get(){return RN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VN=new Na(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hr(t,e,n,r,i={}){return x_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ba({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return oA()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ks(t.emulatorConfig.host)&&(u.credentials="include"),E_.fetch()(await k_(t,t.config.apiHost,n,l),u)})}async function x_(t,e,n){t._canInitEmulator=!1;const r={...LN,...e};try{const i=new jN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw au(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw w_(t,h,u);_n(t,h)}}catch(i){if(i instanceof rr)throw i;_n(t,"network-request-failed",{message:String(i)})}}async function Ra(t,e,n,r,i={}){const s=await Hr(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function k_(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?bm(t.config,i):`${t.config.apiScheme}://${i}`;return DN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function MN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),VN.get())})}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}function T_(t){return t!==void 0&&t.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(t,e){return Hr(t,"GET","/v2/recaptchaConfig",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function lu(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zN(t,e=!1){const n=Ce(t),r=await n.getIdToken(e),i=Cm(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pa(Sm(i.auth_time)),issuedAtTime:Pa(Sm(i.iat)),expirationTime:Pa(Sm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sm(t){return Number(t)*1e3}function Cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qw(n);return i?JSON.parse(i):(ou("Failed to decode base64 JWT payload"),null)}catch(i){return ou("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function I_(t){const e=Cm(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&BN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pa(this.lastLoginAt),this.creationTime=Pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await La(t,lu(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?b_(i.providerUserInfo):[],o=qN(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Am(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function WN(t){const e=Ce(t);await cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){const n=await x_(t,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await k_(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ks(t.emulatorConfig.host)&&(c.credentials="include"),E_.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GN(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=I_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xs;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Am(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await La(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await La(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:w,providerData:T,stsTokenManager:I}=n;ee(m&&I,e,"internal-error");const N=Xs.fromJSON(this.name,I);ee(typeof m=="string",e,"internal-error"),Gr(r,e.name),Gr(i,e.name),ee(typeof f=="boolean",e,"internal-error"),ee(typeof w=="boolean",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),Gr(l,e.name),Gr(c,e.name),Gr(u,e.name),Gr(h,e.name);const v=new En({uid:m,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:N,createdAt:u,lastLoginAt:h});return T&&Array.isArray(T)&&(v.providerData=T.map(_=>({..._}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xs;i.updateFromServerResponse(n);const s=new En({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?b_(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Xs;l.updateFromIdToken(r);const c=new En({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Am(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function lr(t){ar(t instanceof Function,"Expected a class definition");let e=S_.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C_.type="NONE";const A_=C_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lu(this.auth,{idToken:e}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(lr(A_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||lr(A_);const o=uu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let m;if(typeof h=="string"){const f=await lu(e,{idToken:h}).catch(()=>{});if(!f)break;m=await En._fromGetAccountInfoResponse(e,f,h)}else m=En._fromJSON(e,h);u!==s&&(l=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Js(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M_(e))return"Blackberry";if(j_(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||L_(e))&&!e.includes("edge/"))return"Chrome";if(V_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R_(t=wt()){return/firefox\//i.test(t)}function P_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L_(t=wt()){return/crios\//i.test(t)}function D_(t=wt()){return/iemobile/i.test(t)}function V_(t=wt()){return/android/i.test(t)}function M_(t=wt()){return/blackberry/i.test(t)}function j_(t=wt()){return/webos/i.test(t)}function Nm(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KN(t=wt()){var e;return Nm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function QN(){return cA()&&document.documentMode===10}function O_(t=wt()){return Nm(t)||V_(t)||j_(t)||M_(t)||/windows phone/i.test(t)||D_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e=[]){let n;switch(t){case"Browser":n=N_(wt());break;case"Worker":n=`${N_(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class ZN{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lu(this,{idToken:e}),r=await En._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(sr(this));const n=e?Ce(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),n=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Oi(t){return Ce(t)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yA(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(t){pu=t}function z_(t){return pu.loadJS(t)}function nR(){return pu.recaptchaEnterpriseScript}function rR(){return pu.gapiScript}function iR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sR{constructor(){this.enterprise=new oR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aR="recaptcha-enterprise",B_="NO_RECAPTCHA";class lR{constructor(e){this.type=aR,this.auth=Oi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{FN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new ON(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;T_(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(B_)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sR().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&T_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nR();c.length!==0&&(c+=l),z_(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function $_(t,e,n,r=!1,i=!1){const s=new lR(t);let o;if(i)o=B_;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Rm(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){const n=xm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vi(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function uR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pR(t,e,n){const r=Oi(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=W_(e),{host:o,port:l}=dR(e),c=l===null?"":`:${l}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Vi(u,r.config.emulator)&&Vi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ks(o)?(Zw(`${s}//${o}${c}`),t_("Auth",!0)):hR()}function W_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dR(t){const e=W_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:q_(o)}}}function q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function mR(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return Ra(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function yR(t,e){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Pm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Da(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Da(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,n,"signInWithPassword",fR);case"emailLink":return gR(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,r,"signUpPassword",mR);case"emailLink":return yR(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return Ra(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="http://localhost";class Fi extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:vR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _R(t){const e=Sa(Ca(t)).link,n=e?Sa(Ca(e)).deep_link_id:null,r=Sa(Ca(t)).deep_link_id;return(r?Sa(Ca(r)).link:null)||r||n||e||t}class Lm{constructor(e){const n=Sa(Ca(e)),r=n.apiKey??null,i=n.oobCode??null,s=wR(n.mode??null);ee(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_R(e);try{return new Lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Da._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lm.parseLink(n);return ee(r,"argument-error"),Da._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password",eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends H_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Va{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com",Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Va{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com",Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Va{constructor(){super("twitter.com")}static credential(e,n){return Fi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com",Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e){return Ra(t,"POST","/v1/accounts:signUp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await En._fromIdTokenResponse(e,r,i),o=G_(r);return new Ui({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G_(r);return new Ui({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends rr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,du.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new du(e,n,r,i)}}function K_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?du._fromErrorAndOperation(t,s,e,r):s})}async function xR(t,e,n=!1){const r=await La(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ui._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(t,e,n=!1){const{auth:r}=t;if(ln(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await La(t,K_(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=Cm(s.idToken);ee(o,r,"internal-error");const{sub:l}=o;return ee(t.uid===l,r,"user-mismatch"),Ui._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(t,e,n=!1){if(ln(t.app))return Promise.reject(sr(t));const r="signIn",i=await K_(t,r,e),s=await Ui._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function TR(t,e){return Q_(Oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(t){const e=Oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IR(t,e,n){if(ln(t.app))return Promise.reject(sr(t));const r=Oi(t),o=await Rm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ER).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Y_(t),c}),l=await Ui._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function bR(t,e,n){return ln(t.app)?Promise.reject(sr(t)):TR(Ce(t),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){return Ce(t).setPersistence(e)}function CR(t,e,n,r){return Ce(t).onIdTokenChanged(e,n,r)}function AR(t,e,n){return Ce(t).beforeAuthStateChanged(e,n)}function NR(t,e,n,r){return Ce(t).onAuthStateChanged(e,n,r)}function RR(t){return Ce(t).signOut()}const hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1e3,LR=10;class J_ extends X_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const Z_=J_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends X_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e1.type="SESSION";const t1=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await DR(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=Dm("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function MR(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function jR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function FR(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",UR=1,fu="firebaseLocalStorage",i1="fbase_key";class Ma{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gu(t,e){return t.transaction([fu],e?"readwrite":"readonly").objectStore(fu)}function zR(){const t=indexedDB.deleteDatabase(r1);return new Ma(t).toPromise()}function Vm(){const t=indexedDB.open(r1,UR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fu,{keyPath:i1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fu)?e(r):(r.close(),await zR(),e(await Vm()))})})}async function s1(t,e,n){const r=gu(t,!0).put({[i1]:e,value:n});return new Ma(r).toPromise()}async function BR(t,e){const n=gu(t,!1).get(e),r=await new Ma(n).toPromise();return r===void 0?null:r.value}function o1(t,e){const n=gu(t,!0).delete(e);return new Ma(n).toPromise()}const $R=800,WR=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mu._getInstance(FR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new VR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await s1(e,hu,"1"),await o1(e,hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>s1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gu(i,!1).getAll();return new Ma(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const qR=a1;new Na(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){return e?lr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GR(t){return Q_(t.auth,new Mm(t),t.bypassAuthState)}function KR(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),kR(n,new Mm(t),t.bypassAuthState)}async function QR(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),xR(n,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return KR;default:_n(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Na(2e3,1e4);class to extends l1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YR.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="pendingRedirect",yu=new Map;class JR extends l1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(t,e){const n=nP(e),r=tP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eP(t,e){yu.set(t._key(),e)}function tP(t){return lr(t._redirectPersistence)}function nP(t){return uu(XR,t.config.apiKey,t.name)}async function rP(t,e,n=!1){if(ln(t.app))return Promise.reject(sr(t));const r=Oi(t),i=HR(r,e),o=await new JR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=10*60*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u1(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has(c1(e))}saveEventToCache(e){this.cachedEventUids.add(c1(e)),this.lastProcessedEventTime=Date.now()}}function c1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e={}){return Hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function uP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aP(t);for(const n of e)try{if(pP(n))return}catch{}_n(t,"unauthorized-domain")}function pP(t){const e=Im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cP.test(n))return!1;if(lP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Na(3e4,6e4);function p1(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hP(t){return new Promise((e,n)=>{var i,s,o;function r(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(Rn(t,"network-request-failed"))},timeout:dP.get()})}if((s=(i=Pn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Pn().gapi)!=null&&o.load)r();else{const l=iR("iframefcb");return Pn()[l]=()=>{gapi.load?r():n(Rn(t,"network-request-failed"))},z_(`${rR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vu=null,e})}let vu=null;function mP(t){return vu=vu||hP(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Na(5e3,15e3),gP="__/auth/iframe",yP="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _P(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bm(e,yP):`https://${t.config.authDomain}/${gP}`,r={apiKey:e.apiKey,appName:t.name,v:Ys},i=wP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}async function EP(t){const e=await mP(t),n=Pn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:_P(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rn(t,"network-request-failed"),l=Pn().setTimeout(()=>{s(o)},fP.get());function c(){Pn().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kP=500,TP=600,IP="_blank",bP="http://localhost";class d1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SP(t,e,n,r=kP,i=TP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...xP,width:r.toString(),height:i.toString(),top:s,left:o},u=wt().toLowerCase();n&&(l=L_(u)?IP:n),R_(u)&&(e=e||bP,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[w,T])=>`${f}${w}=${T},`,"");if(KN(u)&&l!=="_self")return CP(e||"",l),new d1(null);const m=window.open(e||"",l,h);ee(m,t,"popup-blocked");try{m.focus()}catch{}return new d1(m)}function CP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="__/auth/handler",NP="emulator/auth/handler",RP=encodeURIComponent("fac");async function h1(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ys,eventId:i};if(e instanceof H_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Va){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${RP}=${encodeURIComponent(c)}`:"";return`${PP(t)}?${ba(l).slice(1)}${u}`}function PP({config:t}){return t.emulator?bm(t,NP):`https://${t.authDomain}/${AP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class LP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=rP,this._overrideRedirectResult=eP}async _openPopup(e,n,r,i){var o;ar((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await h1(e,n,r,Im(),i);return SP(e,s,Dm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h1(e,n,r,Im(),i);return MR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EP(e),r=new sP(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[jm];s!==void 0&&n(!!s),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O_()||P_()||Nm()}}const DP=LP;var m1="@firebase/auth",f1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jP(t){Qs(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(t)},u=new eR(r,i,s,c);return uR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new Mi("auth-internal",e=>{const n=Oi(e.getProvider("auth").getImmediate());return(r=>new VP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(m1,f1,MP(t)),Wr(m1,f1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=5*60,FP=Jw("authIdTokenMaxAge")||OP;let g1=null;const UP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FP)return;const i=n==null?void 0:n.token;g1!==i&&(g1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zP(t=p_()){const e=xm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cR(t,{popupRedirectResolver:DP,persistence:[qR,Z_,t1]}),r=Jw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UP(s.toString());AR(n,o,()=>o(n.currentUser)),CR(n,l=>o(l))}}const i=Yw("auth");return i&&pR(n,`http://${i}`),n}function BP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}tR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",BP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),jP("Browser");var $P="firebase",WP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr($P,WP,"app");var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,v1;(function(){var t;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(S,y){function b(){}b.prototype=y.prototype,S.D=y.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(C,A,D){for(var P=Array(arguments.length-2),H=2;H<arguments.length;H++)P[H-2]=arguments[H];return y.prototype[A].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,b){b||(b=0);var C=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)C[A]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(A=0;16>A;++A)C[A]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=S.g[0],b=S.g[1],A=S.g[2];var D=S.g[3],P=y+(D^b&(A^D))+C[0]+3614090360&4294967295;y=b+(P<<7&4294967295|P>>>25),P=D+(A^y&(b^A))+C[1]+3905402710&4294967295,D=y+(P<<12&4294967295|P>>>20),P=A+(b^D&(y^b))+C[2]+606105819&4294967295,A=D+(P<<17&4294967295|P>>>15),P=b+(y^A&(D^y))+C[3]+3250441966&4294967295,b=A+(P<<22&4294967295|P>>>10),P=y+(D^b&(A^D))+C[4]+4118548399&4294967295,y=b+(P<<7&4294967295|P>>>25),P=D+(A^y&(b^A))+C[5]+1200080426&4294967295,D=y+(P<<12&4294967295|P>>>20),P=A+(b^D&(y^b))+C[6]+2821735955&4294967295,A=D+(P<<17&4294967295|P>>>15),P=b+(y^A&(D^y))+C[7]+4249261313&4294967295,b=A+(P<<22&4294967295|P>>>10),P=y+(D^b&(A^D))+C[8]+1770035416&4294967295,y=b+(P<<7&4294967295|P>>>25),P=D+(A^y&(b^A))+C[9]+2336552879&4294967295,D=y+(P<<12&4294967295|P>>>20),P=A+(b^D&(y^b))+C[10]+4294925233&4294967295,A=D+(P<<17&4294967295|P>>>15),P=b+(y^A&(D^y))+C[11]+2304563134&4294967295,b=A+(P<<22&4294967295|P>>>10),P=y+(D^b&(A^D))+C[12]+1804603682&4294967295,y=b+(P<<7&4294967295|P>>>25),P=D+(A^y&(b^A))+C[13]+4254626195&4294967295,D=y+(P<<12&4294967295|P>>>20),P=A+(b^D&(y^b))+C[14]+2792965006&4294967295,A=D+(P<<17&4294967295|P>>>15),P=b+(y^A&(D^y))+C[15]+1236535329&4294967295,b=A+(P<<22&4294967295|P>>>10),P=y+(A^D&(b^A))+C[1]+4129170786&4294967295,y=b+(P<<5&4294967295|P>>>27),P=D+(b^A&(y^b))+C[6]+3225465664&4294967295,D=y+(P<<9&4294967295|P>>>23),P=A+(y^b&(D^y))+C[11]+643717713&4294967295,A=D+(P<<14&4294967295|P>>>18),P=b+(D^y&(A^D))+C[0]+3921069994&4294967295,b=A+(P<<20&4294967295|P>>>12),P=y+(A^D&(b^A))+C[5]+3593408605&4294967295,y=b+(P<<5&4294967295|P>>>27),P=D+(b^A&(y^b))+C[10]+38016083&4294967295,D=y+(P<<9&4294967295|P>>>23),P=A+(y^b&(D^y))+C[15]+3634488961&4294967295,A=D+(P<<14&4294967295|P>>>18),P=b+(D^y&(A^D))+C[4]+3889429448&4294967295,b=A+(P<<20&4294967295|P>>>12),P=y+(A^D&(b^A))+C[9]+568446438&4294967295,y=b+(P<<5&4294967295|P>>>27),P=D+(b^A&(y^b))+C[14]+3275163606&4294967295,D=y+(P<<9&4294967295|P>>>23),P=A+(y^b&(D^y))+C[3]+4107603335&4294967295,A=D+(P<<14&4294967295|P>>>18),P=b+(D^y&(A^D))+C[8]+1163531501&4294967295,b=A+(P<<20&4294967295|P>>>12),P=y+(A^D&(b^A))+C[13]+2850285829&4294967295,y=b+(P<<5&4294967295|P>>>27),P=D+(b^A&(y^b))+C[2]+4243563512&4294967295,D=y+(P<<9&4294967295|P>>>23),P=A+(y^b&(D^y))+C[7]+1735328473&4294967295,A=D+(P<<14&4294967295|P>>>18),P=b+(D^y&(A^D))+C[12]+2368359562&4294967295,b=A+(P<<20&4294967295|P>>>12),P=y+(b^A^D)+C[5]+4294588738&4294967295,y=b+(P<<4&4294967295|P>>>28),P=D+(y^b^A)+C[8]+2272392833&4294967295,D=y+(P<<11&4294967295|P>>>21),P=A+(D^y^b)+C[11]+1839030562&4294967295,A=D+(P<<16&4294967295|P>>>16),P=b+(A^D^y)+C[14]+4259657740&4294967295,b=A+(P<<23&4294967295|P>>>9),P=y+(b^A^D)+C[1]+2763975236&4294967295,y=b+(P<<4&4294967295|P>>>28),P=D+(y^b^A)+C[4]+1272893353&4294967295,D=y+(P<<11&4294967295|P>>>21),P=A+(D^y^b)+C[7]+4139469664&4294967295,A=D+(P<<16&4294967295|P>>>16),P=b+(A^D^y)+C[10]+3200236656&4294967295,b=A+(P<<23&4294967295|P>>>9),P=y+(b^A^D)+C[13]+681279174&4294967295,y=b+(P<<4&4294967295|P>>>28),P=D+(y^b^A)+C[0]+3936430074&4294967295,D=y+(P<<11&4294967295|P>>>21),P=A+(D^y^b)+C[3]+3572445317&4294967295,A=D+(P<<16&4294967295|P>>>16),P=b+(A^D^y)+C[6]+76029189&4294967295,b=A+(P<<23&4294967295|P>>>9),P=y+(b^A^D)+C[9]+3654602809&4294967295,y=b+(P<<4&4294967295|P>>>28),P=D+(y^b^A)+C[12]+3873151461&4294967295,D=y+(P<<11&4294967295|P>>>21),P=A+(D^y^b)+C[15]+530742520&4294967295,A=D+(P<<16&4294967295|P>>>16),P=b+(A^D^y)+C[2]+3299628645&4294967295,b=A+(P<<23&4294967295|P>>>9),P=y+(A^(b|~D))+C[0]+4096336452&4294967295,y=b+(P<<6&4294967295|P>>>26),P=D+(b^(y|~A))+C[7]+1126891415&4294967295,D=y+(P<<10&4294967295|P>>>22),P=A+(y^(D|~b))+C[14]+2878612391&4294967295,A=D+(P<<15&4294967295|P>>>17),P=b+(D^(A|~y))+C[5]+4237533241&4294967295,b=A+(P<<21&4294967295|P>>>11),P=y+(A^(b|~D))+C[12]+1700485571&4294967295,y=b+(P<<6&4294967295|P>>>26),P=D+(b^(y|~A))+C[3]+2399980690&4294967295,D=y+(P<<10&4294967295|P>>>22),P=A+(y^(D|~b))+C[10]+4293915773&4294967295,A=D+(P<<15&4294967295|P>>>17),P=b+(D^(A|~y))+C[1]+2240044497&4294967295,b=A+(P<<21&4294967295|P>>>11),P=y+(A^(b|~D))+C[8]+1873313359&4294967295,y=b+(P<<6&4294967295|P>>>26),P=D+(b^(y|~A))+C[15]+4264355552&4294967295,D=y+(P<<10&4294967295|P>>>22),P=A+(y^(D|~b))+C[6]+2734768916&4294967295,A=D+(P<<15&4294967295|P>>>17),P=b+(D^(A|~y))+C[13]+1309151649&4294967295,b=A+(P<<21&4294967295|P>>>11),P=y+(A^(b|~D))+C[4]+4149444226&4294967295,y=b+(P<<6&4294967295|P>>>26),P=D+(b^(y|~A))+C[11]+3174756917&4294967295,D=y+(P<<10&4294967295|P>>>22),P=A+(y^(D|~b))+C[2]+718787259&4294967295,A=D+(P<<15&4294967295|P>>>17),P=b+(D^(A|~y))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var b=y-this.blockSize,C=this.B,A=this.h,D=0;D<y;){if(A==0)for(;D<=b;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<y;)if(C[A++]=S.charCodeAt(D++),A==this.blockSize){i(this,C),A=0;break}}else for(;D<y;)if(C[A++]=S[D++],A==this.blockSize){i(this,C),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var b=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=b&255,b/=256;for(this.u(S),S=Array(16),y=b=0;4>y;++y)for(var C=0;32>C;C+=8)S[b++]=this.g[y]>>>C&255;return S};function s(S,y){var b=l;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=y(S)}function o(S,y){this.h=y;for(var b=[],C=!0,A=S.length-1;0<=A;A--){var D=S[A]|0;C&&D==y||(b[A]=D,C=!1)}this.g=b}var l={};function c(S){return-128<=S&&128>S?s(S,function(y){return new o([y|0],0>y?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return N(u(-S));for(var y=[],b=1,C=0;S>=b;C++)y[C]=S/b|0,b*=4294967296;return new o(y,0)}function h(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return N(h(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(y,8)),C=m,A=0;A<S.length;A+=8){var D=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+D),y);8>D?(D=u(Math.pow(y,D)),C=C.j(D).add(u(P))):(C=C.j(b),C=C.add(u(P)))}return C}var m=c(0),f=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(I(this))return-N(this).m();for(var S=0,y=1,b=0;b<this.g.length;b++){var C=this.i(b);S+=(0<=C?C:4294967296+C)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(I(this))return"-"+N(this).toString(S);for(var y=u(Math.pow(S,6)),b=this,C="";;){var A=L(b,y).g;b=v(b,A.j(y));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=A,T(b))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=v(this,S),I(S)?-1:T(S)?0:1};function N(S){for(var y=S.g.length,b=[],C=0;C<y;C++)b[C]=~S.g[C];return new o(b,~S.h).add(f)}t.abs=function(){return I(this)?N(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],C=0,A=0;A<=y;A++){var D=C+(this.i(A)&65535)+(S.i(A)&65535),P=(D>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);C=P>>>16,D&=65535,P&=65535,b[A]=P<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function v(S,y){return S.add(N(y))}t.j=function(S){if(T(this)||T(S))return m;if(I(this))return I(S)?N(this).j(N(S)):N(N(this).j(S));if(I(S))return N(this.j(N(S)));if(0>this.l(w)&&0>S.l(w))return u(this.m()*S.m());for(var y=this.g.length+S.g.length,b=[],C=0;C<2*y;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<S.g.length;A++){var D=this.i(C)>>>16,P=this.i(C)&65535,H=S.i(A)>>>16,q=S.i(A)&65535;b[2*C+2*A]+=P*q,_(b,2*C+2*A),b[2*C+2*A+1]+=D*q,_(b,2*C+2*A+1),b[2*C+2*A+1]+=P*H,_(b,2*C+2*A+1),b[2*C+2*A+2]+=D*H,_(b,2*C+2*A+2)}for(C=0;C<y;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=y;C<2*y;C++)b[C]=0;return new o(b,0)};function _(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function x(S,y){this.g=S,this.h=y}function L(S,y){if(T(y))throw Error("division by zero");if(T(S))return new x(m,m);if(I(S))return y=L(N(S),y),new x(N(y.g),N(y.h));if(I(y))return y=L(S,N(y)),new x(N(y.g),y.h);if(30<S.g.length){if(I(S)||I(y))throw Error("slowDivide_ only works with positive integers.");for(var b=f,C=y;0>=C.l(S);)b=M(b),C=M(C);var A=F(b,1),D=F(C,1);for(C=F(C,2),b=F(b,2);!T(C);){var P=D.add(C);0>=P.l(S)&&(A=A.add(b),D=P),C=F(C,1),b=F(b,1)}return y=v(S,A.j(y)),new x(A,y)}for(A=m;0<=S.l(y);){for(b=Math.max(1,Math.floor(S.m()/y.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=u(b),P=D.j(y);I(P)||0<P.l(S);)b-=C,D=u(b),P=D.j(y);T(D)&&(D=f),A=A.add(D),S=v(S,P)}return new x(A,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)&S.i(C);return new o(b,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)|S.i(C);return new o(b,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)^S.i(C);return new o(b,this.h^S.h)};function M(S){for(var y=S.g.length+1,b=[],C=0;C<y;C++)b[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(b,S.h)}function F(S,y){var b=y>>5;y%=32;for(var C=S.g.length-b,A=[],D=0;D<C;D++)A[D]=0<y?S.i(D+b)>>>y|S.i(D+b+1)<<32-y:S.i(D+b);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Jr=o}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,ja,_1,_u,Om,E1,x1,k1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,p,g){return a==Array.prototype||a==Object.prototype||(a[p]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var p=0;p<a.length;++p){var g=a[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,p){if(p)e:{var g=r;a=a.split(".");for(var k=0;k<a.length-1;k++){var V=a[k];if(!(V in g))break e;g=g[V]}a=a[a.length-1],k=g[a],p=p(k),p!=k&&p!=null&&e(g,a,{configurable:!0,writable:!0,value:p})}}function s(a,p){a instanceof String&&(a+="");var g=0,k=!1,V={next:function(){if(!k&&g<a.length){var j=g++;return{value:p(j,a[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return s(this,function(p,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var o=o||{},l=this||self;function c(a){var p=typeof a;return p=p!="object"?p:a?Array.isArray(a)?"array":p:"null",p=="array"||p=="object"&&typeof a.length=="number"}function u(a){var p=typeof a;return p=="object"&&a!=null||p=="function"}function h(a,p,g){return a.call.apply(a.bind,arguments)}function m(a,p,g){if(!a)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),a.apply(p,V)}}return function(){return a.apply(p,arguments)}}function f(a,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,f.apply(null,arguments)}function w(a,p){var g=Array.prototype.slice.call(arguments,1);return function(){var k=g.slice();return k.push.apply(k,arguments),a.apply(this,k)}}function T(a,p){function g(){}g.prototype=p.prototype,a.aa=p.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(k,V,j){for(var W=Array(arguments.length-2),we=2;we<arguments.length;we++)W[we-2]=arguments[we];return p.prototype[V].apply(k,W)}}function I(a){const p=a.length;if(0<p){const g=Array(p);for(let k=0;k<p;k++)g[k]=a[k];return g}return[]}function N(a,p){for(let g=1;g<arguments.length;g++){const k=arguments[g];if(c(k)){const V=a.length||0,j=k.length||0;a.length=V+j;for(let W=0;W<j;W++)a[V+W]=k[W]}else a.push(k)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(a){return/^[\s\xa0]*$/.test(a)}function x(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(a,p,g){for(const k in a)p.call(g,a[k],k,a)}function S(a,p){for(const g in a)p.call(void 0,a[g],g,a)}function y(a){const p={};for(const g in a)p[g]=a[g];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,p){let g,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(g in k)a[g]=k[g];for(let j=0;j<b.length;j++)g=b[j],Object.prototype.hasOwnProperty.call(k,g)&&(a[g]=k[g])}}function A(a){var p=1;a=a.split(":");const g=[];for(;0<p&&a.length;)g.push(a.shift()),p--;return a.length&&g.push(a.join(":")),g}function D(a){l.setTimeout(()=>{throw a},0)}function P(){var a=ne;let p=null;return a.g&&(p=a.g,a.g=a.g.next,a.g||(a.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,g){const k=q.get();k.set(p,g),this.h?this.h.next=k:this.g=k,this.h=k}}var q=new v(()=>new Z,a=>a.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,U=!1,ne=new H,ie=()=>{const a=l.Promise.resolve(void 0);$e=()=>{a.then(xe)}};var xe=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(g){D(g)}var p=q;p.j(a),100>p.h&&(p.h++,a.next=p.g,p.g=a)}U=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(a,p){this.type=a,this.g=this.target=p,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,p=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,p),l.removeEventListener("test",g,p)}catch{}return a}();function zt(a,p){if(ae.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,k=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=p,p=a.relatedTarget){if(M){e:{try{L(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=a.fromElement:g=="mouseout"&&(p=a.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:un[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&zt.aa.h.call(this)}}T(zt,ae);var un={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),vp=0;function bo(a,p,g,k,V){this.listener=a,this.proxy=null,this.src=p,this.type=g,this.capture=!!k,this.ha=V,this.key=++vp,this.da=this.fa=!1}function gr(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function di(a){this.src=a,this.g={},this.h=0}di.prototype.add=function(a,p,g,k,V){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var W=og(a,p,k,V);return-1<W?(p=a[W],g||(p.fa=!1)):(p=new bo(p,this.src,j,!!k,V),p.fa=g,a.push(p)),p};function hi(a,p){var g=p.type;if(g in a.g){var k=a.g[g],V=Array.prototype.indexOf.call(k,p,void 0),j;(j=0<=V)&&Array.prototype.splice.call(k,V,1),j&&(gr(p),a.g[g].length==0&&(delete a.g[g],a.h--))}}function og(a,p,g,k){for(var V=0;V<a.length;++V){var j=a[V];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==k)return V}return-1}var ag="closure_lm_"+(1e6*Math.random()|0),lg={};function Wk(a,p,g,k,V){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Wk(a,p[j],g,k,V);return null}return g=Gk(g),a&&a[ve]?a.K(p,g,u(k)?!!k.capture:!!k,V):WM(a,p,g,!1,k,V)}function WM(a,p,g,k,V,j){if(!p)throw Error("Invalid event type");var W=u(V)?!!V.capture:!!V,we=ug(a);if(we||(a[ag]=we=new di(a)),g=we.add(p,g,k,W,j),g.proxy)return g;if(k=qM(),g.proxy=k,k.src=a,k.listener=g,a.addEventListener)Oe||(V=W),V===void 0&&(V=!1),a.addEventListener(p.toString(),k,V);else if(a.attachEvent)a.attachEvent(Hk(p.toString()),k);else if(a.addListener&&a.removeListener)a.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return g}function qM(){function a(g){return p.call(a.src,a.listener,g)}const p=HM;return a}function qk(a,p,g,k,V){if(Array.isArray(p))for(var j=0;j<p.length;j++)qk(a,p[j],g,k,V);else k=u(k)?!!k.capture:!!k,g=Gk(g),a&&a[ve]?(a=a.i,p=String(p).toString(),p in a.g&&(j=a.g[p],g=og(j,g,k,V),-1<g&&(gr(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete a.g[p],a.h--)))):a&&(a=ug(a))&&(p=a.g[p.toString()],a=-1,p&&(a=og(p,g,k,V)),(g=-1<a?p[a]:null)&&cg(g))}function cg(a){if(typeof a!="number"&&a&&!a.da){var p=a.src;if(p&&p[ve])hi(p.i,a);else{var g=a.type,k=a.proxy;p.removeEventListener?p.removeEventListener(g,k,a.capture):p.detachEvent?p.detachEvent(Hk(g),k):p.addListener&&p.removeListener&&p.removeListener(k),(g=ug(p))?(hi(g,a),g.h==0&&(g.src=null,p[ag]=null)):gr(a)}}}function Hk(a){return a in lg?lg[a]:lg[a]="on"+a}function HM(a,p){if(a.da)a=!0;else{p=new zt(p,this);var g=a.listener,k=a.ha||a.src;a.fa&&cg(a),a=g.call(k,p)}return a}function ug(a){return a=a[ag],a instanceof di?a:null}var pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gk(a){return typeof a=="function"?a:(a[pg]||(a[pg]=function(p){return a.handleEvent(p)}),a[pg])}function kt(){fe.call(this),this.i=new di(this),this.M=this,this.F=null}T(kt,fe),kt.prototype[ve]=!0,kt.prototype.removeEventListener=function(a,p,g,k){qk(this,a,p,g,k)};function Pt(a,p){var g,k=a.F;if(k)for(g=[];k;k=k.F)g.push(k);if(a=a.M,k=p.type||p,typeof p=="string")p=new ae(p,a);else if(p instanceof ae)p.target=p.target||a;else{var V=p;p=new ae(k,a),C(p,V)}if(V=!0,g)for(var j=g.length-1;0<=j;j--){var W=p.g=g[j];V=wp(W,k,!0,p)&&V}if(W=p.g=a,V=wp(W,k,!0,p)&&V,V=wp(W,k,!1,p)&&V,g)for(j=0;j<g.length;j++)W=p.g=g[j],V=wp(W,k,!1,p)&&V}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var a=this.i,p;for(p in a.g){for(var g=a.g[p],k=0;k<g.length;k++)gr(g[k]);delete a.g[p],a.h--}}this.F=null},kt.prototype.K=function(a,p,g,k){return this.i.add(String(a),p,!1,g,k)},kt.prototype.L=function(a,p,g,k){return this.i.add(String(a),p,!0,g,k)};function wp(a,p,g,k){if(p=a.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==g){var we=W.listener,ht=W.ha||W.src;W.fa&&hi(a.i,W),V=we.call(ht,k)!==!1&&V}}return V&&!k.defaultPrevented}function Kk(a,p,g){if(typeof a=="function")g&&(a=f(a,g));else if(a&&typeof a.handleEvent=="function")a=f(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(a,p||0)}function Qk(a){a.g=Kk(()=>{a.g=null,a.i&&(a.i=!1,Qk(a))},a.l);const p=a.h;a.h=null,a.m.apply(null,p)}class GM extends fe{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qk(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(a){fe.call(this),this.h=a,this.g={}}T(dl,fe);var Yk=[];function Xk(a){F(a.g,function(p,g){this.g.hasOwnProperty(g)&&cg(p)},a),a.g={}}dl.prototype.N=function(){dl.aa.N.call(this),Xk(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dg=l.JSON.stringify,KM=l.JSON.parse,QM=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function hg(){}hg.prototype.h=null;function Jk(a){return a.h||(a.h=a.i())}function Zk(){}var hl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mg(){ae.call(this,"d")}T(mg,ae);function fg(){ae.call(this,"c")}T(fg,ae);var as={},eT=null;function _p(){return eT=eT||new kt}as.La="serverreachability";function tT(a){ae.call(this,as.La,a)}T(tT,ae);function ml(a){const p=_p();Pt(p,new tT(p))}as.STAT_EVENT="statevent";function nT(a,p){ae.call(this,as.STAT_EVENT,a),this.stat=p}T(nT,ae);function Lt(a){const p=_p();Pt(p,new nT(p,a))}as.Ma="timingevent";function rT(a,p){ae.call(this,as.Ma,a),this.size=p}T(rT,ae);function fl(a,p){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},p)}function gl(){this.g=!0}gl.prototype.xa=function(){this.g=!1};function YM(a,p,g,k,V,j){a.info(function(){if(a.g)if(j)for(var W="",we=j.split("&"),ht=0;ht<we.length;ht++){var me=we[ht].split("=");if(1<me.length){var Tt=me[0];me=me[1];var It=Tt.split("_");W=2<=It.length&&It[1]=="type"?W+(Tt+"="+me+"&"):W+(Tt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+p+`
`+g+`
`+W})}function XM(a,p,g,k,V,j,W){a.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+p+`
`+g+`
`+j+" "+W})}function So(a,p,g,k){a.info(function(){return"XMLHTTP TEXT ("+p+"): "+ZM(a,g)+(k?" "+k:"")})}function JM(a,p){a.info(function(){return"TIMEOUT: "+p})}gl.prototype.info=function(){};function ZM(a,p){if(!a.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var k=g[a];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<V.length;W++)V[W]=""}}}}return dg(g)}catch{return p}}var Ep={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gg;function xp(){}T(xp,hg),xp.prototype.g=function(){return new XMLHttpRequest},xp.prototype.i=function(){return{}},gg=new xp;function mi(a,p,g,k){this.j=a,this.i=p,this.l=g,this.R=k||1,this.U=new dl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sT}function sT(){this.i=null,this.g="",this.h=!1}var oT={},yg={};function vg(a,p,g){a.L=1,a.v=bp(yr(p)),a.m=g,a.P=!0,aT(a,null)}function aT(a,p){a.F=Date.now(),kp(a),a.A=yr(a.v);var g=a.A,k=a.R;Array.isArray(k)||(k=[String(k)]),ET(g.i,"t",k),a.C=0,g=a.j.J,a.h=new sT,a.g=FT(a.j,g?p:null,!a.m),0<a.O&&(a.M=new GM(f(a.Y,a,a.g),a.O)),p=a.U,g=a.g,k=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Yk[0]=V.toString()),V=Yk);for(var j=0;j<V.length;j++){var W=Wk(g,V[j],k||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,p)):(a.u="GET",a.g.ea(a.A,a.u,null,p)),ml(),YM(a.i,a.u,a.A,a.l,a.R,a.m)}mi.prototype.ca=function(a){a=a.target;const p=this.M;p&&vr(a)==3?p.j():this.Y(a)},mi.prototype.Y=function(a){try{if(a==this.g)e:{const It=vr(this.g);var p=this.g.Ba();const No=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||CT(this.g)))){this.J||It!=4||p==7||(p==8||0>=No?ml(3):ml(2)),wg(this);var g=this.g.Z();this.X=g;t:if(lT(this)){var k=CT(this.g);a="";var V=k.length,j=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),yl(this);var W="";break t}this.h.i=new l.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,a+=this.h.i.decode(k[p],{stream:!(j&&p==V-1)});k.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,XM(this.i,this.u,this.A,this.l,this.R,It,g),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ht=this.g;if((we=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(we)){var me=we;break t}}me=null}if(g=me)So(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_g(this,g);else{this.o=!1,this.s=3,Lt(12),ls(this),yl(this);break e}}if(this.P){g=!0;let In;for(;!this.J&&this.C<W.length;)if(In=e6(this,W),In==yg){It==4&&(this.s=4,Lt(14),g=!1),So(this.i,this.l,null,"[Incomplete Response]");break}else if(In==oT){this.s=4,Lt(15),So(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else So(this.i,this.l,In,null),_g(this,In);if(lT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||W.length!=0||this.h.h||(this.s=1,Lt(16),g=!1),this.o=this.o&&g,!g)So(this.i,this.l,W,"[Invalid Chunked Response]"),ls(this),yl(this);else if(0<W.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),bg(Tt),Tt.M=!0,Lt(11))}}else So(this.i,this.l,W,null),_g(this,W);It==4&&ls(this),this.o&&!this.J&&(It==4?VT(this.j,this):(this.o=!1,kp(this)))}else y6(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ls(this),yl(this)}}}catch{}finally{}};function lT(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function e6(a,p){var g=a.C,k=p.indexOf(`
`,g);return k==-1?yg:(g=Number(p.substring(g,k)),isNaN(g)?oT:(k+=1,k+g>p.length?yg:(p=p.slice(k,k+g),a.C=k+g,p)))}mi.prototype.cancel=function(){this.J=!0,ls(this)};function kp(a){a.S=Date.now()+a.I,cT(a,a.I)}function cT(a,p){if(a.B!=null)throw Error("WatchDog timer not null");a.B=fl(f(a.ba,a),p)}function wg(a){a.B&&(l.clearTimeout(a.B),a.B=null)}mi.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(JM(this.i,this.A),this.L!=2&&(ml(),Lt(17)),ls(this),this.s=2,yl(this)):cT(this,this.S-a)};function yl(a){a.j.G==0||a.J||VT(a.j,a)}function ls(a){wg(a);var p=a.M;p&&typeof p.ma=="function"&&p.ma(),a.M=null,Xk(a.U),a.g&&(p=a.g,a.g=null,p.abort(),p.ma())}function _g(a,p){try{var g=a.j;if(g.G!=0&&(g.g==a||Eg(g.h,a))){if(!a.K&&Eg(g.h,a)&&g.G==3){try{var k=g.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)Pp(g),Np(g);else break e;Ig(g),Lt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=fl(f(g.Za,g),6e3));if(1>=dT(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else us(g,11)}else if((a.K||g.g==a)&&Pp(g),!_(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let me=V[p];if(g.T=me[0],me=me[1],g.G==2)if(me[0]=="c"){g.K=me[1],g.ia=me[2];const Tt=me[3];Tt!=null&&(g.la=Tt,g.j.info("VER="+g.la));const It=me[4];It!=null&&(g.Aa=It,g.j.info("SVER="+g.Aa));const No=me[5];No!=null&&typeof No=="number"&&0<No&&(k=1.5*No,g.L=k,g.j.info("backChannelRequestTimeoutMs_="+k)),k=g;const In=a.g;if(In){const Dp=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dp){var j=k.h;j.g||Dp.indexOf("spdy")==-1&&Dp.indexOf("quic")==-1&&Dp.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(xg(j,j.h),j.h=null))}if(k.D){const Sg=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(k.ya=Sg,be(k.I,k.D,Sg))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),k=g;var W=a;if(k.qa=OT(k,k.J?k.ia:null,k.W),W.K){hT(k.h,W);var we=W,ht=k.L;ht&&(we.I=ht),we.B&&(wg(we),kp(we)),k.g=W}else LT(k);0<g.i.length&&Rp(g)}else me[0]!="stop"&&me[0]!="close"||us(g,7);else g.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?us(g,7):Tg(g):me[0]!="noop"&&g.l&&g.l.ta(me),g.v=0)}}ml(4)}catch{}}var t6=class{constructor(a,p){this.g=a,this.map=p}};function uT(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pT(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function dT(a){return a.h?1:a.g?a.g.size:0}function Eg(a,p){return a.h?a.h==p:a.g?a.g.has(p):!1}function xg(a,p){a.g?a.g.add(p):a.h=p}function hT(a,p){a.h&&a.h==p?a.h=null:a.g&&a.g.has(p)&&a.g.delete(p)}uT.prototype.cancel=function(){if(this.i=mT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function mT(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let p=a.i;for(const g of a.g.values())p=p.concat(g.D);return p}return I(a.i)}function n6(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var p=[],g=a.length,k=0;k<g;k++)p.push(a[k]);return p}p=[],g=0;for(k in a)p[g++]=a[k];return p}function r6(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var p=[];a=a.length;for(var g=0;g<a;g++)p.push(g);return p}p=[],g=0;for(const k in a)p[g++]=k;return p}}}function fT(a,p){if(a.forEach&&typeof a.forEach=="function")a.forEach(p,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,p,void 0);else for(var g=r6(a),k=n6(a),V=k.length,j=0;j<V;j++)p.call(void 0,k[j],g&&g[j],a)}var gT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function i6(a,p){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var k=a[g].indexOf("="),V=null;if(0<=k){var j=a[g].substring(0,k);V=a[g].substring(k+1)}else j=a[g];p(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function cs(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof cs){this.h=a.h,Tp(this,a.j),this.o=a.o,this.g=a.g,Ip(this,a.s),this.l=a.l;var p=a.i,g=new _l;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),yT(this,g),this.m=a.m}else a&&(p=String(a).match(gT))?(this.h=!1,Tp(this,p[1]||"",!0),this.o=vl(p[2]||""),this.g=vl(p[3]||"",!0),Ip(this,p[4]),this.l=vl(p[5]||"",!0),yT(this,p[6]||"",!0),this.m=vl(p[7]||"")):(this.h=!1,this.i=new _l(null,this.h))}cs.prototype.toString=function(){var a=[],p=this.j;p&&a.push(wl(p,vT,!0),":");var g=this.g;return(g||p=="file")&&(a.push("//"),(p=this.o)&&a.push(wl(p,vT,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(wl(g,g.charAt(0)=="/"?a6:o6,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",wl(g,c6)),a.join("")};function yr(a){return new cs(a)}function Tp(a,p,g){a.j=g?vl(p,!0):p,a.j&&(a.j=a.j.replace(/:$/,""))}function Ip(a,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);a.s=p}else a.s=null}function yT(a,p,g){p instanceof _l?(a.i=p,u6(a.i,a.h)):(g||(p=wl(p,l6)),a.i=new _l(p,a.h))}function be(a,p,g){a.i.set(p,g)}function bp(a){return be(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function vl(a,p){return a?p?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wl(a,p,g){return typeof a=="string"?(a=encodeURI(a).replace(p,s6),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function s6(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vT=/[#\/\?@]/g,o6=/[#\?:]/g,a6=/[#\?]/g,l6=/[#\?@]/g,c6=/#/g;function _l(a,p){this.h=this.g=null,this.i=a||null,this.j=!!p}function fi(a){a.g||(a.g=new Map,a.h=0,a.i&&i6(a.i,function(p,g){a.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=_l.prototype,t.add=function(a,p){fi(this),this.i=null,a=Co(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(p),this.h+=1,this};function wT(a,p){fi(a),p=Co(a,p),a.g.has(p)&&(a.i=null,a.h-=a.g.get(p).length,a.g.delete(p))}function _T(a,p){return fi(a),p=Co(a,p),a.g.has(p)}t.forEach=function(a,p){fi(this),this.g.forEach(function(g,k){g.forEach(function(V){a.call(p,V,k,this)},this)},this)},t.na=function(){fi(this);const a=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let k=0;k<p.length;k++){const V=a[k];for(let j=0;j<V.length;j++)g.push(p[k])}return g},t.V=function(a){fi(this);let p=[];if(typeof a=="string")_T(this,a)&&(p=p.concat(this.g.get(Co(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)p=p.concat(a[g])}return p},t.set=function(a,p){return fi(this),this.i=null,a=Co(this,a),_T(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[p]),this.h+=1,this},t.get=function(a,p){return a?(a=this.V(a),0<a.length?String(a[0]):p):p};function ET(a,p,g){wT(a,p),0<g.length&&(a.i=null,a.g.set(Co(a,p),I(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var k=p[g];const j=encodeURIComponent(String(k)),W=this.V(k);for(k=0;k<W.length;k++){var V=j;W[k]!==""&&(V+="="+encodeURIComponent(String(W[k]))),a.push(V)}}return this.i=a.join("&")};function Co(a,p){return p=String(p),a.j&&(p=p.toLowerCase()),p}function u6(a,p){p&&!a.j&&(fi(a),a.i=null,a.g.forEach(function(g,k){var V=k.toLowerCase();k!=V&&(wT(this,k),ET(this,V,g))},a)),a.j=p}function p6(a,p){const g=new gl;if(l.Image){const k=new Image;k.onload=w(gi,g,"TestLoadImage: loaded",!0,p,k),k.onerror=w(gi,g,"TestLoadImage: error",!1,p,k),k.onabort=w(gi,g,"TestLoadImage: abort",!1,p,k),k.ontimeout=w(gi,g,"TestLoadImage: timeout",!1,p,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=a}else p(!1)}function d6(a,p){const g=new gl,k=new AbortController,V=setTimeout(()=>{k.abort(),gi(g,"TestPingServer: timeout",!1,p)},1e4);fetch(a,{signal:k.signal}).then(j=>{clearTimeout(V),j.ok?gi(g,"TestPingServer: ok",!0,p):gi(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),gi(g,"TestPingServer: error",!1,p)})}function gi(a,p,g,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(g)}catch{}}function h6(){this.g=new QM}function m6(a,p,g){const k=g||"";try{fT(a,function(V,j){let W=V;u(V)&&(W=dg(V)),p.push(k+j+"="+encodeURIComponent(W))})}catch(V){throw p.push(k+"type="+encodeURIComponent("_badmap")),V}}function Sp(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Sp,hg),Sp.prototype.g=function(){return new Cp(this.l,this.j)},Sp.prototype.i=function(a){return function(){return a}}({});function Cp(a,p){kt.call(this),this.D=a,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Cp,kt),t=Cp.prototype,t.open=function(a,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=p,this.readyState=1,xl(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(p.body=a),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,El(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xT(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function xT(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var p=a.value?a.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!a.done}))&&(this.response=this.responseText+=p)}a.done?El(this):xl(this),this.readyState==3&&xT(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,El(this))},t.Qa=function(a){this.g&&(this.response=a,El(this))},t.ga=function(){this.g&&El(this)};function El(a){a.readyState=4,a.l=null,a.j=null,a.v=null,xl(a)}t.setRequestHeader=function(a,p){this.u.append(a,p)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=p.next();return a.join(`\r
`)};function xl(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kT(a){let p="";return F(a,function(g,k){p+=k,p+=":",p+=g,p+=`\r
`}),p}function kg(a,p,g){e:{for(k in g){var k=!1;break e}k=!0}k||(g=kT(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):be(a,p,g))}function Ue(a){kt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ue,kt);var f6=/^https?$/i,g6=["POST","PUT"];t=Ue.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,p,g,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);p=p?p.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gg.g(),this.v=this.o?Jk(this.o):Jk(gg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(a),!0),this.B=!1}catch(j){TT(this,j);return}if(a=g||"",g=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)g.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())g.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(g6,p,void 0))||k||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of g)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ST(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){TT(this,j)}};function TT(a,p){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=p,a.m=5,IT(a),Ap(a)}function IT(a){a.A||(a.A=!0,Pt(a,"complete"),Pt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Pt(this,"complete"),Pt(this,"abort"),Ap(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ap(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bT(this):this.bb())},t.bb=function(){bT(this)};function bT(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vr(a)!=4||a.Z()!=2)){if(a.u&&vr(a)==4)Kk(a.Ea,0,a);else if(Pt(a,"readystatechange"),vr(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var k;if(k=W===0){var V=String(a.D).match(gT)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),k=!f6.test(V?V.toLowerCase():"")}g=k}if(g)Pt(a,"complete"),Pt(a,"success");else{a.m=6;try{var j=2<vr(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",IT(a)}}finally{Ap(a)}}}}function Ap(a,p){if(a.g){ST(a);const g=a.g,k=a.v[0]?()=>{}:null;a.g=null,a.v=null,p||Pt(a,"ready");try{g.onreadystatechange=k}catch{}}}function ST(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function vr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var p=this.g.responseText;return a&&p.indexOf(a)==0&&(p=p.substring(a.length)),KM(p)}};function CT(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function y6(a){const p={};a=(a.g&&2<=vr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<a.length;k++){if(_(a[k]))continue;var g=A(a[k]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[V]||[];p[V]=j,j.push(g)}S(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kl(a,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||p}function AT(a){this.Aa=0,this.i=[],this.j=new gl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kl("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kl("baseRetryDelayMs",5e3,a),this.cb=kl("retryDelaySeedMs",1e4,a),this.Wa=kl("forwardChannelMaxRetries",2,a),this.wa=kl("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new uT(a&&a.concurrentRequestLimit),this.Da=new h6,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=AT.prototype,t.la=8,t.G=1,t.connect=function(a,p,g,k){Lt(0),this.W=a,this.H=p||{},g&&k!==void 0&&(this.H.OSID=g,this.H.OAID=k),this.F=this.X,this.I=OT(this,null,this.W),Rp(this)};function Tg(a){if(NT(a),a.G==3){var p=a.U++,g=yr(a.I);if(be(g,"SID",a.K),be(g,"RID",p),be(g,"TYPE","terminate"),Tl(a,g),p=new mi(a,a.j,p),p.L=2,p.v=bp(yr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=p.v,g=!0),g||(p.g=FT(p.j,null),p.g.ea(p.v)),p.F=Date.now(),kp(p)}jT(a)}function Np(a){a.g&&(bg(a),a.g.cancel(),a.g=null)}function NT(a){Np(a),a.u&&(l.clearTimeout(a.u),a.u=null),Pp(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Rp(a){if(!pT(a.h)&&!a.s){a.s=!0;var p=a.Ga;$e||ie(),U||($e(),U=!0),ne.add(p,a),a.B=0}}function v6(a,p){return dT(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=p.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=fl(f(a.Ga,a,p),MT(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new mi(this,this.j,a);let j=this.o;if(this.S&&(j?(j=y(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var k=this.i[g];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=PT(this,V,p),g=yr(this.I),be(g,"RID",a),be(g,"CVER",22),this.D&&be(g,"X-HTTP-Session-Id",this.D),Tl(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(kT(j)))+"&"+p:this.m&&kg(g,this.m,j)),xg(this.h,V),this.Ua&&be(g,"TYPE","init"),this.P?(be(g,"$req",p),be(g,"SID","null"),V.T=!0,vg(V,g,null)):vg(V,g,p),this.G=2}}else this.G==3&&(a?RT(this,a):this.i.length==0||pT(this.h)||RT(this))};function RT(a,p){var g;p?g=p.l:g=a.U++;const k=yr(a.I);be(k,"SID",a.K),be(k,"RID",g),be(k,"AID",a.T),Tl(a,k),a.m&&a.o&&kg(k,a.m,a.o),g=new mi(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),p&&(a.i=p.D.concat(a.i)),p=PT(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xg(a.h,g),vg(g,k,p)}function Tl(a,p){a.H&&F(a.H,function(g,k){be(p,k,g)}),a.l&&fT({},function(g,k){be(p,k,g)})}function PT(a,p,g){g=Math.min(a.i.length,g);var k=a.l?f(a.l.Na,a.l,a):null;e:{var V=a.i;let j=-1;for(;;){const W=["count="+g];j==-1?0<g?(j=V[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let we=!0;for(let ht=0;ht<g;ht++){let me=V[ht].g;const Tt=V[ht].map;if(me-=j,0>me)j=Math.max(0,V[ht].g-100),we=!1;else try{m6(Tt,W,"req"+me+"_")}catch{k&&k(Tt)}}if(we){k=W.join("&");break e}}}return a=a.i.splice(0,g),p.D=a,k}function LT(a){if(!a.g&&!a.u){a.Y=1;var p=a.Fa;$e||ie(),U||($e(),U=!0),ne.add(p,a),a.v=0}}function Ig(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=fl(f(a.Fa,a),MT(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,DT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=fl(f(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Np(this),DT(this))};function bg(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function DT(a){a.g=new mi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var p=yr(a.qa);be(p,"RID","rpc"),be(p,"SID",a.K),be(p,"AID",a.T),be(p,"CI",a.F?"0":"1"),!a.F&&a.ja&&be(p,"TO",a.ja),be(p,"TYPE","xmlhttp"),Tl(a,p),a.m&&a.o&&kg(p,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=bp(yr(p)),g.m=null,g.P=!0,aT(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Np(this),Ig(this),Lt(19))};function Pp(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function VT(a,p){var g=null;if(a.g==p){Pp(a),bg(a),a.g=null;var k=2}else if(Eg(a.h,p))g=p.D,hT(a.h,p),k=1;else return;if(a.G!=0){if(p.o)if(k==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=a.B;k=_p(),Pt(k,new rT(k,g)),Rp(a)}else LT(a);else if(V=p.s,V==3||V==0&&0<p.X||!(k==1&&v6(a,p)||k==2&&Ig(a)))switch(g&&0<g.length&&(p=a.h,p.i=p.i.concat(g)),V){case 1:us(a,5);break;case 4:us(a,10);break;case 3:us(a,6);break;default:us(a,2)}}}function MT(a,p){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*p}function us(a,p){if(a.j.info("Error code "+p),p==2){var g=f(a.fb,a),k=a.Xa;const V=!k;k=new cs(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Tp(k,"https"),bp(k),V?p6(k.toString(),g):d6(k.toString(),g)}else Lt(2);a.G=0,a.l&&a.l.sa(p),jT(a),NT(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function jT(a){if(a.G=0,a.ka=[],a.l){const p=mT(a.h);(p.length!=0||a.i.length!=0)&&(N(a.ka,p),N(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function OT(a,p,g){var k=g instanceof cs?yr(g):new cs(g);if(k.g!="")p&&(k.g=p+"."+k.g),Ip(k,k.s);else{var V=l.location;k=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var j=new cs(null);k&&Tp(j,k),p&&(j.g=p),V&&Ip(j,V),g&&(j.l=g),k=j}return g=a.D,p=a.ya,g&&p&&be(k,g,p),be(k,"VER",a.la),Tl(a,k),k}function FT(a,p,g){if(p&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=a.Ca&&!a.pa?new Ue(new Sp({eb:g})):new Ue(a.pa),p.Ha(a.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UT(){}t=UT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lp(){}Lp.prototype.g=function(a,p){return new Jt(a,p)};function Jt(a,p){kt.call(this),this.g=new AT(p),this.l=a,this.h=p&&p.messageUrlParams||null,a=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(a?a["X-WebChannel-Content-Type"]=p.messageContentType:a={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(a?a["X-WebChannel-Client-Profile"]=p.va:a={"X-WebChannel-Client-Profile":p.va}),this.g.S=a,(a=p&&p.Sb)&&!_(a)&&(this.g.m=a),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,a=this.h,a!==null&&p in a&&(a=this.h,p in a&&delete a[p])),this.j=new Ao(this)}T(Jt,kt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Tg(this.g)},Jt.prototype.o=function(a){var p=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=dg(a),a=g);p.i.push(new t6(p.Ya++,a)),p.G==3&&Rp(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,Jt.aa.N.call(this)};function zT(a){mg.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var p=a.__sm__;if(p){e:{for(const g in p){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,p=p!==null&&a in p?p[a]:void 0),this.data=p}else this.data=a}T(zT,mg);function BT(){fg.call(this),this.status=1}T(BT,fg);function Ao(a){this.g=a}T(Ao,UT),Ao.prototype.ua=function(){Pt(this.g,"a")},Ao.prototype.ta=function(a){Pt(this.g,new zT(a))},Ao.prototype.sa=function(a){Pt(this.g,new BT)},Ao.prototype.ra=function(){Pt(this.g,"b")},Lp.prototype.createWebChannel=Lp.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,k1=function(){return new Lp},x1=function(){return _p()},E1=as,Om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ep.NO_ERROR=0,Ep.TIMEOUT=8,Ep.HTTP_ERROR=6,_u=Ep,iT.COMPLETE="complete",_1=iT,Zk.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",kt.prototype.listen=kt.prototype.K,ja=Zk,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,w1=Ue}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const T1="@firebase/firestore",I1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new dm("@firebase/firestore");function ro(){return zi.logLevel}function G(t,...e){if(zi.logLevel<=le.DEBUG){const n=e.map(Fm);zi.debug(`Firestore (${no}): ${t}`,...n)}}function cr(t,...e){if(zi.logLevel<=le.ERROR){const n=e.map(Fm);zi.error(`Firestore (${no}): ${t}`,...n)}}function io(t,...e){if(zi.logLevel<=le.WARN){const n=e.map(Fm);zi.warn(`Firestore (${no}): ${t}`,...n)}}function Fm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,b1(t,r,n)}function b1(t,e,n){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||b1(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class HP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GP{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new S1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class KP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function zm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Bm(i)===Bm(s)?ce(i,s):Bm(i)?1:-1}return ce(t.length,e.length)}const JP=55296,ZP=57343;function Bm(t){const e=t.charCodeAt(0);return e>=JP&&e<=ZP}function so(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__name__";class Dn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Dn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=Dn.isNumericId(e),i=Dn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Dn.extractNumericId(e).compare(Dn.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class ye extends Dn{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const e4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Dn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return e4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A1}static keyField(){return new ut([A1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(ye.fromString(e))}static fromName(e){return new X(ye.fromString(e).popFirst(5))}static empty(){return new X(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t4(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R1(t){if(!X.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P1(t){if(X.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function L1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Et(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eu(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function n4(t,e){if(e<=0)throw new $(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function Oa(t,e){if(!L1(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=-62135596800,V1=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*V1);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D1)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V1}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oa(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:He("string",Ie._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ie(0,0))}static max(){return new te(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=-1;function r4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new Zr(i,X.empty(),e)}function i4(t){return new Zr(t.readTime,t.key,Fa)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(te.min(),X.empty(),Fa)}static max(){return new Zr(te.max(),X.empty(),Fa)}}function s4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==o4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function l4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Ua(t){return t==null}function ku(t){return t===0&&1/t==-1/0}function c4(t){return typeof t=="number"&&Number.isInteger(t)&&!ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="";function u4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j1(e)),e=p4(t.get(n),e);return j1(e)}function p4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case M1:n+="";break;default:n+=s}}return n}function j1(t){return t+M1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U1(this.data.getIterator())}getIteratorFrom(e){return new U1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class U1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Kt([])}unionWith(e){let n=new Ze(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new z1("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=d4.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="server_timestamp",$1="__type__",W1="__previous_value__",q1="__local_write_time__";function Iu(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$1])==null?void 0:r.stringValue)===B1}function bu(t){const e=t.mapValue.fields[W1];return Iu(e)?bu(e):e}function za(t){const e=ti(t.mapValue.fields[q1].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,i,s,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Su="(default)";class Ba{constructor(e,n){this.projectId=e,this.database=n||Su}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database===Su}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="__type__",G1="__max__",Cu={mapValue:{fields:{__type__:{stringValue:G1}}}},K1="__vector__",Au="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iu(t)?4:f4(t)?9007199254740991:m4(t)?10:11:J(28295,{value:t})}function Vn(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return za(t).isEqual(za(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ti(i.timestampValue),l=ti(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ni(i.bytesValue).isEqual(ni(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),l=Be(s.doubleValue);return o===l?ku(o)===ku(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return so(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(O1(o)!==O1(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vn(o[c],l[c])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function $a(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Be(s.integerValue||s.doubleValue),c=Be(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Q1(t.timestampValue,e.timestampValue);case 4:return Q1(za(t),za(e));case 5:return zm(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ni(s),c=ni(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=ce(l[u],c[u]);if(h!==0)return h}return ce(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ce(Be(s.latitude),Be(o.latitude));return l!==0?l:ce(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,w,T,I;const l=s.fields||{},c=o.fields||{},u=(f=l[Au])==null?void 0:f.arrayValue,h=(w=c[Au])==null?void 0:w.arrayValue,m=ce(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return m!==0?m:Y1(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cu.mapValue&&o===Cu.mapValue)return 0;if(s===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=zm(c[m],h[m]);if(f!==0)return f;const w=lo(l[c[m]],u[h[m]]);if(w!==0)return w}return ce(c.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function Q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ti(t),r=ti(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Y1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=lo(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function co(t){return Wm(t)}function Wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wm(n.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function Nu(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bu(t);return e?16+Nu(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Nu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ei(r.fields,(s,o)=>{i+=s.length+Nu(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function Ru(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qm(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function X1(t){return!!t&&"nullValue"in t}function J1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function m4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[H1])==null?void 0:r.stringValue)===K1}function Wa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wa(t.arrayValue.values[n]);return e}return{...t}}function f4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===G1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Wa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(Wa(this.value))}}function Z1(t){const e=[];return ei(t.fields,(n,r)=>{const i=new ut([n]);if(Pu(r)){const s=Z1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new rt(e,0,te.min(),te.min(),te.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,te.min(),te.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,te.min(),te.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=lo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function g4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Ge extends nE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v4(e,n,r):n==="array-contains"?new E4(e,r):n==="in"?new x4(e,r):n==="not-in"?new k4(e,r):n==="array-contains-any"?new T4(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w4(e,r):new _4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends nE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xn(e,n)}matches(e){return rE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(t){return t.op==="and"}function iE(t){return y4(t)&&rE(t)}function y4(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function Gm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+co(t.value);if(iE(t))return t.filters.map(e=>Gm(e)).join(",");{const e=t.filters.map(n=>Gm(n)).join(",");return`${t.op}(${e})`}}function sE(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof xn?function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&sE(o,i.filters[l]),!0):!1}(t,e):void J(19439)}function oE(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(oE).join(" ,")+"}"}(t):"Filter"}class v4 extends Ge{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class w4 extends Ge{constructor(e,n){super(e,"in",n),this.keys=aE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _4 extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=aE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class E4 extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&$a(n.arrayValue,this.value)}}class x4 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$a(this.value.arrayValue,n)}}class k4 extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$a(this.value.arrayValue,n)}}class T4 extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$a(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function lE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new I4(t,e,n,r,i,s,o)}function Km(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.Te=n}return e.Te}function Qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function Ym(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b4(t,e,n,r,i,s,o,l){return new Bi(t,e,n,r,i,s,o,l)}function Lu(t){return new Bi(t)}function cE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xm(t){return t.collectionGroup!==null}function po(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ze(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new qa(s,r))}),n.has(ut.keyField().canonicalString())||e.Ie.push(new qa(ut.keyField(),r))}return e.Ie}function Mn(t){const e=re(t);return e.Ee||(e.Ee=S4(e,po(t))),e.Ee}function S4(t,e){if(t.limitType==="F")return lE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qa(i.field,s)});const n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return lE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jm(t,e){const n=t.filters.concat([e]);return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Du(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return Qm(Mn(t),Mn(e))&&t.limitType===e.limitType}function uE(t){return`${Km(Mn(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oE(i)).join(", ")}]`),Ua(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Mu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of po(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=eE(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,po(r),i)||r.endAt&&!function(o,l,c){const u=eE(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,po(r),i))}(t,e)}function C4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pE(t){return(e,n)=>{let r=!1;for(const i of po(t)){const s=A4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function A4(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?lo(c,u):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new Me(X.comparator);function ur(){return N4}const dE=new Me(X.comparator);function Ha(...t){let e=dE;for(const n of t)e=e.insert(n.key,n);return e}function hE(t){let e=dE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return Ga()}function mE(){return Ga()}function Ga(){return new $i(t=>t.toString(),(t,e)=>t.isEqual(e))}const R4=new Me(X.comparator),P4=new Ze(X.comparator);function ue(...t){let e=P4;for(const n of t)e=e.add(n);return e}const L4=new Ze(ce);function D4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function fE(t){return{integerValue:""+t}}function V4(t,e){return c4(e)?fE(e):Zm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function M4(t,e,n){return t instanceof Ou?function(i,s){const o={fields:{[$1]:{stringValue:B1},[q1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iu(s)&&(s=bu(s)),s&&(o.fields[W1]=s),{mapValue:o}}(n,e):t instanceof Ka?yE(t,e):t instanceof Qa?vE(t,e):function(i,s){const o=gE(i,s),l=wE(o)+wE(i.Ae);return qm(o)&&qm(i.Ae)?fE(l):Zm(i.serializer,l)}(t,e)}function j4(t,e,n){return t instanceof Ka?yE(t,e):t instanceof Qa?vE(t,e):n}function gE(t,e){return t instanceof Fu?function(r){return qm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ou extends ju{}class Ka extends ju{constructor(e){super(),this.elements=e}}function yE(t,e){const n=_E(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends ju{constructor(e){super(),this.elements=e}}function vE(t,e){let n=_E(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class Fu extends ju{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function wE(t){return Be(t.integerValue||t.doubleValue)}function _E(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ka&&i instanceof Ka||r instanceof Qa&&i instanceof Qa?so(r.elements,i.elements,Vn):r instanceof Fu&&i instanceof Fu?Vn(r.Ae,i.Ae):r instanceof Ou&&i instanceof Ou}(t.transform,e.transform)}class F4{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zu{}function EE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ja(t.key,Ke.none()):new Xa(t.key,t.data,Ke.none());{const n=t.data,r=Rt.empty();let i=new Ze(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ii(t.key,r,new Kt(i.toArray()),Ke.none())}}function U4(t,e,n){t instanceof Xa?function(i,s,o){const l=i.value.clone(),c=TE(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(i,s,o){if(!Uu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=TE(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(kE(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof Xa?function(s,o,l,c){if(!Uu(s.precondition,o))return l;const u=s.value.clone(),h=IE(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(s,o,l,c){if(!Uu(s.precondition,o))return l;const u=IE(s.fieldTransforms,c,o),h=o.data;return h.setAll(kE(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return Uu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function z4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=gE(r.transform,i||null);s!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function xE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&so(r,i,(s,o)=>O4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xa extends zu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends zu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TE(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,j4(o,l,n[i]))}return r}function IE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,M4(s,o,e))}return r}class Ja extends zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bE extends zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&U4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=EE(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,r)=>xE(n,r))&&so(this.baseMutations,e.baseMutations,(n,r)=>xE(n,r))}}class ef{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return R4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ef(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function SE(t){switch(t){case O.OK:return J(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function CE(t){if(t===void 0)return cr("GRPC error has no .code"),O.UNKNOWN;switch(t){case Qe.OK:return O.OK;case Qe.CANCELLED:return O.CANCELLED;case Qe.UNKNOWN:return O.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return O.INTERNAL;case Qe.UNAVAILABLE:return O.UNAVAILABLE;case Qe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Qe.NOT_FOUND:return O.NOT_FOUND;case Qe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Qe.ABORTED:return O.ABORTED;case Qe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Qe.DATA_LOSS:return O.DATA_LOSS;default:return J(39323,{code:t})}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Jr([4294967295,4294967295],0);function AE(t){const e=q4().encode(t),n=new v1;return n.update(e),new Uint8Array(n.digest())}function NE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,s],0)]}class tf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Za(`Invalid padding: ${n}`);if(r<0)throw new Za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Za(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare(H4)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AE(e),[r,i]=NE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tf(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=AE(e),[r,i]=NE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,el.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bu(te.min(),i,new Me(ce),ur(),ue())}}class el{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new el(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RE{constructor(e,n){this.targetId=e,this.Ce=n}}class PE{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LE{constructor(){this.ve=0,this.Fe=DE(),this.Me=dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:s})}}),new el(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Wu(),this.He=Wu(),this.Ye=new Me(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ym(s))if(r===0){const o=new X(s.path);this.et(n,o,rt.newNoDocument(o,te.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ni(r).toUint8Array()}catch(c){if(c instanceof z1)return io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new tf(o,i,s)}catch(c){return io(c instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Ym(l.target)){const c=new X(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,rt.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ue();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Bu(e,n,this.Ye,this.je,r);return this.je=ur(),this.Je=Wu(),this.He=Wu(),this.Ye=new Me(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new LE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new Me(X.comparator)}function DE(){return new Me(X.comparator)}const K4={asc:"ASCENDING",desc:"DESCENDING"},Q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y4={and:"AND",or:"OR"};class X4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nf(t,e){return t.useProto3Json||Ua(e)?e:{value:e}}function qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J4(t,e){return qu(t,e.toTimestamp())}function Qt(t){return pe(!!t,49232),te.fromTimestamp(function(n){const r=ti(n);return new Ie(r.seconds,r.nanos)}(t))}function rf(t,e){return sf(t,e).canonicalString()}function sf(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ME(t){const e=ye.fromString(t);return pe($E(e),10190,{key:e.toString()}),e}function Hu(t,e){return rf(t.databaseId,e.path)}function tl(t,e){const n=ME(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(OE(n))}function jE(t,e){return rf(t.databaseId,e)}function Z4(t){const e=ME(t);return e.length===4?ye.emptyPath():OE(e)}function of(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OE(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FE(t,e,n){return{name:Hu(t,e),fields:n.value.mapValue.fields}}function eL(t,e){return"found"in e?function(r,i){pe(!!i.found,43571),i.found.name,i.found.updateTime;const s=tl(r,i.found.name),o=Qt(i.found.updateTime),l=i.found.createTime?Qt(i.found.createTime):te.min(),c=new Rt({mapValue:{fields:i.found.fields}});return rt.newFoundDocument(s,o,l,c)}(t,e):"missing"in e?function(r,i){pe(!!i.missing,3894),pe(!!i.readTime,22933);const s=tl(r,i.missing),o=Qt(i.readTime);return rt.newNoDocument(s,o)}(t,e):J(7234,{result:e})}function tL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(pe(h===void 0||typeof h=="string",58123),dt.fromBase64String(h||"")):(pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?O.UNKNOWN:CE(u.code);return new $(h,u.message||"")}(o);n=new PE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tl(t,r.document.name),s=Qt(r.document.updateTime),o=r.document.createTime?Qt(r.document.createTime):te.min(),l=new Rt({mapValue:{fields:r.document.fields}}),c=rt.newFoundDocument(i,s,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new $u(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tl(t,r.document),s=r.readTime?Qt(r.readTime):te.min(),o=rt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new $u([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tl(t,r.document),s=r.removedTargetIds||[];n=new $u([],s,i,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new W4(i,s),l=r.targetId;n=new RE(l,o)}}return n}function UE(t,e){let n;if(e instanceof Xa)n={update:FE(t,e.key,e.value)};else if(e instanceof Ja)n={delete:Hu(t,e.key)};else if(e instanceof ii)n={update:FE(t,e.key,e.data),updateMask:uL(e.fieldMask)};else{if(!(e instanceof bE))return J(16599,{Vt:e.type});n={verify:Hu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:J4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)}(t,e.precondition)),n}function nL(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Qt(i.updateTime):Qt(s);return o.isEqual(te.min())&&(o=Qt(s)),new F4(o,i.transformResults||[])}(n,e))):[]}function rL(t,e){return{documents:[jE(t,e.path)]}}function iL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jE(t,i);const s=function(u){if(u.length!==0)return BE(xn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:mo(f.field),direction:aL(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=nf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function sL(t){let e=Z4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const f=zE(m);return f instanceof xn&&iE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(T){return new qa(fo(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(m){let f;return f=typeof m=="object"?m.value:m,Ua(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,w=m.values||[];return new uo(w,f)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const f=!m.before,w=m.values||[];return new uo(w,f)}(n.endAt)),b4(e,i,o,s,l,"F",c,u)}function oL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fo(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fo(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fo(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(r=>zE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function aL(t){return K4[t]}function lL(t){return Q4[t]}function cL(t){return Y4[t]}function mo(t){return{fieldPath:t.canonicalString()}}function fo(t){return ut.fromServerFormat(t.fieldPath)}function BE(t){return t instanceof Ge?function(n){if(n.op==="=="){if(J1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(X1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(X1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:lL(n.op),value:n.value}}}(t):t instanceof xn?function(n){const r=n.getFilters().map(i=>BE(i));return r.length===1?r[0]:{compositeFilter:{op:cL(n.op),filters:r}}}(t):J(54877,{filter:t})}function uL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $E(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,r,i,s=te.min(),o=te.min(),l=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.yt=e}}function dL(t){const e=sL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Du(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.Cn=new mL}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Zr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class mL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(qE,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LruGarbageCollector",fL=1048576;function GE([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class gL{constructor(e){this.Ir=e,this.buffer=new Ze(GE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(HE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?G(HE,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)})}}class vL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(xu.ce);const r=new gL(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(WE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),ro()<=le.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function wL(t,e){return new vL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ya(r.mutation,i,Kt.empty(),Ie.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ha();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=ur();const o=Ga(),l=function(){return Ga()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ii)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ya(h.mutation,u,h.mutation.getFieldMask(),Ie.now())):o.set(u.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>l.set(u,new EL(h,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new Me((o,l)=>o-l),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Kt.empty();h=l.applyToLocalView(u,h),r.set(c,h);const m=(i.get(l.batchId)||ue()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,m=mE();h.forEach(f=>{if(!s.has(f)){const w=EE(n.get(f),r.get(f));w!==null&&m.set(f,w),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Wi());let l=Fa,c=s;return o.next(u=>z.forEach(u,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ue())).next(h=>({batchId:l,changes:hE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ha();return this.indexManager.getCollectionParents(e,s).next(l=>z.forEach(l,c=>{const u=function(m,f){return new Bi(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,rt.newInvalidDocument(h)))});let l=Ha();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Ya(h.mutation,u,Kt.empty(),Ie.now()),Mu(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:dL(i.bundledQuery),readTime:Qt(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.overlays=new Me(X.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new X(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Wi(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=i)););return z.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $4(n,r));let s=this.qr.get(n);s===void 0&&(s=ue(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.Qr=new Ze(it.$r),this.Ur=new Ze(it.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new it(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new ye([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new ye([])),r=new it(n,e),i=new it(n,e+1);let s=ue();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(it.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B4(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new it(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ce);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new it(new X(s),0);let l=new Ze(ce);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new it(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.ri=e,this.docs=function(){return new Me(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ur();const o=n.path,l=new X(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s4(i4(h),r)<=0||(i.has(h.key)||Mu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CL(this)}getSize(e){return z.resolve(this.size)}}class CL extends _L{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.persistence=e,this.si=new $i(n=>Km(n),Qm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new af,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.ui={},this.overlays={},this.ci=new xu(0),this.li=!1,this.li=!0,this.hi=new IL,this.referenceDelegate=e(this),this.Pi=new AL(this),this.indexManager=new hL,this.remoteDocumentCache=function(i){return new SL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pL(n),this.Ii=new kL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new NL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class NL extends a4{constructor(e){super(),this.currentSequenceNumber=e}}class lf{constructor(e){this.persistence=e,this.Ri=new af,this.Vi=null}static mi(e){return new lf(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gu{constructor(e,n){this.persistence=e,this.pi=new $i(r=>u4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=wL(this,n)}static mi(e,n){return new Gu(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nu(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uA()?8:l4(wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RL;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ro()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ro()<=le.DEBUG&&G("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ro()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):z.resolve())}ys(e,n){if(cE(n))return z.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Du(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(e,Du(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return cE(n)||i.isEqual(te.min())?z.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?z.resolve(null):(ro()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ho(n)),this.vs(e,o,n,r4(i,Fa)).next(l=>l))})}Ds(e,n){let r=new Ze(pE(e));return n.forEach((i,s)=>{Mu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ro()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="LocalStore",LL=3e8;class DL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(ce),this.xs=new $i(s=>Km(s),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VL(t,e,n,r){return new DL(t,e,n,r)}async function QE(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ue();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function ML(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const m=u.batch,f=m.keys();let w=z.resolve();return f.forEach(T=>{w=w.next(()=>h.getEntry(c,T)).next(I=>{const N=u.docVersions.get(T);pe(N!==null,48541),I.version.compareTo(N)<0&&(m.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),h.addEntry(I)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ue();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YE(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jL(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const f=i.get(m);if(!f)return;l.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,m)));let w=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(m,w),function(I,N,v){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=LL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,w,h)&&l.push(n.Pi.updateTargetData(s,w))});let c=ur(),u=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),l.push(OL(s,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function OL(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ur();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G(uf,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function FL(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UL(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function pf(t,e,n){const r=re(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ao(o))throw o;G(uf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function XE(t,e,n){const r=re(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=re(c),f=m.xs.get(h);return f!==void 0?z.resolve(m.Ms.get(f)):m.Pi.getTargetData(u,h)}(r,o,Mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(l=>(zL(r,C4(e),l),{documents:l,Qs:s})))}function zL(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class JE{constructor(){this.activeTargetIds=D4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="ConnectivityMonitor";class ex{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(ZE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(ZE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function df(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="RestConnection",WL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Su?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=df(),l=this.zo(e,n.toUriEncodedString());G(hf,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(l),h=Ks(u);return this.Jo(e,l,c,r,h).then(m=>(G(hf,`Received RPC '${e}' ${o}: `,m),m),m=>{throw io(hf,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=WL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class GL extends qL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=df();return new Promise((l,c)=>{const u=new w1;u.setWithCredentials(!0),u.listenOnce(_1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _u.NO_ERROR:const m=u.getResponseJson();G(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case _u.TIMEOUT:G(xt,`RPC '${e}' ${o} timed out`),c(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const f=u.getStatus();if(G(xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const I=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(_)>=0?_:O.UNKNOWN}(T.status);c(new $(I,T.message))}else c(new $(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(O.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(xt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=df(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k1(),l=x1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");G(xt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let f=!1,w=!1;const T=new HL({Yo:N=>{w?G(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(f||(G(xt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),G(xt,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},Zo:()=>m.close()}),I=(N,v,_)=>{N.listen(v,x=>{try{_(x)}catch(L){setTimeout(()=>{throw L},0)}})};return I(m,ja.EventType.OPEN,()=>{w||(G(xt,`RPC '${e}' stream ${i} transport opened.`),T.o_())}),I(m,ja.EventType.CLOSE,()=>{w||(w=!0,G(xt,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(m))}),I(m,ja.EventType.ERROR,N=>{w||(w=!0,io(xt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.a_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),I(m,ja.EventType.MESSAGE,N=>{var v;if(!w){const _=N.data[0];pe(!!_,16349);const x=_,L=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(L){G(xt,`RPC '${e}' stream ${i} received error:`,L);const M=L.status;let F=function(b){const C=Qe[b];if(C!==void 0)return CE(C)}(M),S=L.message;F===void 0&&(F=O.INTERNAL,S="Unknown error status: "+M+" with message "+L.message),w=!0,T.a_(new $(F,S)),m.close()}else G(xt,`RPC '${e}' stream ${i} received:`,_),T.u_(_)}}),I(l,E1.STAT_EVENT,N=>{N.stat===Om.PROXY?G(xt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Om.NOPROXY&&G(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){return new X4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="PersistentStream";class nx{constructor(e,n,r,i,s,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ff(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(tx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(tx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KL extends nx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tL(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Qt(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=of(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Ym(c)?{documents:rL(s,c)}:{query:iL(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=VE(s,o.resumeToken);const u=nf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){l.readTime=qu(s,o.snapshotVersion.toTimestamp());const u=nf(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=oL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=of(this.serializer),n.removeTarget=e,this.q_(n)}}class QL extends nx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nL(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=of(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UE(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{}class XL extends YL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,sf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,sf(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class ZL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Hi(this)&&(G(qi,"Restarting streams for network reachability change."),await async function(c){const u=re(c);u.Ea.add(4),await nl(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Yu(u)}(this))})}),this.Ra=new JL(r,i)}}async function Yu(t){if(Hi(t))for(const e of t.da)await e(!0)}async function nl(t){for(const e of t.da)await e(!1)}function rx(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wf(n)?vf(n):yo(n).O_()&&yf(n,e))}function gf(t,e){const n=re(t),r=yo(n);n.Ia.delete(e),r.O_()&&ix(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hi(n)&&n.Ra.set("Unknown"))}function yf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).Y_(e)}function ix(t,e){t.Va.Ue(e),yo(t).Z_(e)}function vf(t){t.Va=new G4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.Ra.ua()}function wf(t){return Hi(t)&&!yo(t).x_()&&t.Ia.size>0}function Hi(t){return re(t).Ea.size===0}function sx(t){t.Va=void 0}async function eD(t){t.Ra.set("Online")}async function tD(t){t.Ia.forEach((e,n)=>{yf(t,e)})}async function nD(t,e){sx(t),wf(t)?(t.Ra.ha(e),vf(t)):t.Ra.set("Unknown")}async function rD(t,e,n){if(t.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){G(qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xu(t,r)}else if(e instanceof $u?t.Va.Ze(e):e instanceof RE?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await YE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),ix(s,c);const m=new si(h.target,c,u,h.sequenceNumber);yf(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(qi,"Failed to raise snapshot:",r),await Xu(t,r)}}async function Xu(t,e,n){if(!ao(e))throw e;t.Ea.add(1),await nl(t),t.Ra.set("Offline"),n||(n=()=>YE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yu(t)})}function ox(t,e){return e().catch(n=>Xu(t,n,e))}async function Ju(t){const e=re(t),n=oi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;iD(e);)try{const i=await FL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,sD(e,i)}catch(i){await Xu(e,i)}ax(e)&&lx(e)}function iD(t){return Hi(t)&&t.Ta.length<10}function sD(t,e){t.Ta.push(e);const n=oi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ax(t){return Hi(t)&&!oi(t).x_()&&t.Ta.length>0}function lx(t){oi(t).start()}async function oD(t){oi(t).ra()}async function aD(t){const e=oi(t);for(const n of t.Ta)e.ea(n.mutations)}async function lD(t,e,n){const r=t.Ta.shift(),i=ef.from(r,e,n);await ox(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ju(t)}async function cD(t,e){e&&oi(t).X_&&await async function(r,i){if(function(o){return SE(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();oi(r).B_(),await ox(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ju(r)}}(t,e),ax(t)&&lx(t)}async function cx(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(qi,"RemoteStore received new credentials");const r=Hi(n);n.Ea.add(3),await nl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yu(n)}async function uD(t,e){const n=re(t);e?(n.Ea.delete(2),await Yu(n)):e||(n.Ea.add(2),await nl(n),n.Ra.set("Unknown"))}function yo(t){return t.ma||(t.ma=function(n,r,i){const s=re(n);return s.sa(),new KL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:eD.bind(null,t),t_:tD.bind(null,t),r_:nD.bind(null,t),H_:rD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),wf(t)?vf(t):t.Ra.set("Unknown")):(await t.ma.stop(),sx(t))})),t.ma}function oi(t){return t.fa||(t.fa=function(n,r,i){const s=re(n);return s.sa(),new QL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oD.bind(null,t),r_:cD.bind(null,t),ta:aD.bind(null,t),na:lD.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ju(t)):(await t.fa.stop(),t.Ta.length>0&&(G(qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new _f(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(t,e){if(cr("AsyncQueue",`${e}: ${t}`),ao(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.ga=new Me(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class wo{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new wo(e,n,vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dD{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=px(),s.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function px(){return new $i(t=>uE(t),Vu)}async function xf(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new pD,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Ef(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Tf(n)}async function kf(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hD(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Tf(n)}function mD(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Tf(t){t.Ca.forEach(e=>{e.next()})}var If,dx;(dx=If||(If={})).Ma="default",dx.Cache="cache";class bf{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==If.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.key=e}}class mx{constructor(e){this.key=e}}class fD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ue(),this.mutatedKeys=ue(),this.eu=pE(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ux,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const f=i.get(h),w=Mu(this.query,m)?m:null,T=!!f&&this.mutatedKeys.has(f.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;f&&w?f.data.isEqual(w.data)?T!==I&&(r.track({type:3,doc:w}),N=!0):this.su(f,w)||(r.track({type:2,doc:w}),N=!0,(c&&this.eu(w,c)>0||u&&this.eu(w,u)<0)&&(l=!0)):!f&&w?(r.track({type:0,doc:w}),N=!0):f&&!w&&(r.track({type:1,doc:f}),N=!0,(c||u)&&(l=!0)),N&&(w?(o=o.add(w),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(w,T){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:N})}};return I(w)-I(T)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new wo(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ux,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new mx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new hx(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sf="SyncEngine";class gD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yD{constructor(e){this.key=e,this.hu=!1}}class vD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $i(l=>uE(l),Vu),this.Iu=new Map,this.Eu=new Set,this.du=new Me(X.comparator),this.Au=new Map,this.Ru=new af,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wD(t,e,n=!0){const r=xx(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await fx(r,e,n,!0),i}async function _D(t,e){const n=xx(t);await fx(n,e,!0,!1)}async function fx(t,e,n,r){const i=await UL(t.localStore,Mn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await ED(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rx(t.remoteStore,i),l}async function ED(t,e,n,r,i){t.pu=(m,f,w)=>async function(I,N,v,_){let x=N.view.ru(v);x.Cs&&(x=await XE(I.localStore,N.query,!1).then(({documents:S})=>N.view.ru(S,x)));const L=_&&_.targetChanges.get(N.targetId),M=_&&_.targetMismatches.get(N.targetId)!=null,F=N.view.applyChanges(x,I.isPrimaryClient,L,M);return Ex(I,N.targetId,F.au),F.snapshot}(t,m,f,w);const s=await XE(t.localStore,e,!0),o=new fD(e,s.Qs),l=o.ru(s.documents),c=el.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Ex(t,n,u.au);const h=new gD(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function xD(t,e,n){const r=re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Vu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gf(r.remoteStore,i.targetId),Cf(r,i.targetId)}).catch(oo)):(Cf(r,i.targetId),await pf(r.localStore,i.targetId,!0))}async function kD(t,e){const n=re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gf(n.remoteStore,r.targetId))}async function TD(t,e,n){const r=RD(t);try{const i=await function(o,l){const c=re(o),u=Ie.now(),h=l.reduce((w,T)=>w.add(T.key),ue());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=ur(),I=ue();return c.Ns.getEntries(w,h).next(N=>{T=N,T.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,T)).next(N=>{m=N;const v=[];for(const _ of l){const x=z4(_,m.get(_.key).overlayedDocument);x!=null&&v.push(new ii(_.key,x,Z1(x.value.mapValue),Ke.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,v,l)}).next(N=>{f=N;const v=N.applyToLocalDocumentSet(m,I);return c.documentOverlayCache.saveOverlays(w,N.batchId,v)})}).then(()=>({batchId:f.batchId,changes:hE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Me(ce)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await rl(r,i.changes),await Ju(r.remoteStore)}catch(i){const s=Ef(i,"Failed to persist write");n.reject(s)}}async function gx(t,e){const n=re(t);try{const r=await jL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pe(o.hu,14607):i.removedDocuments.size>0&&(pe(o.hu,42227),o.hu=!1))}),await rl(n,r,e)}catch(r){await oo(r)}}function yx(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=re(o);c.onlineState=l;let u=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(l)&&(u=!0)}),u&&Tf(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ID(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(X.comparator);o=o.insert(s,rt.newNoDocument(s,te.min()));const l=ue().add(s),c=new Bu(te.min(),new Map,new Me(ce),o,l);await gx(r,c),r.du=r.du.remove(s),r.Au.delete(e),Af(r)}else await pf(r.localStore,e,!1).then(()=>Cf(r,e,n)).catch(oo)}async function bD(t,e){const n=re(t),r=e.batch.batchId;try{const i=await ML(n.localStore,e);wx(n,r,null),vx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rl(n,i)}catch(i){await oo(i)}}async function SD(t,e,n){const r=re(t);try{const i=await function(o,l){const c=re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(m=>(pe(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);wx(r,e,n),vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rl(r,i)}catch(i){await oo(i)}}function vx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function wx(t,e,n){const r=re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||_x(t,r)})}function _x(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Af(t))}function Ex(t,e,n){for(const r of n)r instanceof hx?(t.Ru.addReference(r.key,e),CD(t,r)):r instanceof mx?(G(Sf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_x(t,r.key)):J(19791,{wu:r})}function CD(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Sf,"New document in limbo: "+n),t.Eu.add(r),Af(t))}function Af(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(ye.fromString(e)),r=t.fu.next();t.Au.set(r,new yD(n)),t.du=t.du.insert(n,r),rx(t.remoteStore,new si(Mn(Lu(n.path)),r,"TargetPurposeLimboResolution",xu.ce))}}async function rl(t,e,n){const r=re(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=cf.As(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const h=re(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(u,f=>z.forEach(f.Es,w=>h.persistence.referenceDelegate.addReference(m,f.targetId,w)).next(()=>z.forEach(f.ds,w=>h.persistence.referenceDelegate.removeReference(m,f.targetId,w)))))}catch(m){if(!ao(m))throw m;G(uf,"Failed to update sequence numbers: "+m)}for(const m of u){const f=m.targetId;if(!m.fromCache){const w=h.Ms.get(f),T=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(f,I)}}}(r.localStore,s))}async function AD(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(Sf,"User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rl(n,r.Ls)}}function ND(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function xx(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ID.bind(null,e),e.Pu.H_=hD.bind(null,e.eventManager),e.Pu.yu=mD.bind(null,e.eventManager),e}function RD(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,e),e}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VL(this.persistence,new PL,e.initialUser,this.serializer)}Cu(e){return new KE(lf.mi,this.serializer)}Du(e){return new BL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class PD extends Zu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pe(this.persistence.referenceDelegate instanceof Gu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new KE(r=>Gu.mi(r,n),this.serializer)}}class Nf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dD}()}createDatastore(e){const n=Qu(e.databaseInfo.databaseId),r=function(s){return new GL(s)}(e.databaseInfo);return function(s,o,l,c){return new XL(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new ZL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yx(this.syncEngine,n,0),function(){return ex.v()?new ex:new $L}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,h){const m=new vD(i,s,o,l,c,u);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);G(qi,"RemoteStore shutting down."),s.Ea.add(5),await nl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nf.provider={build:()=>new Nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=re(i),l={documents:s.map(m=>Hu(o.serializer,m))},c=await o.Ho("BatchGetDocuments",o.serializer.databaseId,ye.emptyPath(),l,s.length),u=new Map;c.forEach(m=>{const f=eL(o.serializer,m);u.set(f.key.toString(),f)});const h=[];return s.forEach(m=>{const f=u.get(m.toString());pe(!!f,55234,{key:m}),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ja(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=X.fromPath(r);this.mutations.push(new bE(i,this.precondition(i)))}),await async function(r,i){const s=re(r),o={writes:i.map(l=>UE(s.serializer,l))};await s.Go("Commit",s.serializer.databaseId,ye.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw J(50498,{Gu:e.constructor.name});n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new ff(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new LD(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Ua(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!SE(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class VD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ai,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ai,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ef(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pf(t,e){t.asyncQueue.verifyOperationInProgress(),G(ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MD(t);G(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cx(e.remoteStore,i)),t._onlineComponents=e}async function MD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ai,"Using user provided OfflineComponentProvider");try{await Pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Pf(t,new Zu)}}else G(ai,"Using default OfflineComponentProvider"),await Pf(t,new PD(void 0));return t._offlineComponents}async function Lf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ai,"Using user provided OnlineComponentProvider"),await kx(t,t._uninitializedComponentsProvider._online)):(G(ai,"Using default OnlineComponentProvider"),await kx(t,new Nf))),t._onlineComponents}function jD(t){return Lf(t).then(e=>e.syncEngine)}function OD(t){return Lf(t).then(e=>e.datastore)}async function ep(t){const e=await Lf(t),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=xD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_D.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kD.bind(null,e.syncEngine),n}function FD(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const h=new Rf({next:f=>{h.Nu(),o.enqueueAndForget(()=>kf(s,m));const w=f.docs.has(l);!w&&f.fromCache?u.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&f.fromCache&&c&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new bf(Lu(l.path),h,{includeMetadataChanges:!0,qa:!0});return xf(s,m)}(await ep(t),t.asyncQueue,e,n,r)),r.promise}function UD(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const h=new Rf({next:f=>{h.Nu(),o.enqueueAndForget(()=>kf(s,m)),f.fromCache&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),m=new bf(l,h,{includeMetadataChanges:!0,qa:!0});return xf(s,m)}(await ep(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firestore.googleapis.com",Sx=!0;class Cx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bx,this.ssl=Sx}else this.host=e.host,this.ssl=e.ssl??Sx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fL)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tx(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qP;switch(r.type){case"firstParty":return new QP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ix.get(n);r&&(G("ComponentProvider","Removing Datastore"),Ix.delete(n),r.terminate())}(this),Promise.resolve()}}function zD(t,e,n,r={}){var u;t=Et(t,tp);const i=Ks(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Zw(`https://${l}`),t_("Firestore",!0)),s.host!==bx&&s.host!==l&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Vi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=_t.MOCK_USER;else{h=tA(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new _t(f)}t._authCredentials=new HP(new S1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jn(this.firestore,e,this._query)}}class je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Oa(n,je._jsonSchema))return new je(e,r||null,new X(ye.fromString(n.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:He("string",je._jsonSchemaVersion),referencePath:He("string")};class li extends jn{constructor(e,n,r){super(e,n,Lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new X(e))}withConverter(e){return new li(this.firestore,e,this._path)}}function cn(t,e,...n){if(t=Ce(t),N1("collection","path",e),t instanceof tp){const r=ye.fromString(e,...n);return P1(r),new li(t,null,r)}{if(!(t instanceof je||t instanceof li))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return P1(r),new li(t.firestore,null,r)}}function On(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=Um.newId()),N1("doc","path",e),t instanceof tp){const r=ye.fromString(e,...n);return R1(r),new je(t,null,new X(r))}{if(!(t instanceof je||t instanceof li))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return R1(r),new je(t.firestore,t instanceof li?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="AsyncQueue";class Nx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ff(this,"async_queue_retry"),this._c=()=>{const r=mf();r&&G(Ax,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ln;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;G(Ax,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",Rx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_f.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:Rx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Rx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class kn extends tp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Nx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nx(e),this._firestoreClient=void 0,await e}}}function BD(t,e){const n=typeof t=="object"?t:p_(),r=typeof t=="string"?t:Su,i=xm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ZC("firestore");s&&zD(i,...s)}return i}function _o(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$D(t),t._firestoreClient}function $D(t){var r,i,s;const e=t._freezeSettings(),n=function(l,c,u,h){return new h4(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Tx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yt(dt.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yt(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oa(e,Yt._jsonSchema))return Yt.fromBase64String(e.bytes)}}Yt._jsonSchemaVersion="firestore/bytes/1.0",Yt._jsonSchema={type:He("string",Yt._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Oa(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:He("string",Fn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oa(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Un(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:He("string",Un._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^__.*__$/;class qD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xa(e,this.data,n,this.fieldTransforms)}}class Lx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class Vf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ip(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Dx(this.Ac)&&WD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qu(e)}Cc(e,n,r,i=!1){return new Vf({Ac:e,methodName:n,Dc:r,path:ut.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gi(t){const e=t._freezeSettings(),n=Qu(t._databaseId);return new HD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function np(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Of("Data must be an object, but it was:",o,r);const l=Mx(r,o);let c,u;if(s.merge)c=new Kt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const f=Ff(e,m,n);if(!o.contains(f))throw new $(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ox(h,f)||h.push(f)}c=new Kt(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new qD(new Rt(l),c,u)}class rp extends Df{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}function Mf(t,e,n,r){const i=t.Cc(1,e,n);Of("Data must be an object, but it was:",i,r);const s=[],o=Rt.empty();ei(r,(c,u)=>{const h=Uf(e,c,n);u=Ce(u);const m=i.yc(h);if(u instanceof rp)s.push(h);else{const f=il(u,m);f!=null&&(s.push(h),o.set(h,f))}});const l=new Kt(s);return new Lx(o,l,i.fieldTransforms)}function jf(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[Ff(e,r,n)],c=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(Ff(e,s[f])),c.push(s[f+1]);const u=[],h=Rt.empty();for(let f=l.length-1;f>=0;--f)if(!Ox(u,l[f])){const w=l[f];let T=c[f];T=Ce(T);const I=o.yc(w);if(T instanceof rp)u.push(w);else{const N=il(T,I);N!=null&&(u.push(w),h.set(w,N))}}const m=new Kt(u);return new Lx(h,m,o.fieldTransforms)}function Vx(t,e,n,r=!1){return il(n,t.Cc(r?4:3,e))}function il(t,e){if(jx(t=Ce(t)))return Of("Unsupported field value:",e,t),Mx(t,e);if(t instanceof Df)return function(r,i){if(!Dx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=il(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ie.fromDate(r);return{timestampValue:qu(i.serializer,s)}}if(r instanceof Ie){const s=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qu(i.serializer,s)}}if(r instanceof Fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yt)return{bytesValue:VE(i.serializer,r._byteString)};if(r instanceof je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Un)return function(o,l){return{mapValue:{fields:{[H1]:{stringValue:K1},[Au]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Zm(l.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Eu(r)}`)}(t,e)}function Mx(t,e){const n={};return F1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(t,(r,i)=>{const s=il(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof Fn||t instanceof Yt||t instanceof je||t instanceof Df||t instanceof Un)}function Of(t,e,n){if(!jx(n)||!L1(n)){const r=Eu(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ff(t,e,n){if((e=Ce(e))instanceof Eo)return e._internalPath;if(typeof e=="string")return Uf(t,e);throw ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const GD=new RegExp("[~\\*/\\[\\]]");function Uf(t,e,n){if(e.search(GD)>=0)throw ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eo(...e.split("."))._internalPath}catch{throw ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ip(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(O.INVALID_ARGUMENT,l+t+c)}function Ox(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KD extends sl{data(){return super.data()}}function sp(t,e){return typeof e=="string"?Uf(t,e):e instanceof Eo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zf{}class op extends zf{}function ci(t,e,...n){let r=[];e instanceof zf&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Bf).length,l=s.filter(c=>c instanceof ap).length;if(o>1||o>0&&l>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ap extends op{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ap(e,n,r)}_apply(e){const n=this._parse(e);return $x(e._query,n),new jn(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=Gi(e.firestore);return function(s,o,l,c,u,h,m){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Bx(m,h);const T=[];for(const I of m)T.push(zx(c,s,I));f={arrayValue:{values:T}}}else f=zx(c,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Bx(m,h),f=Vx(l,o,m,h==="in"||h==="not-in");return Ge.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ol(t,e,n){const r=e,i=sp("where",t);return ap._create(i,r,n)}class Bf extends zf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)$x(o,c),o=Jm(o,c)}(e._query,n),new jn(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $f extends op{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $f(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qa(s,o)}(e._query,this._field,this._direction);return new jn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Bi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function al(t,e="asc"){const n=e,r=sp("orderBy",t);return $f._create(r,n)}class Wf extends op{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){return new jn(e.firestore,e.converter,Du(e._query,this._limit,this._limitType))}}function ll(t){return n4("limit",t),Wf._create("limit",t,"F")}class qf extends op{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new qf(e,n,r)}_apply(e){const n=QD(e,this.type,this._docOrFields,this._inclusive);return new jn(e.firestore,e.converter,function(i,s){return new Bi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Ux(...t){return qf._create("startAfter",t,!1)}function QD(t,e,n,r){if(n[0]=Ce(n[0]),n[0]instanceof sl)return function(s,o,l,c,u){if(!c)throw new $(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const h=[];for(const m of po(s))if(m.field.isKeyField())h.push(Ru(o,c.key));else{const f=c.data.field(m.field);if(Iu(f))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const w=m.field.canonicalString();throw new $(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}h.push(f)}return new uo(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gi(t.firestore);return function(o,l,c,u,h,m){const f=o.explicitOrderBy;if(h.length>f.length)throw new $(O.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let T=0;T<h.length;T++){const I=h[T];if(f[T].field.isKeyField()){if(typeof I!="string")throw new $(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof I}`);if(!Xm(o)&&I.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${I}' contains a slash.`);const N=o.path.child(ye.fromString(I));if(!X.isDocumentKey(N))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const v=new X(N);w.push(Ru(l,v))}else{const N=Vx(c,u,I);w.push(N)}}return new uo(w,m)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zx(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xm(e)&&n.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!X.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ru(t,new X(r))}if(n instanceof je)return Ru(t,n._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eu(n)}.`)}function Bx(t,e){if(!Array.isArray(t)||t.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $x(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Wx{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Au].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Be(o.doubleValue));return new Un(n)}convertGeoPoint(e){return new Fn(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){const n=ti(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);pe($E(r),9688,{name:e});const i=new Ba(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class YD extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}}class xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ui extends sl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",ui._jsonSchema={type:He("string",ui._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class cp extends ui{data(e={}){return super.data(e)}}class Ki{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cp(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new cp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new cp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:XD(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ki._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){t=Et(t,je);const e=Et(t.firestore,kn);return FD(_o(e),t._key).then(n=>Gx(e,t,n))}Ki._jsonSchemaVersion="firestore/querySnapshot/1.0",Ki._jsonSchema={type:He("string",Ki._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class up extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,n)}}function Qi(t){t=Et(t,jn);const e=Et(t.firestore,kn),n=_o(e),r=new up(e);return Fx(t._query),UD(n,t._query).then(i=>new Ki(e,r,t,i))}function qx(t,e,n){t=Et(t,je);const r=Et(t.firestore,kn),i=lp(t.converter,e,n);return cl(r,[np(Gi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function ZD(t,e,n,...r){t=Et(t,je);const i=Et(t.firestore,kn),s=Gi(i);let o;return o=typeof(e=Ce(e))=="string"||e instanceof Eo?jf(s,"updateDoc",t._key,e,n,r):Mf(s,"updateDoc",t._key,e),cl(i,[o.toMutation(t._key,Ke.exists(!0))])}function Hf(t){return cl(Et(t.firestore,kn),[new Ja(t._key,Ke.none())])}function Gf(t,e){const n=Et(t.firestore,kn),r=On(t),i=lp(t.converter,e);return cl(n,[np(Gi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function Hx(t,...e){var c,u,h;t=Ce(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Px(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Px(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(u=m.error)==null?void 0:u.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let s,o,l;if(t instanceof je)o=Et(t.firestore,kn),l=Lu(t._key.path),s={next:m=>{e[r]&&e[r](Gx(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Et(t,jn);o=Et(m.firestore,kn),l=m._query;const f=new up(o);s={next:w=>{e[r]&&e[r](new Ki(o,f,m,w))},error:e[r+1],complete:e[r+2]},Fx(t._query)}return function(f,w,T,I){const N=new Rf(I),v=new bf(w,N,T);return f.asyncQueue.enqueueAndForget(async()=>xf(await ep(f),v)),()=>{N.Nu(),f.asyncQueue.enqueueAndForget(async()=>kf(await ep(f),v))}}(_o(o),l,i,s)}function cl(t,e){return function(r,i){const s=new Ln;return r.asyncQueue.enqueueAndForget(async()=>TD(await jD(r),i,s)),s.promise}(_o(t),e)}function Gx(t,e,n){const r=n.docs.get(e._key),i=new up(t);return new ui(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gi(e)}set(e,n,r){this._verifyNotCommitted();const i=pi(e,this._firestore),s=lp(i.converter,n,r),o=np(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=pi(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof Eo?jf(this._dataReader,"WriteBatch.update",s._key,n,r,i):Mf(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pi(e,this._firestore);return this._mutations=this._mutations.concat(new Ja(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pi(t,e){if((t=Ce(t)).firestore!==e)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gi(e)}get(e){const n=pi(e,this._firestore),r=new YD(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return J(24041);const s=i[0];if(s.isFoundDocument())return new sl(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new sl(this._firestore,r,n._key,null,n.converter);throw J(18433,{doc:s})})}set(e,n,r){const i=pi(e,this._firestore),s=lp(i.converter,n,r),o=np(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=pi(e,this._firestore);let o;return o=typeof(n=Ce(n))=="string"||n instanceof Eo?jf(this._dataReader,"Transaction.update",s._key,n,r,i):Mf(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=pi(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV extends nV{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=pi(e,this._firestore),r=new up(this._firestore);return super.get(e).then(i=>new ui(this._firestore,r,n._key,i._document,new xo(!1,!1),n.converter))}}function iV(t,e,n){t=Et(t,kn);const r={...eV,...n};return function(s){if(s.maxAttempts<1)throw new $(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,l){const c=new Ln;return s.asyncQueue.enqueueAndForget(async()=>{const u=await OD(s);new DD(s.asyncQueue,u,l,o,c).ju()}),c.promise}(_o(t),i=>e(new rV(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return _o(t=Et(t,kn)),new tV(t,e=>cl(t,e))}(function(e,n=!0){(function(i){no=i})(Ys),Qs(new Mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new kn(new GP(r.getProvider("auth-internal")),new YP(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Wr(T1,I1,e),Wr(T1,I1,"esm2020")})();const Kx=u_({apiKey:"AIzaSyDjL3e2KxKqchkzJtyUcY7VZ-w1cC70QHM",authDomain:"drinkwater-5fca5.firebaseapp.com",projectId:"drinkwater-5fca5",storageBucket:"drinkwater-5fca5.firebasestorage.app",messagingSenderId:"815020126595",appId:"1:815020126595:web:118fc15974861e291d06b6"}),ko=zP(Kx),Ae=BD(Kx);class pp{constructor(e){ps(this,"collectionName");this.collectionName=e}async create(e){return(await Gf(cn(Ae,this.collectionName),{...e,createdAt:new Date,updatedAt:new Date})).id}async getById(e){const n=On(Ae,this.collectionName,e),r=await JD(n);return r.exists()?{id:r.id,...r.data()}:null}async update(e,n){const r=On(Ae,this.collectionName,e);await ZD(r,{...n,updatedAt:new Date})}async delete(e){const n=On(Ae,this.collectionName,e);await Hf(n)}async find(e={}){const n=[];e.where&&e.where.forEach(s=>{n.push(ol(s.field,s.operator,s.value))}),e.orderBy&&e.orderBy.forEach(s=>{n.push(al(s.field,s.direction))}),e.limit&&n.push(ll(e.limit)),e.startAfter&&n.push(Ux(e.startAfter));const r=ci(cn(Ae,this.collectionName),...n);return(await Qi(r)).docs.map(s=>({id:s.id,...s.data()}))}async findOne(e={}){const n=await this.find({...e,limit:1});return n.length>0?n[0]:null}async findWithPagination(e){const n=[];e.orderBy&&n.push(al(e.orderBy,e.orderDirection||"desc")),e.startAfter&&n.push(Ux(e.startAfter)),n.push(ll(e.limit+1));const r=ci(cn(Ae,this.collectionName),...n),s=(await Qi(r)).docs,o=s.length>e.limit;return{data:s.slice(0,e.limit).map(c=>({id:c.id,...c.data()})),lastDoc:o?s[s.length-2]:null,hasMore:o}}async createBatch(e){const n=Kf(Ae),r=[];return e.forEach(i=>{const s=On(cn(Ae,this.collectionName));n.set(s,{...i,createdAt:new Date,updatedAt:new Date}),r.push(s)}),await n.commit(),r.map(i=>i.id)}async updateBatch(e){const n=Kf(Ae);e.forEach(({id:r,data:i})=>{const s=On(Ae,this.collectionName,r);n.update(s,{...i,updatedAt:new Date})}),await n.commit()}async deleteBatch(e){const n=Kf(Ae);e.forEach(r=>{const i=On(Ae,this.collectionName,r);n.delete(i)}),await n.commit()}async runTransaction(e){return iV(Ae,e)}onSnapshot(e,n={}){const r=[];n.where&&n.where.forEach(s=>{r.push(ol(s.field,s.operator,s.value))}),n.orderBy&&n.orderBy.forEach(s=>{r.push(al(s.field,s.direction))}),n.limit&&r.push(ll(n.limit));const i=ci(cn(Ae,this.collectionName),...r);return Hx(i,s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)})}onSnapshotById(e,n){const r=On(Ae,this.collectionName,e);return Hx(r,i=>{if(i.exists()){const s={id:i.id,...i.data()};n(s)}else n(null)})}}class Qf extends pp{constructor(){super("users")}async create(e){const n=Zh(e.username,e.displayName),r={...e,...n,createdAt:new Date,updatedAt:new Date};if(e.uid){const i=On(Ae,"users",e.uid);return await qx(i,{...r,id:e.uid}),e.uid}else return super.create(r)}async updateSearchFields(e,n,r){const i=await this.getById(e);if(!i)return;const s=n||i.username,o=r!==void 0?r:i.displayName,l=Zh(s,o);await this.update(e,{...n&&{username:s},...r!==void 0&&{displayName:o},...l,updatedAt:new Date})}async findByEmail(e){return this.findOne({where:[{field:"email",operator:"==",value:e}]})}async findByUsername(e){return this.findOne({where:[{field:"username",operator:"==",value:e}]})}async searchUsersImproved(e,n=50){const r=Li(e);if(r.length<2)return[];const i=Wc(r,2),s=Wc(r,3),o=i.slice(0,10),l=s.slice(0,10),c=await this.find({where:[{field:"searchGrams2",operator:"array-contains-any",value:o}],limit:n}),u=await this.find({where:[{field:"searchGrams3",operator:"array-contains-any",value:l}],limit:n});return[...c,...u].filter((I,N,v)=>v.findIndex(_=>_.id===I.id)===N).filter(I=>{const N={searchGrams2:I.searchGrams2||[],searchGrams3:I.searchGrams3||[]},v=i.every(x=>N.searchGrams2.includes(x)),_=s.every(x=>N.searchGrams3.includes(x));return v&&_}).map(I=>({user:I,score:rS(I,e,{searchGrams2:I.searchGrams2||[],searchGrams3:I.searchGrams3||[]})})).sort((I,N)=>N.score-I.score).slice(0,n).map(I=>I.user).map(I=>({id:I.id,username:I.username,avatarUrl:I.avatarUrl,bio:I.bio,displayName:I.displayName,createdAt:I.createdAt,updatedAt:I.updatedAt,followersCount:I.followersCount,followingCount:I.followingCount,postsCount:I.postsCount,isPrivate:I.isPrivate}))}async searchUsers(e,n=10){return(await this.find({where:[{field:"username",operator:">=",value:e},{field:"username",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async searchUsersByDisplayName(e,n=10){return(await this.find({where:[{field:"displayName",operator:">=",value:e},{field:"displayName",operator:"<=",value:e+""}],limit:n})).map(i=>({id:i.id,username:i.username,avatarUrl:i.avatarUrl,bio:i.bio,displayName:i.displayName,createdAt:i.createdAt,updatedAt:i.updatedAt,followersCount:i.followersCount,followingCount:i.followingCount,postsCount:i.postsCount,isPrivate:i.isPrivate}))}async followUser(e,n){const r={followerId:e,followedId:n,followedAt:new Date};await Gf(cn(Ae,"users",n,"followers"),r),await Gf(cn(Ae,"users",e,"following"),r),await this.updateFollowersCount(n,1),await this.updateFollowingCount(e,1)}async unfollowUser(e,n){const r=ci(cn(Ae,"users",n,"followers"),ol("followerId","==",e));(await Qi(r)).docs.forEach(async l=>{await Hf(l.ref)});const s=ci(cn(Ae,"users",e,"following"),ol("followedId","==",n));(await Qi(s)).docs.forEach(async l=>{await Hf(l.ref)}),await this.updateFollowersCount(n,-1),await this.updateFollowingCount(e,-1)}async isFollowing(e,n){const r=ci(cn(Ae,"users",n,"followers"),ol("followerId","==",e));return!(await Qi(r)).empty}async getFollowers(e,n=20){const r=ci(cn(Ae,"users",e,"followers"),al("followedAt","desc"),ll(n)),s=(await Qi(r)).docs.map(l=>l.data().followerId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(l=>({id:l.id,username:l.username,avatarUrl:l.avatarUrl,bio:l.bio,displayName:l.displayName,createdAt:l.createdAt,updatedAt:l.updatedAt,followersCount:l.followersCount,followingCount:l.followingCount,postsCount:l.postsCount,isPrivate:l.isPrivate}))}async getFollowing(e,n=20){const r=ci(cn(Ae,"users",e,"following"),al("followedAt","desc"),ll(n)),s=(await Qi(r)).docs.map(l=>l.data().followedId);return s.length===0?[]:(await this.find({where:[{field:"id",operator:"in",value:s}]})).map(l=>({id:l.id,username:l.username,avatarUrl:l.avatarUrl,bio:l.bio,displayName:l.displayName,createdAt:l.createdAt,updatedAt:l.updatedAt,followersCount:l.followersCount,followingCount:l.followingCount,postsCount:l.postsCount,isPrivate:l.isPrivate}))}async updateFollowersCount(e,n){const r=await this.getById(e);if(r){const i=(r.followersCount||0)+n;await this.update(e,{followersCount:Math.max(0,i)})}}async updateFollowingCount(e,n){const r=await this.getById(e);if(r){const i=(r.followingCount||0)+n;await this.update(e,{followingCount:Math.max(0,i)})}}async updatePostsCount(e,n){const r=await this.getById(e);if(r){const i=(r.postsCount||0)+n;await this.update(e,{postsCount:Math.max(0,i)})}}async migrateUserToUid(e,n){try{const r=await this.getById(e);if(!r)throw new Error("Usuário não encontrado");const i=On(Ae,"users",n);await qx(i,{...r,id:n,updatedAt:new Date}),await this.delete(e),console.log(`Usuário migrado: ${e} -> ${n}`)}catch(r){throw console.error("Erro ao migrar usuário:",r),r}}async migrateAllUsersToSearchFields(){try{console.log("Iniciando migração dos campos de busca...");const e=await this.find({});let n=0;for(const r of e){if(r.searchGrams2&&r.searchGrams3)continue;const i=Zh(r.username,r.displayName);await this.update(r.id,{...i,updatedAt:new Date}),n++,n%10===0&&console.log(`${n} usuários migrados...`)}console.log(`Migração concluída! ${n} usuários atualizados.`)}catch(e){throw console.error("Erro na migração:",e),e}}async findByUid(e){return this.getById(e)}}class Yf extends pp{constructor(){super("posts");ps(this,"userRepository");this.userRepository=new Qf}async getPostsByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPublicPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:n})}async getPostsByTaggedUser(n,r=20){return this.find({where:[{field:"tags",operator:"array-contains",value:n},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getFeedPosts(n,r,i=20){if(r.length===0)return[];const s=await this.find({where:[{field:"userId",operator:"in",value:r},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:i}),o=[];for(const l of s){const c=await this.userRepository.getById(l.userId);c&&o.push({...l,user:{id:c.id,username:c.username,avatarUrl:c.avatarUrl,displayName:c.displayName}})}return o}async getPostsByTags(n,r=20){return this.find({where:[{field:"tags",operator:"array-contains-any",value:n},{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPopularPosts(n=20){return this.find({where:[{field:"isPublic",operator:"==",value:!0}],orderBy:[{field:"likeCount",direction:"desc"}],limit:n})}async createPost(n){const r=await this.create({...n,likeCount:0,commentCount:0,createdAt:new Date,updatedAt:new Date});return await this.userRepository.updatePostsCount(n.userId,1),r}async deletePost(n){const r=await this.getById(n);r&&(await this.delete(n),await this.userRepository.updatePostsCount(r.userId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async updateCommentCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.commentCount+r);await this.update(n,{commentCount:s})}}async getPostsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}}class Qx extends pp{constructor(){super("comments");ps(this,"userRepository");ps(this,"postRepository");this.userRepository=new Qf,this.postRepository=new Yf}async debugGetAllComments(){console.log("Debug: Buscando todos os comentários...");const n=await this.find({});return console.log("Debug: Total de comentários na coleção:",n.length),console.log("Debug: Comentários:",n),n}async getCommentsByPost(n,r=50){console.log("Buscando comentários para postId:",n);const i=await this.find({where:[{field:"postId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});return console.log("Comentários encontrados:",i.length),i}async getCommentsWithUser(n){const r=[];for(const i of n){const s=await this.userRepository.getById(i.userId);s&&r.push({...i,user:{id:s.id,username:s.username,avatarUrl:s.avatarUrl,displayName:s.displayName}})}return r}async getCommentsByPostWithUser(n,r=50){const i=await this.getCommentsByPost(n,r);return this.getCommentsWithUser(i)}async getRepliesToComment(n,r=20){const i=await this.find({where:[{field:"parentCommentId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"asc"}],limit:r});return this.getCommentsWithUser(i)}async createComment(n){const r=await this.create({...n,likeCount:0,createdAt:new Date,updatedAt:new Date});return await this.postRepository.updateCommentCount(n.postId,1),r}async deleteComment(n){const r=await this.getById(n);r&&(await this.delete(n),await this.postRepository.updateCommentCount(r.postId,-1))}async updateLikeCount(n,r){const i=await this.getById(n);if(i){const s=Math.max(0,i.likeCount+r);await this.update(n,{likeCount:s})}}async getCommentsByUser(n,r=20){const i=await this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r});return this.getCommentsWithUser(i)}}class sV extends pp{constructor(){super("likes");ps(this,"postRepository");ps(this,"commentRepository");this.postRepository=new Yf,this.commentRepository=new Qx}async like(n,r,i){await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})||(await this.create({userId:n,targetId:r,targetType:i,createdAt:new Date}),i==="post"?await this.postRepository.updateLikeCount(r,1):await this.commentRepository.updateLikeCount(r,1))}async unlike(n,r,i){const s=await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]});s&&(await this.delete(s.id),i==="post"?await this.postRepository.updateLikeCount(r,-1):await this.commentRepository.updateLikeCount(r,-1))}async isLiked(n,r,i){return!!await this.findOne({where:[{field:"userId",operator:"==",value:n},{field:"targetId",operator:"==",value:r},{field:"targetType",operator:"==",value:i}]})}async getUsersWhoLikedPost(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getUsersWhoLikedComment(n,r=20){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:"comment"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.userId)}async getLikesByUser(n,r=20){return this.find({where:[{field:"userId",operator:"==",value:n}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})}async getPostsLikedByUser(n,r=20){return(await this.find({where:[{field:"userId",operator:"==",value:n},{field:"targetType",operator:"==",value:"post"}],orderBy:[{field:"createdAt",direction:"desc"}],limit:r})).map(s=>s.targetId)}async getLikeCount(n,r){return(await this.find({where:[{field:"targetId",operator:"==",value:n},{field:"targetType",operator:"==",value:r}]})).length}}const Ee=new Qf,Ut=new Yf,dp=new Qx,To=new sV;function Xt(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[i,s]=E.useState(null),o=Nt();return E.useEffect(()=>{const m=NR(ko,f=>{console.log("onAuthStateChanged",f),e(f),r(!1)});return()=>m()},[]),{user:t,loading:n,error:i,login:async(m,f)=>{try{r(!0),s(null),await SR(ko,Z_).then(()=>bR(ko,m,f)).catch(T=>{console.error("Error setting persistence:",T)});const w=ko.currentUser;if(e(w),w&&m&&m.trim()!=="")try{const T=await Ee.findByEmail(m);T&&T.id!==w.uid&&(console.log("Migrando usuário existente..."),T.id&&w.uid?(await Ee.migrateUserToUid(T.id,w.uid),console.log("Usuário migrado com sucesso!")):console.warn("IDs inválidos para migração:",T.id,w.uid))}catch(T){console.error("Erro na migração:",T)}o("/profile")}catch(w){s(Xf(w.code))}finally{r(!1)}},register:async(m,f,w)=>{try{r(!0),s(null);const I=(await IR(ko,m,f)).user;if(w&&I){if(await Ee.findByUsername(w.username)){await I.delete(),s("Este nome de usuário já está em uso.");return}await Ee.create({uid:I.uid,username:w.username,email:m,displayName:w.displayName,bio:w.bio||"",avatarUrl:w.avatarUrl||"",createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,postsCount:0,isPrivate:!1})}o("/login")}catch(T){s(Xf(T.code))}finally{r(!1)}},logout:async()=>{try{r(!0),s(null),await RR(ko),e(null),o("/login")}catch(m){s(Xf(m.code))}finally{r(!1)}},clearError:()=>{s(null)},setError:s}}function Xf(t){switch(t){case"auth/user-not-found":return"Usuário não encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/email-already-in-use":return"Este email já está em uso.";case"auth/weak-password":return"A senha deve ter pelo menos 6 caracteres.";case"auth/invalid-email":return"Email inválido.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Erro de autenticação. Tente novamente."}}function oV(){const{login:t,loading:e,error:n,clearError:r}=Xt(),[i,s]=E.useState(""),[o,l]=E.useState(""),c=Nt(),u=async h=>{h.preventDefault(),r(),await t(i,o),n||(s(""),l(""))};return d.jsxs(d.Fragment,{children:[d.jsxs(um,{className:"ppm:text-center ppm:pb-6",children:[d.jsx(Ww,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Login"}),d.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Entre com suas credenciais"})]}),d.jsxs(nr,{children:[n&&d.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),d.jsxs("form",{onSubmit:u,className:"ppm:space-y-4",children:[d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),d.jsx(nt,{id:"email",type:"email",placeholder:"seu@email.com",value:i,onChange:h=>s(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),d.jsx(nt,{id:"password",type:"password",placeholder:"••••••••",value:o,onChange:h=>l(h.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),d.jsx(De,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Entrar"})]}),d.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:d.jsx("button",{type:"button",onClick:()=>{r(),c("/register")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"Não tem uma conta? Cadastre-se"})})]})]})}function aV(){const{register:t,loading:e,error:n,clearError:r,setError:i}=Xt(),[s,o]=E.useState(""),[l,c]=E.useState(""),[u,h]=E.useState(""),[m,f]=E.useState(""),[w,T]=E.useState(""),[I,N]=E.useState(""),v=Nt(),_=async x=>{if(x.preventDefault(),r(),!u.trim()){i("Nome de usuário é obrigatório");return}if(!m.trim()){i("Nome completo é obrigatório");return}if(!s.trim()){i("Email é obrigatório");return}if(l.length<6){i("A senha deve ter pelo menos 6 caracteres");return}await t(s,l,{username:u.trim(),displayName:m.trim(),bio:w.trim(),avatarUrl:I.trim()}),n||(o(""),c(""),h(""),f(""),T(""),N(""))};return d.jsxs(d.Fragment,{children:[d.jsxs(um,{className:"ppm:text-center ppm:pb-6",children:[d.jsx(Ww,{className:"ppm:text-2xl ppm:font-bold ppm:text-gray-900",children:"Cadastro"}),d.jsx("p",{className:"ppm:text-gray-600 ppm:text-sm",children:"Crie sua conta"})]}),d.jsxs(nr,{children:[n&&d.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:n}),d.jsxs("form",{onSubmit:_,className:"ppm:space-y-4",children:[d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usuário"}),d.jsx(nt,{id:"username",type:"text",placeholder:"jose_britto",value:u,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),d.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usuário único para sua conta"})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),d.jsx(nt,{id:"displayName",type:"text",placeholder:"José Britto",value:m,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"email",className:"ppm:text-sm ppm:font-medium",children:"Email"}),d.jsx(nt,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:e,required:!0})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),d.jsx(nt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre você...",value:w,onChange:x=>T(x.target.value),className:"ppm:w-full",disabled:e})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),d.jsx(nt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:I,onChange:x=>N(x.target.value),className:"ppm:w-full",disabled:e})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"password",className:"ppm:text-sm ppm:font-medium",children:"Senha"}),d.jsx(nt,{id:"password",type:"password",placeholder:"••••••••",value:l,onChange:x=>c(x.target.value),className:"ppm:w-full",disabled:e,required:!0}),d.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"A senha deve ter pelo menos 6 caracteres"})]}),d.jsx(De,{type:"submit",className:"ppm:w-full ppm:mt-6",variant:"default",disabled:e,children:e?"Carregando...":"Cadastrar"})]}),d.jsx("div",{className:"ppm:mt-6 ppm:text-center",children:d.jsx("button",{onClick:()=>{r(),v("/login")},className:"ppm:text-sm ppm:text-blue-600 ppm:hover:underline ppm:bg-transparent ppm:border-none ppm:cursor-pointer",disabled:e,children:"Já tem uma conta? Faça login"})})]})]})}function hp(t,e=[]){let n=[];function r(s,o){const l=E.createContext(o),c=n.length;n=[...n,o];const u=m=>{var v;const{scope:f,children:w,...T}=m,I=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,N=E.useMemo(()=>T,Object.values(T));return d.jsx(I.Provider,{value:N,children:w})};u.displayName=s+"Provider";function h(m,f){var I;const w=((I=f==null?void 0:f[t])==null?void 0:I[c])||l,T=E.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,lV(i,...e)]}function lV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const m=c(s)[`__scope${u}`];return{...l,...m}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yx(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Yi=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Xx={exports:{}},Jx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=E;function cV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uV=typeof Object.is=="function"?Object.is:cV,pV=Io.useState,dV=Io.useEffect,hV=Io.useLayoutEffect,mV=Io.useDebugValue;function fV(t,e){var n=e(),r=pV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hV(function(){i.value=n,i.getSnapshot=e,Jf(i)&&s({inst:i})},[t,n,e]),dV(function(){return Jf(i)&&s({inst:i}),t(function(){Jf(i)&&s({inst:i})})},[t]),mV(n),n}function Jf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uV(t,n)}catch{return!0}}function gV(t,e){return e()}var yV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gV:fV;Jx.useSyncExternalStore=Io.useSyncExternalStore!==void 0?Io.useSyncExternalStore:yV,Xx.exports=Jx;var vV=Xx.exports;function wV(){return vV.useSyncExternalStore(_V,()=>!0,()=>!1)}function _V(){return()=>{}}var Zf="Avatar",[EV,F6]=hp(Zf),[xV,Zx]=EV(Zf),ek=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=E.useState("idle");return d.jsx(xV,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:d.jsx(wn.span,{...r,ref:e})})});ek.displayName=Zf;var tk="AvatarImage",nk=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=Zx(tk,n),l=kV(r,s),c=Yx(u=>{i(u),o.onImageLoadingStatusChange(u)});return Yi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?d.jsx(wn.img,{...s,ref:e,src:r}):null});nk.displayName=tk;var rk="AvatarFallback",ik=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=Zx(rk,n),[o,l]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?d.jsx(wn.span,{...i,ref:e}):null});ik.displayName=rk;function sk(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kV(t,{referrerPolicy:e,crossOrigin:n}){const r=wV(),i=E.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=E.useState(()=>sk(s,t));return Yi(()=>{l(sk(s,t))},[s,t]),Yi(()=>{const c=m=>()=>{l(m)};if(!s)return;const u=c("loaded"),h=c("error");return s.addEventListener("load",u),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",h)}},[s,n,e]),o}var TV=ek,IV=nk,bV=ik;function pr({className:t,...e}){return d.jsx(TV,{"data-slot":"avatar",className:lt("ppm:relative ppm:flex ppm:size-8 ppm:shrink-0 ppm:overflow-hidden ppm:rounded-full",t),...e})}function dr({className:t,...e}){return d.jsx(IV,{"data-slot":"avatar-image",className:lt("ppm:aspect-square ppm:size-full",t),...e})}function hr({className:t,...e}){return d.jsx(bV,{"data-slot":"avatar-fallback",className:lt("ppm:bg-muted ppm:flex ppm:size-full ppm:items-center ppm:justify-center ppm:rounded-full",t),...e})}var SV="Separator",ok="horizontal",CV=["horizontal","vertical"],ak=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=ok,...i}=t,s=AV(r)?r:ok,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(wn.div,{"data-orientation":s,...l,...i,ref:e})});ak.displayName=SV;function AV(t){return CV.includes(t)}var NV=ak;function RV({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return d.jsx(NV,{"data-slot":"separator",decorative:n,orientation:e,className:lt("ppm:bg-border ppm:shrink-0 ppm:data-[orientation=horizontal]:h-px ppm:data-[orientation=horizontal]:w-full ppm:data-[orientation=vertical]:h-full ppm:data-[orientation=vertical]:w-px",t),...r})}function Ne({className:t,...e}){return d.jsx("div",{"data-slot":"skeleton",className:lt("ppm:bg-accent ppm:animate-pulse ppm:rounded-md",t),...e})}function PV(){return d.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[d.jsxs("div",{className:"ppm:flex ppm:items-start ppm:space-x-8",children:[d.jsx(Ne,{className:"ppm:w-24 ppm:h-24 ppm:rounded-full"}),d.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[d.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:d.jsx(Ne,{className:"ppm:h-6 ppm:w-32"})}),d.jsxs("div",{className:"ppm:flex ppm:space-x-8",children:[d.jsx(Ne,{className:"ppm:h-4 ppm:w-16"}),d.jsx(Ne,{className:"ppm:h-4 ppm:w-20"}),d.jsx(Ne,{className:"ppm:h-4 ppm:w-16"})]}),d.jsx(Ne,{className:"ppm:h-8 ppm:w-24"}),d.jsx(Ne,{className:"ppm:h-4 ppm:w-48"}),d.jsx(Ne,{className:"ppm:h-3 ppm:w-32"})]})]}),d.jsx(Ne,{className:"ppm:h-px ppm:w-full"}),d.jsxs("div",{className:"ppm:flex ppm:space-x-8 ppm:border-b ppm:border-gray-200",children:[d.jsx(Ne,{className:"ppm:h-8 ppm:w-16"}),d.jsx(Ne,{className:"ppm:h-8 ppm:w-20"})]}),d.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:Array.from({length:9}).map((t,e)=>d.jsx(Ne,{className:"ppm:aspect-square ppm:w-full"},e))})]})}function mr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LV(t){const e=t+"CollectionProvider",[n,r]=hp(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=I=>{const{scope:N,children:v}=I,_=R.useRef(null),x=R.useRef(new Map).current;return d.jsx(i,{scope:N,itemMap:x,collectionRef:_,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=zc(l),u=R.forwardRef((I,N)=>{const{scope:v,children:_}=I,x=s(l,v),L=Uc(N,x.collectionRef);return d.jsx(c,{ref:L,children:_})});u.displayName=l;const h=t+"CollectionItemSlot",m="data-radix-collection-item",f=zc(h),w=R.forwardRef((I,N)=>{const{scope:v,children:_,...x}=I,L=R.useRef(null),M=Uc(N,L),F=s(h,v);return R.useEffect(()=>(F.itemMap.set(L,{ref:L,...x}),()=>void F.itemMap.delete(L))),d.jsx(f,{[m]:"",ref:M,children:_})});w.displayName=h;function T(I){const N=s(t+"CollectionConsumer",I);return R.useCallback(()=>{const _=N.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((F,S)=>x.indexOf(F.ref.current)-x.indexOf(S.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},T,r]}var DV=Ug[" useId ".trim().toString()]||(()=>{}),VV=0;function lk(t){const[e,n]=E.useState(DV());return Yi(()=>{t||n(r=>r??String(VV++))},[t]),t||(e?`radix-${e}`:"")}var MV=Ug[" useInsertionEffect ".trim().toString()]||Yi;function ck({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=jV({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=E.useRef(t!==void 0);E.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=E.useCallback(h=>{var m;if(l){const f=OV(h)?h(t):h;f!==t&&((m=o.current)==null||m.call(o,f))}else s(h)},[l,t,s,o]);return[c,u]}function jV({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),s=E.useRef(e);return MV(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function OV(t){return typeof t=="function"}var FV=E.createContext(void 0);function uk(t){const e=E.useContext(FV);return t||e||"ltr"}var eg="rovingFocusGroup.onEntryFocus",UV={bubbles:!1,cancelable:!0},ul="RovingFocusGroup",[tg,pk,zV]=LV(ul),[BV,dk]=hp(ul,[zV]),[$V,WV]=BV(ul),hk=E.forwardRef((t,e)=>d.jsx(tg.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(tg.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(qV,{...t,ref:e})})}));hk.displayName=ul;var qV=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=t,f=E.useRef(null),w=Uc(e,f),T=uk(s),[I,N]=ck({prop:o,defaultProp:l??null,onChange:c,caller:ul}),[v,_]=E.useState(!1),x=Yx(u),L=pk(n),M=E.useRef(!1),[F,S]=E.useState(0);return E.useEffect(()=>{const y=f.current;if(y)return y.addEventListener(eg,x),()=>y.removeEventListener(eg,x)},[x]),d.jsx($V,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:I,onItemFocus:E.useCallback(y=>N(y),[N]),onItemShiftTab:E.useCallback(()=>_(!0),[]),onFocusableItemAdd:E.useCallback(()=>S(y=>y+1),[]),onFocusableItemRemove:E.useCallback(()=>S(y=>y-1),[]),children:d.jsx(wn.div,{tabIndex:v||F===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:mr(t.onMouseDown,()=>{M.current=!0}),onFocus:mr(t.onFocus,y=>{const b=!M.current;if(y.target===y.currentTarget&&b&&!v){const C=new CustomEvent(eg,UV);if(y.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=L().filter(Z=>Z.focusable),D=A.find(Z=>Z.active),P=A.find(Z=>Z.id===I),q=[D,P,...A].filter(Boolean).map(Z=>Z.ref.current);gk(q,h)}}M.current=!1}),onBlur:mr(t.onBlur,()=>_(!1))})})}),mk="RovingFocusGroupItem",fk=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=lk(),u=s||c,h=WV(mk,n),m=h.currentTabStopId===u,f=pk(n),{onFocusableItemAdd:w,onFocusableItemRemove:T,currentTabStopId:I}=h;return E.useEffect(()=>{if(r)return w(),()=>T()},[r,w,T]),d.jsx(tg.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:d.jsx(wn.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:mr(t.onMouseDown,N=>{r?h.onItemFocus(u):N.preventDefault()}),onFocus:mr(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:mr(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const v=KV(N,h.orientation,h.dir);if(v!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let x=f().filter(L=>L.focusable).map(L=>L.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const L=x.indexOf(N.currentTarget);x=h.loop?QV(x,L+1):x.slice(L+1)}setTimeout(()=>gk(x))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:I!=null}):o})})});fk.displayName=mk;var HV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KV(t,e,n){const r=GV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HV[r]}function gk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function QV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YV=hk,XV=fk;function JV(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var yk=t=>{const{present:e,children:n}=t,r=ZV(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=Uc(r.ref,eM(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};yk.displayName="Presence";function ZV(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[l,c]=JV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=mp(r.current);s.current=l==="mounted"?u:"none"},[l]),Yi(()=>{const u=r.current,h=i.current;if(h!==t){const f=s.current,w=mp(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Yi(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,m=w=>{const I=mp(r.current).includes(w.animationName);if(w.target===e&&I&&(c("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},f=w=>{w.target===e&&(s.current=mp(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function mp(t){return(t==null?void 0:t.animationName)||"none"}function eM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fp="Tabs",[tM,U6]=hp(fp,[dk]),vk=dk(),[nM,ng]=tM(fp),wk=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=uk(l),[m,f]=ck({prop:r,onChange:i,defaultProp:s??"",caller:fp});return d.jsx(nM,{scope:n,baseId:lk(),value:m,onValueChange:f,orientation:o,dir:h,activationMode:c,children:d.jsx(wn.div,{dir:h,"data-orientation":o,...u,ref:e})})});wk.displayName=fp;var _k="TabsList",Ek=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=ng(_k,n),o=vk(n);return d.jsx(YV,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:d.jsx(wn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Ek.displayName=_k;var xk="TabsTrigger",kk=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=ng(xk,n),l=vk(n),c=bk(o.baseId,r),u=Sk(o.baseId,r),h=r===o.value;return d.jsx(XV,{asChild:!0,...l,focusable:!i,active:h,children:d.jsx(wn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:mr(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:mr(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:mr(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(r)})})})});kk.displayName=xk;var Tk="TabsContent",Ik=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=ng(Tk,n),c=bk(l.baseId,r),u=Sk(l.baseId,r),h=r===l.value,m=E.useRef(h);return E.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(yk,{present:i||h,children:({present:f})=>d.jsx(wn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:f&&s})})});Ik.displayName=Tk;function bk(t,e){return`${t}-trigger-${e}`}function Sk(t,e){return`${t}-content-${e}`}var rM=wk,iM=Ek,sM=kk,oM=Ik;function aM({className:t,...e}){return d.jsx(rM,{"data-slot":"tabs",className:lt("ppm:flex ppm:flex-col ppm:gap-2",t),...e})}function lM({className:t,...e}){return d.jsx(iM,{"data-slot":"tabs-list",className:lt("ppm:bg-muted ppm:text-muted-foreground ppm:inline-flex ppm:h-9 ppm:w-fit ppm:items-center ppm:justify-center ppm:rounded-lg ppm:p-[3px]",t),...e})}function Ck({className:t,...e}){return d.jsx(sM,{"data-slot":"tabs-trigger",className:lt("ppm:data-[state=active]:bg-background ppm:dark:data-[state=active]:text-foreground ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:outline-ring ppm:dark:data-[state=active]:border-input ppm:dark:data-[state=active]:bg-input/30 ppm:text-foreground ppm:dark:text-muted-foreground ppm:inline-flex ppm:h-[calc(100%-1px)] ppm:flex-1 ppm:items-center ppm:justify-center ppm:gap-1.5 ppm:rounded-md ppm:border ppm:border-transparent ppm:px-2 ppm:py-1 ppm:text-sm ppm:font-medium ppm:whitespace-nowrap ppm:transition-[color,box-shadow] ppm:focus-visible:ring-[3px] ppm:focus-visible:outline-1 ppm:disabled:pointer-events-none ppm:disabled:opacity-50 ppm:data-[state=active]:shadow-sm ppm:[&_svg]:pointer-events-none ppm:[&_svg]:shrink-0 ppm:[&_svg:not([class*=size-])]:size-4",t),...e})}function Ak({className:t,...e}){return d.jsx(oM,{"data-slot":"tabs-content",className:lt("ppm:flex-1 ppm:outline-none",t),...e})}function gp(){const{user:t}=Xt(),[e,n]=E.useState(null),[r,i]=E.useState(!0),[s,o]=E.useState(null);return E.useEffect(()=>{(async()=>{if(!(t!=null&&t.email)){n(null),i(!1);return}try{i(!0),o(null);const h=await Ee.findByEmail(t.email);n(h)}catch(h){o("Erro ao carregar perfil do usuário"),console.error("Erro ao buscar perfil:",h)}finally{i(!1)}})()},[t==null?void 0:t.email]),{userProfile:e,loading:r,error:s,updateProfile:async u=>{if(e!=null&&e.id)try{i(!0),o(null),await Ee.update(e.id,{...u,updatedAt:new Date}),n(h=>h?{...h,...u,updatedAt:new Date}:null)}catch(h){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",h)}finally{i(!1)}},refreshProfile:async()=>{if(t!=null&&t.email)try{i(!0),o(null);const u=await Ee.findByEmail(t.email);n(u)}catch(u){o("Erro ao atualizar perfil"),console.error("Erro ao atualizar perfil:",u)}finally{i(!1)}}}}const Nk=E.createContext(void 0);function fr(){const t=E.useContext(Nk);if(!t)throw new Error("useAppBar deve ser usado dentro de AppBarProvider");return t}function Rk({children:t}){const[e,n]=E.useState(null),r=E.useCallback(s=>{n(s)},[]),i=E.useMemo(()=>({content:e,setAppBarContent:r}),[e,r]);return d.jsx(Nk.Provider,{value:i,children:t})}function Pk(){const{user:t,loading:e,logout:n}=Xt(),{userProfile:r,loading:i,updateProfile:s}=gp(),o=Nt(),{username:l}=Yc(),{setAppBarContent:c}=fr(),[u,h]=E.useState(null),[m,f]=E.useState(!1),[w,T]=E.useState(!1),[I,N]=E.useState("posts"),[v,_]=E.useState([]),[x,L]=E.useState([]),[M,F]=E.useState(!1),[S,y]=E.useState(!1),b=!l||r&&r.username===l;E.useEffect(()=>{(async()=>{if(b){h(r);return}if(l){f(!0);try{const Z=await Ee.findByUsername(l);if(h(Z),t&&Z&&Z.id){const $e=await Ee.isFollowing(t.uid,Z.id);T($e)}}catch(Z){console.error("Erro ao carregar perfil:",Z)}finally{f(!1)}}})()},[l,r,t,b]),E.useEffect(()=>{I==="posts"&&(async()=>{if(u!=null&&u.id){F(!0);try{const Z=await Ut.getPostsByUser(u.id,50);_(Z)}catch(Z){console.error("Erro ao carregar posts:",Z),_([])}finally{F(!1)}}})()},[u==null?void 0:u.id,I]),E.useEffect(()=>{I==="tagged"&&(async()=>{if(u!=null&&u.id){y(!0);try{const Z=await Ut.getPostsByTaggedUser(u.username,50);L(Z)}catch(Z){console.error("Erro ao carregar posts marcados:",Z),L([])}finally{y(!1)}}})()},[u==null?void 0:u.id,u==null?void 0:u.username,I]),E.useEffect(()=>{const q=u||r;return q&&c(d.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:q.username})),()=>c(null)},[u,r,c]);const C=async()=>{await n(),o("/login")},A=async()=>{if(!(!t||!u||!u.id))try{if(w?(await Ee.unfollowUser(t.uid,u.id),T(!1),h(q=>{const Z=Math.max(0,((q==null?void 0:q.followersCount)||0)-1);return q?{...q,followersCount:Z}:null})):(await Ee.followUser(t.uid,u.id),T(!0),h(q=>{const Z=((q==null?void 0:q.followersCount)||0)+1;return q?{...q,followersCount:Z}:null})),l){const q=await Ee.findByUsername(l);q&&h(q)}}catch(q){console.error("Erro ao seguir/deixar de seguir:",q)}},D=()=>{o("/edit-profile")},P=q=>q.split(" ").map(Z=>Z.charAt(0)).join("").toUpperCase().slice(0,2);if(e||i||m)return d.jsx(PV,{});if(!u&&!b)return d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsx("p",{className:"ppm:text-gray-600",children:"Usuário não encontrado"})});const H=u||r;return H?d.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:gap-4 ppm:items-start ppm:space-x-8",children:[d.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:items-start ppm:space-x-8",children:[d.jsxs(pr,{className:"ppm:w-16 ppm:h-16",children:[d.jsx(dr,{src:H.avatarUrl||"",alt:H.displayName||""}),d.jsx(hr,{className:"ppm:text-2xl ppm:bg-blue-500",children:P(H.displayName||"")})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:space-y-4",children:[d.jsx("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:d.jsx("h1",{className:"ppm:text-base ppm:font-semibold ppm:text-gray-900",children:H.displayName})}),d.jsxs("div",{className:"ppm:flex ppm:space-x-6 ppm:text-xs",children:[d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1",children:[d.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.postsCount||0}),d.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Posts"})]}),d.jsxs("button",{type:"button",onClick:()=>o(`/followers/${H.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[d.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.followersCount||0}),d.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Seguidores"})]}),d.jsxs("button",{type:"button",onClick:()=>o(`/following/${H.username}`),className:"ppm:flex ppm:flex-col ppm:items-center ppm:space-x-1 ppm:cursor-pointer ppm:hover:opacity-80",children:[d.jsx("span",{className:"ppm:font-semibold ppm:text-sm",children:H.followingCount||0}),d.jsx("span",{className:"ppm:text-gray-600 ppm:text-xs",children:"Seguindo"})]})]})]})]}),d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-start ppm:gap-4 ppm:w-full",children:[d.jsx("div",{className:"ppm:space-y-1 ppm:w-full",children:H.bio&&d.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:H.bio})}),b?d.jsxs("div",{className:"ppm:flex ppm:flex-row ppm:gap-2 ppm:w-full",children:[d.jsxs(De,{variant:"outline",size:"sm",onClick:D,className:"ppm:flex ppm:items-center ppm:space-x-2",children:[d.jsx(gS,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-xs",children:"Editar Perfil"})]}),d.jsxs(De,{onClick:C,variant:"outline",size:"sm",className:"ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100 ppm:space-x-2",disabled:e,children:[d.jsx(mS,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-xs",children:e?"Saindo...":"Sair da Conta"})]})]}):d.jsxs(De,{variant:w?"outline":"default",size:"sm",onClick:A,className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:w-full",children:[d.jsx(Hc,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-xs",children:w?"Seguindo":"Seguir"})]})]})]}),d.jsx(RV,{}),d.jsxs(aM,{value:I,onValueChange:N,className:"ppm:w-full",children:[d.jsxs(lM,{className:"ppm:grid ppm:w-full ppm:grid-cols-2 ppm:bg-transparent ppm:border-b ppm:border-gray-200",children:[d.jsxs(Ck,{value:"posts",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[d.jsx(dS,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-xs ppm:font-medium",children:"Posts"})]}),d.jsxs(Ck,{value:"tagged",className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:data-[state=active]:border-b-2 ppm:data-[state=active]:border-blue-500 ppm:data-[state=active]:text-blue-600 ppm:rounded-none ppm:bg-transparent ppm:shadow-none",children:[d.jsx(Hc,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-xs ppm:font-medium",children:"Marcado"})]})]}),d.jsx(Ak,{value:"posts",className:"ppm:mt-6",children:M?d.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:[...Array(6)].map((q,Z)=>d.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"},Z))}):v.length>0?d.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:v.map(q=>d.jsxs("div",{className:"ppm:aspect-square ppm:bg-gray-100 ppm:rounded ppm:overflow-hidden ppm:relative ppm:group ppm:cursor-pointer",onClick:()=>o(`/post/${q.id}`),children:[d.jsx("img",{src:q.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:group-hover:scale-105 ppm:transition-transform"}),d.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:bg-black/0 ppm:group-hover:bg-black/20 ppm:transition-colors ppm:flex ppm:items-center ppm:justify-center",children:d.jsxs("div",{className:"ppm:opacity-0 ppm:group-hover:opacity-100 ppm:transition-opacity ppm:flex ppm:items-center ppm:gap-4 ppm:text-white",children:[d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(Ew,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-sm",children:q.likeCount})]}),d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(xw,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-sm",children:q.commentCount})]})]})})]},q.id))}):d.jsxs("div",{className:"ppm:col-span-3 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[d.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:d.jsx(_w,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),d.jsxs("div",{className:"ppm:text-center",children:[d.jsx("h3",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Nenhum Post Ainda"}),d.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:"Quando você compartilhar fotos e vídeos, eles aparecerão aqui."})]})]})}),d.jsx(Ak,{value:"tagged",className:"ppm:mt-6",children:S?d.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:[...Array(6)].map((q,Z)=>d.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"},Z))}):x.length>0?d.jsx("div",{className:"ppm:grid ppm:grid-cols-3 ppm:gap-4",children:x.map(q=>d.jsxs("div",{className:"ppm:aspect-square ppm:bg-gray-100 ppm:rounded ppm:overflow-hidden ppm:relative ppm:group ppm:cursor-pointer",onClick:()=>o(`/post/${q.id}`),children:[d.jsx("img",{src:q.imageUrl,alt:"Post marcado",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:group-hover:scale-105 ppm:transition-transform"}),d.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:bg-black/0 ppm:group-hover:bg-black/20 ppm:transition-colors ppm:flex ppm:items-center ppm:justify-center",children:d.jsxs("div",{className:"ppm:opacity-0 ppm:group-hover:opacity-100 ppm:transition-opacity ppm:flex ppm:items-center ppm:gap-4 ppm:text-white",children:[d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(Ew,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-sm",children:q.likeCount})]}),d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(xw,{className:"ppm:w-4 ppm:h-4"}),d.jsx("span",{className:"ppm:text-sm",children:q.commentCount})]})]})})]},q.id))}):d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:py-12 ppm:space-y-4",children:[d.jsx("div",{className:"ppm:w-16 ppm:h-16 ppm:border-2 ppm:border-gray-300 ppm:border-dashed ppm:rounded-full ppm:flex ppm:items-center ppm:justify-center",children:d.jsx(Hc,{className:"ppm:w-8 ppm:h-8 ppm:text-gray-400"})}),d.jsxs("div",{className:"ppm:text-center",children:[d.jsx("h3",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Nenhuma Foto Marcada"}),d.jsx("p",{className:"ppm:text-gray-600 ppm:text-xs",children:"Fotos em que você foi marcado aparecerão aqui."})]})]})})]})]}):null}function cM(){const{setAppBarContent:t}=fr(),{userProfile:e,loading:n,updateProfile:r}=gp(),i=Nt(),[s,o]=E.useState(""),[l,c]=E.useState(""),[u,h]=E.useState(""),[m,f]=E.useState(""),[w,T]=E.useState(!1),[I,N]=E.useState("");E.useEffect(()=>{e&&(o(e.username||""),c(e.displayName||""),h(e.bio||""),f(e.avatarUrl||""))},[e]),E.useEffect(()=>(t(d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:()=>i("/profile"),className:"ppm:p-2",children:d.jsx(qc,{className:"ppm:w-5 ppm:h-5"})}),d.jsx("span",{className:"ppm:text-lg ppm:font-bold ppm:text-gray-900",children:"Editar Perfil"})]})),()=>t(null)),[t,i]);const v=async x=>{x.preventDefault(),N(""),T(!0);try{if(!s.trim()){N("Nome de usuário é obrigatório");return}if(!l.trim()){N("Nome completo é obrigatório");return}if(s!==(e==null?void 0:e.username)){const L=await Ee.findByUsername(s);if(L&&L.id!==(e==null?void 0:e.id)){N("Este nome de usuário já está em uso");return}}await r({username:s.trim(),displayName:l.trim(),bio:u.trim(),avatarUrl:m.trim()}),i("/profile")}catch(L){console.error("Erro ao atualizar perfil:",L),N("Erro ao atualizar perfil. Tente novamente.")}finally{T(!1)}},_=()=>{i("/profile")};return n?d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsx("p",{className:"ppm:text-gray-600",children:"Carregando..."})}):e?d.jsxs(d.Fragment,{children:[d.jsx(um,{className:"ppm:text-center ppm:pb-6"}),d.jsxs(nr,{children:[I&&d.jsx("div",{className:"ppm:bg-red-50 ppm:border ppm:border-red-200 ppm:text-red-700 ppm:px-4 ppm:py-3 ppm:rounded ppm:mb-4 ppm:text-sm",children:I}),d.jsxs("form",{onSubmit:v,className:"ppm:space-y-4",children:[d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"username",className:"ppm:text-sm ppm:font-medium",children:"Nome de usuário"}),d.jsx(nt,{id:"username",type:"text",placeholder:"jose_britto",value:s,onChange:x=>o(x.target.value),className:"ppm:w-full",disabled:w,required:!0}),d.jsx("p",{className:"ppm:text-xs ppm:text-gray-500",children:"Nome de usuário único para sua conta"})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"displayName",className:"ppm:text-sm ppm:font-medium",children:"Nome completo"}),d.jsx(nt,{id:"displayName",type:"text",placeholder:"José Britto",value:l,onChange:x=>c(x.target.value),className:"ppm:w-full",disabled:w,required:!0})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"bio",className:"ppm:text-sm ppm:font-medium",children:"Biografia (opcional)"}),d.jsx(nt,{id:"bio",type:"text",placeholder:"Conte um pouco sobre você...",value:u,onChange:x=>h(x.target.value),className:"ppm:w-full",disabled:w})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"avatarUrl",className:"ppm:text-sm ppm:font-medium",children:"URL da foto de perfil (opcional)"}),d.jsx(nt,{id:"avatarUrl",type:"url",placeholder:"https://example.com/avatar.jpg",value:m,onChange:x=>f(x.target.value),className:"ppm:w-full",disabled:w})]}),d.jsxs("div",{className:"ppm:flex ppm:space-x-3 ppm:mt-6",children:[d.jsx(De,{type:"button",variant:"outline",onClick:_,className:"ppm:flex-1",disabled:w,children:"Cancelar"}),d.jsx(De,{type:"submit",className:"ppm:flex-1",variant:"default",disabled:w,children:w?"Salvando...":"Salvar"})]})]})]})]}):d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsx("p",{className:"ppm:text-gray-600",children:"Usuário não encontrado"})})}function Lk(){const{setAppBarContent:t}=fr(),{user:e}=Xt(),{userProfile:n}=gp(),r=Nt(),{username:i}=Yc(),[s,o]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState({}),[m,f]=E.useState({});!i||n&&n.username;const w=i||(n==null?void 0:n.username);E.useEffect(()=>{(async()=>{if(w){c(!0);try{const _=await Ee.findByUsername(w);if(!_||!_.id){console.error("Usuário não encontrado");return}const x=await Ee.getFollowers(_.id,50),L=x.map(M=>({...M,email:M.email??""}));if(o(L),e){const M={};for(const F of x){const S=await Ee.isFollowing(e.uid,F.id);M[F.id]=S}h(M)}}catch(_){console.error("Erro ao carregar seguidores:",_)}finally{c(!1)}}})()},[w,e]),E.useEffect(()=>{t(d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:d.jsx(qc,{className:"ppm:w-5 ppm:h-5"})}),d.jsx("p",{className:"ppm:text-xs ppm:text-gray-600",children:w?`@${w}`:""})]}))},[t]),E.useEffect(()=>()=>t(null),[t]);const T=async v=>{if(!(!e||!v)){f(_=>({..._,[v]:!0}));try{u[v]?(await Ee.unfollowUser(e.uid,v),h(_=>({..._,[v]:!1}))):(await Ee.followUser(e.uid,v),h(_=>({..._,[v]:!0})))}catch(_){console.error("Erro ao seguir/deixar de seguir:",_)}finally{f(_=>({..._,[v]:!1}))}}},I=v=>{r(`/profile/${v}`)},N=v=>v.split(" ").map(_=>_.charAt(0)).join("").toUpperCase().slice(0,2);return d.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[d.jsx("div",{children:d.jsx("h1",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Seguidores"})}),l?d.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((v,_)=>d.jsx(Gs,{children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:gap-4",children:[d.jsx(Ne,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),d.jsxs("div",{className:"ppm:flex-1",children:[d.jsx(Ne,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-3"})]}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},_))}):d.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(v=>d.jsx(Gs,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>I(v.username),children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[d.jsxs(pr,{className:"ppm:w-12 ppm:h-12",children:[d.jsx(dr,{src:v.avatarUrl||"",alt:v.displayName||v.username}),d.jsx(hr,{className:"ppm:bg-blue-500 ppm:text-white",children:N(v.displayName||v.username)})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[d.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:v.displayName}),d.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",v.username]})]}),e&&v.id!==e.uid&&d.jsx(De,{size:"sm",variant:u[v.id]?"outline":"default",onClick:_=>{_.stopPropagation(),T(v.id)},disabled:m[v.id],className:"ppm:flex ppm:items-center ppm:space-x-2",children:m[v.id]?d.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):u[v.id]?d.jsx(d.Fragment,{children:d.jsx(Hc,{className:"ppm:w-4 ppm:h-4"})}):d.jsx(d.Fragment,{children:d.jsx(vS,{className:"ppm:w-4 ppm:h-4"})})})]})},v.id)):d.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:d.jsx("p",{className:"ppm:text-xs",children:"Nenhum seguidor ainda."})})})]})}function Dk(){const{setAppBarContent:t}=fr(),{user:e}=Xt(),{userProfile:n}=gp(),r=Nt(),{username:i}=Yc(),[s,o]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState({}),m=!i||n&&n.username===i,f=i||(n==null?void 0:n.username);E.useEffect(()=>{(async()=>{if(f){c(!0);try{const v=await Ee.findByUsername(f);if(!v||!v.id){console.error("Usuário não encontrado");return}const x=(await Ee.getFollowing(v.id,50)).map(L=>({...L,email:L.email??""}));o(x)}catch(v){console.error("Erro ao carregar seguindo:",v)}finally{c(!1)}}})()},[f]),E.useEffect(()=>{t(d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:space-x-4 ",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"ppm:p-2",children:d.jsx(qc,{className:"ppm:w-5 ppm:h-5"})}),d.jsx("p",{className:"ppm:text-xs ppm:text-gray-600",children:f?`@${f}`:""})]}))},[t]),E.useEffect(()=>()=>t(null),[t]);const w=async N=>{if(!(!e||!N)){h(v=>({...v,[N]:!0}));try{await Ee.unfollowUser(e.uid,N),o(v=>v.filter(_=>_.id!==N))}catch(v){console.error("Erro ao deixar de seguir:",v)}finally{h(v=>({...v,[N]:!1}))}}},T=N=>{r(`/profile/${N}`)},I=N=>N.split(" ").map(v=>v.charAt(0)).join("").toUpperCase().slice(0,2);return d.jsxs("div",{className:"ppm:p-4 ppm:space-y-4",children:[d.jsx("div",{children:d.jsx("h1",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:"Seguindo"})}),l?d.jsx("div",{className:"ppm:space-y-4",children:[...Array(5)].map((N,v)=>d.jsx(Gs,{className:"ppm:p-2",children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4 ",children:[d.jsx(Ne,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),d.jsxs("div",{className:"ppm:flex-1",children:[d.jsx(Ne,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-3"})]}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},v))}):d.jsx("div",{className:"ppm:space-y-2",children:s.length>0?s.map(N=>d.jsx(Gs,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>T(N.username),children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[d.jsxs(pr,{className:"ppm:w-12 ppm:h-12",children:[d.jsx(dr,{src:N.avatarUrl||"",alt:N.displayName||N.username}),d.jsx(hr,{className:"ppm:bg-blue-500 ppm:text-white",children:I(N.displayName||N.username)})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[d.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:N.displayName}),d.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",N.username]})]}),m&&e&&N.id!==e.uid&&d.jsx(De,{size:"sm",variant:"outline",onClick:v=>{v.stopPropagation(),w(N.id)},disabled:u[N.id],className:"ppm:flex ppm:items-center ppm:space-x-2 ppm:bg-red-50 ppm:text-red-600 ppm:border-red-200 ppm:hover:bg-red-100",children:u[N.id]?d.jsx("div",{className:"ppm:w-4 ppm:h-4 ppm:border-2 ppm:border-current ppm:border-t-transparent ppm:rounded-full ppm:animate-spin"}):d.jsx(d.Fragment,{children:d.jsx(yS,{className:"ppm:w-4 ppm:h-4"})})})]})},N.id)):d.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:py-8",children:d.jsx("p",{className:"ppm:text-xs",children:"Não está seguindo ninguém ainda."})})})]})}function uM(){return d.jsxs("div",{className:"ppm:space-y-4",children:[d.jsx("h2",{className:"ppm:text-lg ppm:font-bold",children:"Ajuda"}),d.jsx("p",{className:"ppm:text-sm",children:"Aqui vão informações de ajuda."}),d.jsx(De,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:"Voltar"})]})}function pM({children:t}){const{user:e,loading:n}=Xt();return n?null:e?d.jsx(d.Fragment,{children:t}):d.jsx(Xc,{to:"/login",replace:!0})}var dM=E.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),zn=function(e,n,r){var i=r.get(e);return i?i(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function Vk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tn=E.forwardRef(function(t,e){var n=t.alt,r=t.color,i=t.size,s=t.weight,o=t.mirrored,l=t.children,c=t.renderPath,u=Vk(t,["alt","color","size","weight","mirrored","children","renderPath"]),h=E.useContext(dM),m=h.color,f=m===void 0?"currentColor":m,w=h.size,T=h.weight,I=T===void 0?"regular":T,N=h.mirrored,v=N===void 0?!1:N,_=Vk(h,["color","size","weight","mirrored"]);return R.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i??w,height:i??w,fill:r??f,viewBox:"0 0 256 256",transform:o||v?"scale(-1, 1)":void 0},_,u),!!n&&R.createElement("title",null,n),l,R.createElement("rect",{width:"256",height:"256",fill:"none"}),c(s??I,r??f))});Tn.displayName="IconBase";var Xi=new Map;Xi.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Xi.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Xi.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-4.9,7.4,8.5,8.5,0,0,1-3.1.6,8.3,8.3,0,0,1-5.7-2.3l-72-72a8.1,8.1,0,0,1,0-11.4l72-72a8.4,8.4,0,0,1,8.8-1.7A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))}),Xi.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Xi.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Xi.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"128",x2:"40",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("polyline",{points:"112 56 40 128 112 200",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var hM=function(e,n){return zn(e,n,Xi)},Mk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:hM}))});Mk.displayName="ArrowLeft";var Ji=new Map;Ji.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Ji.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",opacity:"0.2"}),R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Ji.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,24A104,104,0,0,0,36.8,178l-8.5,30A15.9,15.9,0,0,0,48,227.7l30-8.5A104,104,0,1,0,128,24Z"}))}),Ji.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Ji.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Ji.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M45.4,177A95.9,95.9,0,1,1,79,210.6h0L45.8,220a7.9,7.9,0,0,1-9.8-9.8L45.4,177Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var mM=function(e,n){return zn(e,n,Ji)},jk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:mM}))});jk.displayName="ChatCircle";var Zi=new Map;Zi.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),Zi.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"96",opacity:"0.2"}),R.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),Zi.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.2,104.2,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))}),Zi.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),Zi.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),Zi.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"96",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("polyline",{points:"128 72 128 128 184 128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var fM=function(e,n){return zn(e,n,Zi)},Ok=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:fM}))});Ok.displayName="Clock";var es=new Map;es.set("bold",function(){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"16"}),R.createElement("circle",{cx:"64",cy:"128",r:"16"}),R.createElement("circle",{cx:"192",cy:"128",r:"16"}))}),es.set("duotone",function(){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"12"}),R.createElement("circle",{cx:"192",cy:"128",r:"12"}),R.createElement("circle",{cx:"64",cy:"128",r:"12"}))}),es.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm52-12a12,12,0,1,0,12,12A12,12,0,0,0,192,116ZM64,116a12,12,0,1,0,12,12A12,12,0,0,0,64,116Z"}))}),es.set("light",function(){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"10"}),R.createElement("circle",{cx:"64",cy:"128",r:"10"}),R.createElement("circle",{cx:"192",cy:"128",r:"10"}))}),es.set("thin",function(){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"8"}),R.createElement("circle",{cx:"64",cy:"128",r:"8"}),R.createElement("circle",{cx:"192",cy:"128",r:"8"}))}),es.set("regular",function(){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"128",r:"12"}),R.createElement("circle",{cx:"192",cy:"128",r:"12"}),R.createElement("circle",{cx:"64",cy:"128",r:"12"}))});var gM=function(e,n){return zn(e,n,es)},Fk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:gM}))});Fk.displayName="DotsThree";var ts=new Map;ts.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ts.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ts.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))}),ts.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ts.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ts.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var yM=function(e,n){return zn(e,n,ts)},yp=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:yM}))});yp.displayName="Heart";var ns=new Map;ns.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ns.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",opacity:"0.2"}),R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ns.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.8,103.7,138.8,31a16,16,0,0,0-21.6,0l-80,72.7A16,16,0,0,0,32,115.5v92.1a16.4,16.4,0,0,0,4,11A15.9,15.9,0,0,0,48,224H96a8,8,0,0,0,8-8V168a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8v48a8,8,0,0,0,8,8h48a15.6,15.6,0,0,0,7.6-1.9A16.1,16.1,0,0,0,224,208V115.5A16,16,0,0,0,218.8,103.7Z"}))}),ns.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ns.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ns.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var vM=function(e,n){return zn(e,n,ns)},pl=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:vM}))});pl.displayName="House";var rs=new Map;rs.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),rs.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"116",cy:"116",r:"84",opacity:"0.2"}),R.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),rs.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M176,116a60,60,0,1,1-60-60A60,60,0,0,1,176,116Zm53.6,113.7A8,8,0,0,1,224,232a8.3,8.3,0,0,1-5.7-2.3l-43.2-43.3a92.2,92.2,0,1,1,11.3-11.3l43.2,43.2A8,8,0,0,1,229.6,229.7ZM116,192a76,76,0,1,0-76-76A76.1,76.1,0,0,0,116,192Z"}))}),rs.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),rs.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),rs.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"116",cy:"116",r:"84",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"175.4",y1:"175.4",x2:"224",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var wM=function(e,n){return zn(e,n,rs)},Uk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:wM}))});Uk.displayName="MagnifyingGlass";var is=new Map;is.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),is.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,24a80,80,0,0,0-80,80c0,72,80,128,80,128s80-56,80-128A80,80,0,0,0,128,24Zm0,112a32,32,0,1,1,32-32A32,32,0,0,1,128,136Z",opacity:"0.2"}),R.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),is.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M128,16a88.1,88.1,0,0,0-88,88c0,75.3,80,132.2,83.4,134.6a8.3,8.3,0,0,0,9.2,0C136,236.2,216,179.3,216,104A88.1,88.1,0,0,0,128,16Zm0,56a32,32,0,1,1-32,32A32,32,0,0,1,128,72Z"}))}),is.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),is.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),is.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"104",r:"32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M208,104c0,72-80,128-80,128S48,176,48,104a80,80,0,0,1,160,0Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var _M=function(e,n){return zn(e,n,is)},rg=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:_M}))});rg.displayName="MapPin";var ss=new Map;ss.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),ss.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),ss.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))}),ss.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),ss.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),ss.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var EM=function(e,n){return zn(e,n,ss)},zk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:EM}))});zk.displayName="Plus";var os=new Map;os.set("bold",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))}),os.set("duotone",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),R.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}),os.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))}),os.set("light",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))}),os.set("thin",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))}),os.set("regular",function(t){return R.createElement(R.Fragment,null,R.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),R.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var xM=function(e,n){return zn(e,n,os)},Bk=E.forwardRef(function(t,e){return R.createElement(Tn,Object.assign({ref:e},t,{renderPath:xM}))});Bk.displayName="User";function kM(){const t={size:16};return d.jsxs("nav",{className:`
        ppm:absolute ppm:bottom-0 ppm:left-0 ppm:right-0 ppm:z-50
        ppm:h-14 ppm:flex-shrink-0
        ppm:bg-white ppm:border-t
        ppm:flex ppm:justify-between ppm:items-center ppm:px-4
        ppm:pb-[env(safe-area-inset-bottom)]
      `,children:[d.jsx(Hs,{to:"/home",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Home",children:({isActive:e})=>d.jsx(pl,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),d.jsx(Hs,{to:"/find",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Buscar",children:({isActive:e})=>d.jsx(Uk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),d.jsx(Hs,{to:"/add-post",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Adicionar",children:({isActive:e})=>d.jsx(zk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),d.jsx(Hs,{to:"/favorites",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Favoritos",children:({isActive:e})=>d.jsx(yp,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})}),d.jsx(Hs,{to:"/profile",className:"ppm:flex-1 ppm:flex ppm:justify-center",title:"Perfil",children:({isActive:e})=>d.jsx(Bk,{...t,color:e?"#000":"#888",weight:e?"fill":"regular"})})]})}function $k(){const{content:t}=fr();return d.jsx("header",{className:"ppm:h-12 ppm:flex ppm:items-center ppm:px-4 ppm:bg-white ppm:border-b ppm:border-gray-200 ppm:sticky ppm:top-0 ppm:z-20",children:t??d.jsx("span",{className:"ppm:font-bold ppm:text-lg",children:"Popgram"})})}function TM(){return d.jsx(Rk,{children:d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:h-full ppm:overflow-hidden",children:[d.jsx($k,{}),d.jsx("div",{className:"ppm:flex-1 ppm:overflow-y-auto ppm:overflow-x-hidden ppm:pb-28",children:d.jsx(Mw,{})}),d.jsx(kM,{})]})})}const IM=rw("ppm:inline-flex ppm:items-center ppm:justify-center ppm:rounded-md ppm:border ppm:px-2 ppm:py-0.5 ppm:text-xs ppm:font-medium ppm:w-fit ppm:whitespace-nowrap ppm:shrink-0 ppm:[&>svg]:size-3 ppm:gap-1 ppm:[&>svg]:pointer-events-none ppm:focus-visible:border-ring ppm:focus-visible:ring-ring/50 ppm:focus-visible:ring-[3px] ppm:aria-invalid:ring-destructive/20 ppm:dark:aria-invalid:ring-destructive/40 ppm:aria-invalid:border-destructive ppm:transition-[color,box-shadow] ppm:overflow-hidden",{variants:{variant:{default:"ppm:border-transparent ppm:bg-primary ppm:text-primary-foreground ppm:[a&]:hover:bg-primary/90",secondary:"ppm:border-transparent ppm:bg-secondary ppm:text-secondary-foreground ppm:[a&]:hover:bg-secondary/90",destructive:"ppm:border-transparent ppm:bg-destructive ppm:text-white ppm:[a&]:hover:bg-destructive/90 ppm:focus-visible:ring-destructive/20 ppm:dark:focus-visible:ring-destructive/40 ppm:dark:bg-destructive/60",outline:"ppm:text-foreground ppm:[a&]:hover:bg-accent ppm:[a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ig({className:t,variant:e,asChild:n=!1,...r}){const i=n?J0:"span";return d.jsx(i,{"data-slot":"badge",className:lt(IM({variant:e}),t),...r})}function bM({post:t,onLikeChange:e,onCommentClick:n,onShareClick:r,onSaveClick:i,onUserClick:s,onTagClick:o}){var M,F,S,y,b;const{user:l}=Xt(),c=Nt(),[u,h]=E.useState(!1);E.useState(!1);const[m,f]=E.useState(t.likeCount||0),[w,T]=E.useState(t.commentCount||0);E.useEffect(()=>{(async()=>{if(!(!l||!t.id))try{const A=await To.isLiked(l.uid,t.id,"post");console.log(`Post ${t.id} - Usuário ${l.uid} curtiu:`,A),h(A)}catch(A){console.error("Erro ao verificar status do like:",A)}})()},[l,t.id]);const I=C=>C.split(" ").map(A=>A.charAt(0)).join("").toUpperCase().slice(0,2),N=C=>{let A;if(C instanceof Date)A=C;else if(C&&typeof C.toDate=="function")A=C.toDate();else if(C&&typeof C.seconds=="number")A=new Date(C.seconds*1e3);else if(typeof C=="string"||typeof C=="number")A=new Date(C);else return"Data desconhecida";if(isNaN(A.getTime()))return"Data inválida";const P=new Date().getTime()-A.getTime(),H=Math.floor(P/(1e3*60*60*24));return H===0?"Hoje":H===1?"Ontem":H<7?`${H} dias atrás`:H<30?`${Math.floor(H/7)} semanas atrás`:H<365?`${Math.floor(H/30)} meses atrás`:`${Math.floor(H/365)} anos atrás`},v=async()=>{if(l)try{u?(await To.unlike(l.uid,t.id,"post"),h(!1),f(C=>Math.max(0,C-1)),e==null||e(t.id,!1)):(await To.like(l.uid,t.id,"post"),h(!0),f(C=>C+1),e==null||e(t.id,!0))}catch(C){console.error("Erro ao curtir/descurtir:",C)}},_=()=>{n?n(t.id):c(`/post/${t.id}`)},x=()=>{var C,A;s?s(((C=t.user)==null?void 0:C.username)||""):c(`/profile/${(A=t.user)==null?void 0:A.username}`)},L=C=>{o?o(C):c(`/profile/${C}`)};return d.jsxs("div",{className:"ppm:bg-white ppm:border-b ppm:border-gray-200",children:[d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-3",children:d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3",children:[d.jsxs(pr,{className:"ppm:w-8 ppm:h-8",children:[d.jsx(dr,{src:(M=t.user)==null?void 0:M.avatarUrl,alt:((F=t.user)==null?void 0:F.displayName)||""}),d.jsx(hr,{className:"ppm:text-xs",children:I(((S=t.user)==null?void 0:S.displayName)||"")})]}),d.jsxs("div",{className:"ppm:flex ppm:flex-col",children:[d.jsx("button",{onClick:x,className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900 ppm:text-left ppm:hover:opacity-80",children:(y=t.user)==null?void 0:y.username}),t.location&&d.jsxs("span",{className:"ppm:text-xs ppm:text-gray-500 ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(rg,{className:"ppm:w-3 ppm:h-3"}),t.location]})]})]})}),d.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100",children:d.jsx("img",{src:t.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover ppm:cursor-pointer",onClick:()=>c(`/post/${t.id}`)})}),d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2",children:d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-4",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:v,className:"ppm:p-1",children:d.jsx(yp,{className:"ppm:w-6 ppm:h-6",weight:u?"fill":"regular",color:u?"#ef4444":"#000000"})}),d.jsx(De,{variant:"ghost",size:"sm",onClick:_,className:"ppm:p-1",children:d.jsx(jk,{className:"ppm:w-6 ppm:h-6"})})]})}),m>0&&d.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:d.jsxs("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:[m," curtida",m!==1?"s":""]})}),t.caption&&d.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:d.jsxs("div",{className:"ppm:flex ppm:gap-2",children:[d.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(b=t.user)==null?void 0:b.username}),d.jsx("span",{className:"ppm:text-sm ppm:text-gray-900",children:t.caption})]})}),t.tags&&t.tags.length>0&&d.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:d.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-1",children:t.tags.map((C,A)=>d.jsxs(ig,{variant:"secondary",className:"ppm:text-xs ppm:cursor-pointer ppm:hover:bg-blue-100",onClick:()=>L(C),children:["@",C]},A))})}),w>0&&d.jsx("div",{className:"ppm:px-3 ppm:pb-2",children:d.jsxs("span",{onClick:()=>c(`/post/${t.id}`),className:"ppm:text-sm ppm:text-gray-500",children:["Ver todos os ",w," comentário",w!==1?"s":""]})}),d.jsx("div",{className:"ppm:px-3 ppm:pb-3",children:d.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:N(t.createdAt)})})]})}function SM({type:t,userId:e,limit:n=10}){const{user:r}=Xt(),[i,s]=E.useState([]),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[h,m]=E.useState(!0),[f,w]=E.useState(null),[T,I]=E.useState(null),N=E.useCallback(async()=>{if(!(!r&&t==="feed")){l(!0),w(null);try{let M=[];switch(t){case"feed":if(r){const y=(await Ee.getFollowing(r.uid,100)).map(C=>C.id).filter(C=>C!==void 0),b=[r.uid,...y];console.log("Feed - Usuário atual:",r.uid),console.log("Feed - Seguindo:",y),console.log("Feed - Todos os IDs:",b),b.length>0&&(M=await Ut.getFeedPosts(r.uid,b,n),console.log("Feed - Posts encontrados:",M.length))}break;case"user":if(e){const S=await Ut.getPostsByUser(e,n);M=await Ut.getPostsWithUser(S)}break;case"public":const F=await Ut.getPublicPosts(n);M=await Ut.getPostsWithUser(F);break}s(M),m(M.length===n),M.length>0&&I(M[M.length-1])}catch(M){console.error("Erro ao carregar posts:",M),w("Erro ao carregar posts")}finally{l(!1)}}},[t,e,n,r]),v=E.useCallback(async()=>{if(!(!h||c||!T)){u(!0),w(null);try{let M=[];switch(t){case"feed":if(r){const b=(await Ee.getFollowing(r.uid,100)).map(A=>A.id).filter(A=>A!==void 0),C=[r.uid,...b];C.length>0&&(M=await Ut.getFeedPosts(r.uid,C,n))}break;case"user":if(e){const y=await Ut.getPostsByUser(e,n);M=await Ut.getPostsWithUser(y)}break;case"public":const S=await Ut.getPublicPosts(n);M=await Ut.getPostsWithUser(S);break}const F=M.filter(S=>!i.some(y=>y.id===S.id));F.length>0?(s(S=>[...S,...F]),I(F[F.length-1]),m(F.length===n)):m(!1)}catch(M){console.error("Erro ao carregar mais posts:",M),w("Erro ao carregar mais posts")}finally{u(!1)}}},[t,e,n,h,c,T,i,r]),_=E.useCallback((M,F)=>{s(S=>S.map(y=>y.id===M?{...y,...F}:y))},[]),x=E.useCallback(M=>{s(F=>F.filter(S=>S.id!==M))},[]),L=E.useCallback(()=>{s([]),I(null),m(!0),N()},[N]);return E.useEffect(()=>{N()},[N]),{posts:i,loading:o,loadingMore:c,hasMore:h,error:f,loadMorePosts:v,updatePost:_,removePost:x,refresh:L}}function CM(){fr();const{user:t}=Xt(),e=Nt(),n=E.useRef(null);E.useRef(null);const{posts:r,loading:i,loadingMore:s,hasMore:o,error:l,loadMorePosts:c,updatePost:u,refresh:h}=SM({type:"feed",limit:10}),m=E.useCallback(N=>{s||(n.current&&n.current.disconnect(),n.current=new IntersectionObserver(v=>{v[0].isIntersecting&&o&&!s&&c()}),N&&n.current.observe(N))},[s,o,c]);E.useEffect(()=>()=>{n.current&&n.current.disconnect()},[]);const f=(N,v)=>{var _,x;u(N,{likeCount:v?(((_=r.find(L=>L.id===N))==null?void 0:_.likeCount)||0)+1:Math.max(0,(((x=r.find(L=>L.id===N))==null?void 0:x.likeCount)||0)-1)})},w=N=>{e(`/post/${N}`)},T=N=>{e(`/profile/${N}`)},I=N=>{e(`/profile/${N}`)};return t?i&&r.length===0?d.jsx("div",{className:"ppm:space-y-4",children:[...Array(3)].map((N,v)=>d.jsxs("div",{className:"ppm:bg-white ppm:border-b ppm:border-gray-200",children:[d.jsxs("div",{className:"ppm:p-3 ppm:flex ppm:items-center ppm:gap-3",children:[d.jsx("div",{className:"ppm:w-8 ppm:h-8 ppm:bg-gray-200 ppm:rounded-full ppm:animate-pulse"}),d.jsxs("div",{className:"ppm:flex-1 ppm:space-y-2",children:[d.jsx("div",{className:"ppm:h-4 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"}),d.jsx("div",{className:"ppm:h-3 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse ppm:w-1/2"})]})]}),d.jsx("div",{className:"ppm:aspect-square ppm:bg-gray-200 ppm:animate-pulse"}),d.jsxs("div",{className:"ppm:p-3 ppm:space-y-2",children:[d.jsx("div",{className:"ppm:h-4 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse"}),d.jsx("div",{className:"ppm:h-3 ppm:bg-gray-200 ppm:rounded ppm:animate-pulse ppm:w-3/4"})]})]},v))}):l&&r.length===0?d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:d.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[d.jsx(pl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),d.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Erro ao carregar posts"}),d.jsx("p",{className:"ppm:text-gray-600",children:l}),d.jsx("button",{onClick:h,className:"ppm:px-4 ppm:py-2 ppm:bg-blue-600 ppm:text-white ppm:rounded-md ppm:hover:bg-blue-700",children:"Tentar novamente"})]})}):r.length===0&&!i?d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:d.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[d.jsx(pl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),d.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Nenhum post encontrado"}),d.jsx("p",{className:"ppm:text-gray-600",children:"Siga algumas pessoas para ver posts na sua timeline."}),d.jsx("button",{onClick:()=>e("/find"),className:"ppm:px-4 ppm:py-2 ppm:bg-blue-600 ppm:text-white ppm:rounded-md ppm:hover:bg-blue-700",children:"Encontrar pessoas"})]})}):d.jsxs("div",{className:"ppm:space-y-0",children:[r.map((N,v)=>d.jsx("div",{ref:v===r.length-1?m:void 0,children:d.jsx(bM,{post:N,onLikeChange:f,onCommentClick:w,onUserClick:T,onTagClick:I})},N.id)),s&&d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsxs("div",{className:"ppm:inline-flex ppm:items-center ppm:gap-2",children:[d.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-4 ppm:w-4 ppm:border-b-2 ppm:border-blue-600"}),d.jsx("span",{className:"ppm:text-sm ppm:text-gray-600",children:"Carregando mais posts..."})]})}),!o&&r.length>0&&d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsx("span",{className:"ppm:text-sm ppm:text-gray-500",children:"Você chegou ao fim da timeline"})})]}):d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:d.jsxs("div",{className:"ppm:text-center ppm:space-y-4",children:[d.jsx(pl,{className:"ppm:w-16 ppm:h-16 ppm:text-gray-400 ppm:mx-auto"}),d.jsx("h2",{className:"ppm:text-xl ppm:font-semibold ppm:text-gray-900",children:"Faça login para ver posts"}),d.jsx("p",{className:"ppm:text-gray-600",children:"Entre na sua conta para ver posts de pessoas que você segue."})]})})}function AM(t,e){const[n,r]=E.useState(t);return E.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}function NM(){const{setAppBarContent:t}=fr(),[e,n]=E.useState(""),[r,i]=E.useState([]),[s,o]=E.useState(!1),[l,c]=E.useState(!1),u=Nt(),h=E.useRef(null),m=AM(e,300);return E.useEffect(()=>{t(d.jsxs("div",{className:"ppm:relative ppm:w-full ppm:max-w-md ppm:mx-auto",children:[d.jsx("span",{className:"ppm:absolute ppm:left-3 ppm:top-1/2 ppm:-translate-y-1/2 ppm:text-gray-400",children:d.jsx(kw,{className:"ppm:w-5 ppm:h-5"})}),d.jsx(nt,{ref:h,placeholder:"Buscar usuário...",value:e,onChange:f=>n(f.target.value),className:"ppm:w-full ppm:pl-10 ppm:max-w-md ppm:mx-auto",autoFocus:!0})]}))},[e,t]),E.useEffect(()=>()=>t(null),[t]),E.useEffect(()=>{(async()=>{const w=m.trim();if(w.length<2){i([]),c(!1);return}c(!0),o(!0);try{const T=await Ee.searchUsersImproved(w,20);i(T)}catch(T){console.error("Erro na busca:",T),i([])}finally{o(!1)}})()},[m]),d.jsx("div",{className:"ppm:p-4 ppm:space-y-6",children:s?d.jsx("div",{className:"ppm:space-y-4",children:[...Array(3)].map((f,w)=>d.jsx(Gs,{children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:gap-4 ppm:py-2",children:[d.jsx(Ne,{className:"ppm:w-12 ppm:h-12 ppm:rounded-full"}),d.jsxs("div",{className:"ppm:flex-1",children:[d.jsx(Ne,{className:"ppm:w-32 ppm:h-4 ppm:mb-2"}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-3"})]}),d.jsx(Ne,{className:"ppm:w-20 ppm:h-8 ppm:rounded"})]})},w))}):d.jsx("div",{className:"ppm:space-y-2",children:r.length>0?r.map(f=>d.jsx(Gs,{className:"ppm:cursor-pointer ppm:hover:bg-gray-50 ppm:transition-colors ppm:p-2",onClick:()=>u(`/profile/${f.username}`),children:d.jsxs(nr,{className:"ppm:flex ppm:items-center ppm:px-2 ppm:gap-4",children:[d.jsxs(pr,{className:"ppm:w-12 ppm:h-12",children:[d.jsx(dr,{src:f.avatarUrl||"",alt:f.displayName||f.username}),d.jsx(hr,{children:(f.displayName||f.username||"?").slice(0,2).toUpperCase()})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[d.jsx("div",{className:"ppm:font-semibold ppm:text-sm ppm:text-gray-900 ppm:truncate",children:f.displayName}),d.jsxs("div",{className:"ppm:text-gray-500 ppm:text-xs ppm:truncate",children:["@",f.username]})]})]})},f.id)):l&&e.trim()!==""?d.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:d.jsx("p",{className:"ppm:text-xs",children:"Nenhum usuário encontrado."})}):e.trim()!==""&&e.trim().length<2?d.jsx("div",{className:"ppm:text-center ppm:text-gray-500 ppm:mt-8",children:d.jsx("p",{className:"ppm:text-xs",children:"Digite pelo menos 2 caracteres para buscar."})}):null})})}function RM(){const{user:t}=Xt(),e=Nt(),[n,r]=E.useState(""),[i,s]=E.useState(""),[o,l]=E.useState(""),[c,u]=E.useState(!0),[h,m]=E.useState([]),[f,w]=E.useState([]),[T,I]=E.useState(!1),[N,v]=E.useState(!1),_=E.useCallback(async S=>{if(S.length<2)return[];try{return(await Ee.searchUsersImproved(S,10)).filter(b=>b.id).map(b=>({id:b.id,username:b.username,displayName:b.displayName,avatarUrl:b.avatarUrl}))}catch(y){return console.error("Erro ao buscar usuários para mention:",y),[]}},[]),x=E.useCallback(S=>{w(y=>y.find(C=>C.id===S.id)?y:[...y,S]),m(y=>y.find(C=>C===S.username)?y:[...y,S.username])},[]),L=E.useCallback(S=>{w(y=>y.filter(b=>b.id!==S)),m(y=>{const b=f.find(C=>C.id===S);return b?y.filter(C=>C!==b.username):y})},[f]),M=E.useCallback(()=>{if(!n.trim())throw new Error("URL da imagem é obrigatória");if(!i.trim())throw new Error("Descrição é obrigatória");try{new URL(n)}catch{throw new Error("URL da imagem inválida")}},[n,i]),F=E.useCallback(async()=>{if(!(t!=null&&t.uid))throw new Error("Usuário não autenticado");M(),I(!0);try{await Ut.createPost({userId:t.uid,imageUrl:n.trim(),caption:i.trim(),location:o.trim(),isPublic:c,tags:h}),r(""),s(""),l(""),u(!0),m([]),w([]),e("/profile")}catch(S){throw console.error("Erro ao criar post:",S),S}finally{I(!1)}},[t==null?void 0:t.uid,n,i,o,c,h,M,e]);return{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:l,isPublic:c,setIsPublic:u,tags:h,setTags:m,mentions:f,setMentions:w,loading:T,imageError:N,setImageError:v,searchMentions:_,addMention:x,removeMention:L,submitPost:F,validateForm:M}}function PM(t,e){const[n,r]=E.useState(t);return E.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}function LM({tags:t,onAddTag:e,onRemoveTag:n,searchUsers:r,placeholder:i="Digite @ para marcar pessoas..."}){const[s,o]=E.useState(""),[l,c]=E.useState([]),[u,h]=E.useState(!1),[m,f]=E.useState(!1),w=E.useRef(null),T=E.useRef(null),I=PM(s,300);E.useEffect(()=>{(async()=>{const L=I.trim();if(L.length<2){c([]),f(!1);return}h(!0),f(!0);try{const M=await r(L);c(M.filter(F=>!t.some(S=>S.id===F.id)))}catch(M){console.error("Erro na busca de tags:",M),c([])}finally{h(!1)}})()},[I,t,r]),E.useEffect(()=>{const x=L=>{T.current&&!T.current.contains(L.target)&&f(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const N=x=>{const L=x.target.value;o(L),L.startsWith("@")?o(L.slice(1)):(o(""),f(!1))},v=x=>{var L;e({id:x.id,username:x.username,displayName:x.displayName,avatarUrl:x.avatarUrl}),o(""),f(!1),w.current&&(w.current.value=""),(L=w.current)==null||L.focus()},_=x=>{n(x)};return d.jsxs("div",{className:"ppm:space-y-3",children:[d.jsxs("div",{className:"ppm:relative",children:[d.jsxs("div",{className:"ppm:relative",children:[d.jsx(uS,{className:"ppm:absolute ppm:left-3 ppm:top-1/2 ppm:-translate-y-1/2 ppm:w-4 ppm:h-4 ppm:text-gray-400"}),d.jsx(nt,{ref:w,placeholder:i,onChange:N,className:"ppm:pl-10"})]}),m&&d.jsx("div",{ref:T,className:"ppm:absolute ppm:top-full ppm:left-0 ppm:right-0 ppm:z-50 ppm:bg-white ppm:border ppm:border-gray-200 ppm:rounded-md ppm:shadow-lg ppm:max-h-60 ppm:overflow-y-auto ppm:mt-1",children:u?d.jsx("div",{className:"ppm:p-4 ppm:text-center ppm:text-gray-500",children:"Buscando..."}):l.length>0?d.jsx("div",{className:"ppm:py-2",children:l.map(x=>d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3 ppm:px-4 ppm:py-2 ppm:hover:bg-gray-50 ppm:cursor-pointer",onClick:()=>v(x),children:[d.jsxs(pr,{className:"ppm:w-8 ppm:h-8",children:[d.jsx(dr,{src:x.avatarUrl,alt:x.displayName||x.username}),d.jsx(hr,{children:(x.displayName||x.username).slice(0,2).toUpperCase()})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[d.jsx("div",{className:"ppm:font-medium ppm:text-sm ppm:text-gray-900 ppm:truncate",children:x.displayName||x.username}),d.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:truncate",children:["@",x.username]})]}),d.jsx(kw,{className:"ppm:w-4 ppm:h-4 ppm:text-gray-400"})]},x.id))}):s.length>=2?d.jsx("div",{className:"ppm:p-4 ppm:text-center ppm:text-gray-500",children:"Nenhum usuário encontrado."}):null})]}),t.length>0&&d.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-2",children:t.map(x=>d.jsxs(ig,{variant:"secondary",className:"ppm:flex ppm:items-center ppm:gap-1 ppm:px-2 ppm:py-1",children:[d.jsxs(pr,{className:"ppm:w-4 ppm:h-4",children:[d.jsx(dr,{src:x.avatarUrl,alt:x.displayName||x.username}),d.jsx(hr,{className:"ppm:text-xs",children:(x.displayName||x.username).slice(0,2).toUpperCase()})]}),d.jsxs("span",{className:"ppm:text-xs",children:["@",x.username]}),d.jsx(De,{variant:"ghost",size:"sm",className:"ppm:h-4 ppm:w-4 ppm:p-0 ppm:ml-1",onClick:()=>_(x.id),children:d.jsx(Tw,{className:"ppm:w-3 ppm:h-3"})})]},x.id))}),d.jsx("div",{className:"ppm:text-xs ppm:text-gray-500",children:"Use @ para marcar pessoas na sua publicação"})]})}function DM(){const{setAppBarContent:t}=fr(),e=Nt(),{imageUrl:n,setImageUrl:r,caption:i,setCaption:s,location:o,setLocation:l,mentions:c,loading:u,imageError:h,setImageError:m,searchMentions:f,addMention:w,removeMention:T,submitPost:I}=RM(),[N,v]=E.useState(!1);E.useEffect(()=>(t(d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"ppm:p-2",children:d.jsx(qc,{className:"ppm:w-5 ppm:h-5"})}),d.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Novo Post"}),d.jsx(De,{variant:"ghost",size:"sm",onClick:x,disabled:u||!n.trim()||!i.trim(),className:"ppm:text-blue-600 ppm:hover:text-blue-700 ppm:font-medium",children:u?"Postando...":"Compartilhar"})]})),()=>t(null)),[t,e,u,n,i]);const _=L=>{if(r(L),m(!1),L.trim()){v(!0);const M=new window.Image;M.onload=()=>{v(!1),m(!1)},M.onerror=()=>{v(!1),m(!0)},M.src=L}},x=async()=>{try{await I()}catch(L){console.error("Erro ao criar post:",L)}};return d.jsxs("div",{className:"ppm:p-4 ppm:space-y-6",children:[d.jsxs("div",{className:"ppm:space-y-4",children:[d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsxs(ct,{htmlFor:"imageUrl",className:"ppm:flex ppm:items-center ppm:gap-2",children:[d.jsx(hS,{className:"ppm:w-4 ppm:h-4"}),"URL da Imagem"]}),d.jsx(nt,{id:"imageUrl",type:"url",placeholder:"Cole a URL da sua imagem aqui...",value:n,onChange:L=>_(L.target.value),className:"ppm:w-full"})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{className:"ppm:text-sm ppm:font-medium ppm:text-gray-700",children:"Preview da Imagem"}),d.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100 ppm:rounded-lg ppm:overflow-hidden ppm:border-2 ppm:border-dashed ppm:border-gray-300",children:n.trim()?d.jsxs(d.Fragment,{children:[N&&d.jsx("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:items-center ppm:justify-center ppm:bg-gray-100",children:d.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-8 ppm:w-8 ppm:border-b-2 ppm:border-blue-600"})}),h&&d.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:bg-red-50 ppm:text-red-600",children:[d.jsx(pS,{className:"ppm:w-8 ppm:h-8 ppm:mb-2"}),d.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Erro ao carregar imagem"})]}),!N&&!h&&d.jsx("img",{src:n,alt:"Preview",className:"ppm:w-full ppm:h-full ppm:object-cover",onError:()=>m(!0)})]}):d.jsxs("div",{className:"ppm:absolute ppm:inset-0 ppm:flex ppm:flex-col ppm:items-center ppm:justify-center ppm:text-gray-400",children:[d.jsx(_w,{className:"ppm:w-12 ppm:h-12 ppm:mb-2"}),d.jsx("span",{className:"ppm:text-sm ppm:font-medium",children:"Proporção recomendada: 1:1"}),d.jsx("span",{className:"ppm:text-xs",children:"Cole uma URL de imagem para ver o preview"})]})}),d.jsxs("div",{className:"ppm:text-xs ppm:text-gray-500 ppm:bg-blue-50 ppm:p-3 ppm:rounded-md",children:[d.jsx("div",{className:"ppm:font-medium ppm:text-blue-800 ppm:mb-1",children:"💡 Dica de Proporção"}),d.jsx("p",{children:"Para melhor visualização, use imagens com proporção 1:1 (quadrada). Imagens com outras proporções serão cortadas para se ajustar ao formato quadrado."})]})]})]}),d.jsxs("div",{className:"ppm:space-y-4",children:[d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{htmlFor:"caption",className:"ppm:font-medium ppm:text-gray-700",children:"Descrição"}),d.jsx(nt,{id:"caption",placeholder:"Escreva uma descrição para sua publicação...",value:i,onChange:L=>s(L.target.value),className:"ppm:w-full"})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsx(ct,{className:"ppm:font-medium ppm:text-gray-700",children:"Marcações"}),d.jsx(LM,{tags:c,onAddTag:w,onRemoveTag:T,searchUsers:f,placeholder:"Digite @ para marcar pessoas..."})]}),d.jsxs("div",{className:"ppm:space-y-2",children:[d.jsxs(ct,{htmlFor:"location",className:"ppm:flex ppm:items-center ppm:gap-2",children:[d.jsx(fS,{className:"ppm:w-4 ppm:h-4"}),"Localização"]}),d.jsx(nt,{id:"location",placeholder:"Adicionar localização...",value:o,onChange:L=>l(L.target.value),className:"ppm:w-full"})]})]})]})}function VM(){return d.jsx("div",{className:"ppm:text-center ppm:mt-10 ppm:text-xl",children:"Favoritos (Mock)"})}function MM(){const{user:t}=Xt();return console.log("user",t),t?d.jsx(Xc,{to:"/profile",replace:!0}):d.jsx(Xc,{to:"/login",replace:!0})}function jM(){var F,S,y,b,C;const{postId:t}=Yc(),{user:e}=Xt(),n=Nt(),{setAppBarContent:r}=fr(),[i,s]=E.useState(null),[o,l]=E.useState([]),[c,u]=E.useState(!0),[h,m]=E.useState(!1),[f,w]=E.useState(!1);E.useState(!1);const[T,I]=E.useState(""),[N,v]=E.useState(!1);E.useEffect(()=>{(async()=>{var D,P;if(t){u(!0);try{const H=await Ut.getById(t);if(H){const q=await Ee.getById(H.userId),Z={...H,createdAt:H.createdAt instanceof Date?H.createdAt:(D=H.createdAt)!=null&&D.toDate?H.createdAt.toDate():new Date(H.createdAt),updatedAt:H.updatedAt instanceof Date?H.updatedAt:(P=H.updatedAt)!=null&&P.toDate?H.updatedAt.toDate():new Date(H.updatedAt),user:q?{id:q.id,username:q.username,avatarUrl:q.avatarUrl,displayName:q.displayName}:void 0};if(s(Z),e){const $e=await To.isLiked(e.uid,t,"post");w($e)}}}catch(H){console.error("Erro ao carregar post:",H)}finally{u(!1)}}})()},[t,e]),E.useEffect(()=>{(async()=>{if(t){console.log("Carregando comentários para postId:",t),m(!0);try{await dp.debugGetAllComments();const D=await dp.getCommentsByPostWithUser(t,50);console.log("Comentários carregados:",D);const P=D.map(H=>{var q,Z;return{...H,createdAt:H.createdAt instanceof Date?H.createdAt:(q=H.createdAt)!=null&&q.toDate?H.createdAt.toDate():new Date(H.createdAt),updatedAt:H.updatedAt instanceof Date?H.updatedAt:(Z=H.updatedAt)!=null&&Z.toDate?H.updatedAt.toDate():new Date(H.updatedAt)}});console.log("Comentários com datas convertidas:",P),l(P)}catch(D){console.error("Erro ao carregar comentários:",D)}finally{m(!1)}}})()},[t]),E.useEffect(()=>(r(d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:w-full",children:[d.jsx(De,{variant:"ghost",size:"sm",onClick:()=>n(-1),className:"ppm:p-2",children:d.jsx(Mk,{className:"ppm:w-5 ppm:h-5"})}),d.jsx("span",{className:"ppm:text-lg ppm:font-semibold ppm:text-gray-900",children:"Post"}),d.jsx(De,{variant:"ghost",size:"sm",className:"ppm:p-2",children:d.jsx(Fk,{className:"ppm:w-5 ppm:h-5"})})]})),()=>r(null)),[r,n]);const _=async()=>{if(!(!e||!t))try{f?(await To.unlike(e.uid,t,"post"),w(!1),s(A=>A?{...A,likeCount:Math.max(0,A.likeCount-1)}:null)):(await To.like(e.uid,t,"post"),w(!0),s(A=>A?{...A,likeCount:A.likeCount+1}:null))}catch(A){console.error("Erro ao curtir/descurtir:",A)}},x=async()=>{if(!(!e||!t||!T.trim())){v(!0);try{await dp.createComment({postId:t,userId:e.uid,text:T.trim()});const A=await dp.getCommentsByPostWithUser(t,50);l(A),s(D=>D?{...D,commentCount:D.commentCount+1}:null),I("")}catch(A){console.error("Erro ao comentar:",A)}finally{v(!1)}}},L=A=>{let D;if(A instanceof Date)D=A;else if(A&&typeof A.toDate=="function")D=A.toDate();else if(A&&typeof A.seconds=="number")D=new Date(A.seconds*1e3);else if(typeof A=="string"||typeof A=="number")D=new Date(A);else return"Data desconhecida";if(isNaN(D.getTime()))return"Data inválida";const H=new Date().getTime()-D.getTime(),q=Math.floor(H/(1e3*60*60*24));return q===0?"Hoje":q===1?"Ontem":q<7?`${q} dias atrás`:q<30?`${Math.floor(q/7)} semanas atrás`:q<365?`${Math.floor(q/30)} meses atrás`:`${Math.floor(q/365)} anos atrás`},M=A=>A.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().slice(0,2);return c?d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:h-full",children:d.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-8 ppm:w-8 ppm:border-b-2 ppm:border-blue-600"})}):i?d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:bg-white",children:[d.jsx("div",{className:"ppm:relative ppm:w-full ppm:aspect-square ppm:bg-gray-100",children:d.jsx("img",{src:i.imageUrl,alt:"Post",className:"ppm:w-full ppm:h-full ppm:object-cover"})}),d.jsxs("div",{className:"ppm:flex-1 ppm:flex ppm:flex-col",children:[d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2 ppm:border-b ppm:border-gray-100",children:d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-3",children:[d.jsxs(pr,{className:"ppm:w-8 ppm:h-8",children:[d.jsx(dr,{src:(F=i.user)==null?void 0:F.avatarUrl,alt:((S=i.user)==null?void 0:S.displayName)||""}),d.jsx(hr,{className:"ppm:text-xs",children:M(((y=i.user)==null?void 0:y.displayName)||"")})]}),d.jsxs("div",{className:"ppm:flex ppm:flex-col",children:[d.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(b=i.user)==null?void 0:b.displayName}),d.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:i.location&&d.jsxs("span",{className:"ppm:flex ppm:items-center ppm:gap-1",children:[d.jsx(rg,{className:"ppm:w-3 ppm:h-3"}),i.location]})})]})]})}),d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-between ppm:p-2 ppm:border-b ppm:border-gray-100",children:d.jsx("div",{className:"ppm:flex ppm:items-center ppm:gap-4",children:d.jsx(De,{variant:"ghost",size:"sm",onClick:_,className:"ppm:p-1",children:d.jsx(yp,{className:"ppm:w-6 ppm:h-6",weight:f?"fill":"regular",color:f?"#ef4444":"#000000"})})})}),i.likeCount>0&&d.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:d.jsxs("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:[i.likeCount," curtida",i.likeCount!==1?"s":""]})}),i.caption&&d.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:d.jsxs("div",{className:"ppm:flex ppm:gap-2",children:[d.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(C=i.user)==null?void 0:C.username}),d.jsx("span",{className:"ppm:text-sm ppm:text-gray-900",children:i.caption})]})}),i.tags&&i.tags.length>0&&d.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-b ppm:border-gray-100",children:d.jsx("div",{className:"ppm:flex ppm:flex-wrap ppm:gap-1",children:i.tags.map((A,D)=>d.jsxs(ig,{variant:"secondary",className:"ppm:text-xs ppm:cursor-pointer ppm:hover:bg-blue-100",onClick:()=>n(`/profile/${A}`),children:["@",A]},D))})}),d.jsx("div",{className:"ppm:flex-1 ppm:px-4 ppm:py-2",children:h?d.jsx("div",{className:"ppm:flex ppm:items-center ppm:justify-center ppm:py-8",children:d.jsx("div",{className:"ppm:animate-spin ppm:rounded-full ppm:h-6 ppm:w-6 ppm:border-b-2 ppm:border-blue-600"})}):o.length>0?d.jsx("div",{className:"ppm:space-y-3",children:o.map(A=>{var D,P,H,q;return d.jsxs("div",{className:"ppm:flex ppm:gap-3",children:[d.jsxs(pr,{className:"ppm:w-6 ppm:h-6 ppm:flex-shrink-0",children:[d.jsx(dr,{src:(D=A.user)==null?void 0:D.avatarUrl,alt:((P=A.user)==null?void 0:P.displayName)||""}),d.jsx(hr,{className:"ppm:text-xs",children:M(((H=A.user)==null?void 0:H.displayName)||"")})]}),d.jsxs("div",{className:"ppm:flex-1 ppm:min-w-0",children:[d.jsxs("div",{className:"ppm:flex ppm:gap-2 ppm:items-start",children:[d.jsx("span",{className:"ppm:text-sm ppm:font-semibold ppm:text-gray-900",children:(q=A.user)==null?void 0:q.username}),d.jsx("span",{className:"ppm:text-sm ppm:text-gray-900 ppm:flex-1",children:A.text})]}),d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-4 ppm:mt-1",children:[d.jsx("span",{className:"ppm:text-xs ppm:text-gray-500",children:L(A.createdAt)}),A.likeCount>0&&d.jsxs("span",{className:"ppm:text-xs ppm:text-gray-500",children:[A.likeCount," curtida",A.likeCount!==1?"s":""]})]})]})]},A.id)})}):d.jsx("div",{className:"ppm:text-center ppm:py-8 ppm:text-gray-500 ppm:text-sm",children:"Nenhum comentário ainda. Seja o primeiro a comentar!"})}),d.jsx("div",{className:"ppm:px-4 ppm:py-2 ppm:border-t ppm:border-gray-100",children:d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-1 ppm:text-xs ppm:text-gray-500",children:[d.jsx(Ok,{className:"ppm:w-3 ppm:h-3"}),L(i.createdAt)]})}),d.jsxs("div",{className:"ppm:flex ppm:items-center ppm:gap-2 ppm:p-2 ppm:border-t ppm:border-gray-100",children:[d.jsx(nt,{placeholder:"Adicione um comentário...",value:T,onChange:A=>I(A.target.value),className:"ppm:flex-1",onKeyPress:A=>{A.key==="Enter"&&!N&&x()}}),d.jsx(De,{variant:"ghost",size:"sm",onClick:x,disabled:!T.trim()||N,className:"ppm:text-blue-600 ppm:font-semibold",children:N?"Enviando...":"Enviar"})]})]})]}):d.jsx("div",{className:"ppm:p-4 ppm:text-center",children:d.jsx("p",{className:"ppm:text-gray-600",children:"Post não encontrado"})})}function OM(){return d.jsx(Rk,{children:d.jsxs("div",{className:"ppm:flex ppm:flex-col ppm:h-full ppm:overflow-hidden",children:[d.jsx($k,{}),d.jsx("div",{className:"ppm:flex-1 ppm:overflow-y-auto ppm:overflow-x-hidden ppm:pb-28",children:d.jsx(Mw,{})})]})})}function FM({isOpen:t,onClose:e}){return t?d.jsx("div",{className:"ppm:fixed ppm:inset-0 ppm:bg-black/50 ppm:flex ppm:items-center ppm:justify-center ppm:z-50",children:d.jsxs("div",{className:"ppm:relative ppm:w-[350px] ppm:h-[700px] ppm:max-w-[90vw] ppm:max-h-[90vh] ppm:bg-gray-900 ppm:rounded-[3rem] ppm:p-2 ppm:shadow-2xl",children:[d.jsx(wS,{onClose:e}),d.jsxs("div",{className:"ppm:w-full ppm:h-full ppm:bg-white ppm:rounded-[2.5rem] ppm:overflow-hidden ppm:relative ppm:flex ppm:flex-col",children:[d.jsx("div",{className:"ppm:absolute ppm:top-0 ppm:left-1/2 ppm:-translate-x-1/2 ppm:w-32 ppm:h-6 ppm:bg-black ppm:rounded-b-2xl ppm:z-10"}),d.jsx(yb,{}),d.jsx(cC,{initialEntries:["/"],children:d.jsx("div",{className:"ppm:flex ppm:flex-col ppm:h-full",children:d.jsxs(pC,{children:[d.jsx(qe,{path:"/",element:d.jsx(MM,{})}),d.jsxs(qe,{element:d.jsx(OM,{}),children:[d.jsx(qe,{path:"/login",element:d.jsx(oV,{})}),d.jsx(qe,{path:"/register",element:d.jsx(aV,{})}),d.jsx(qe,{path:"/ajuda",element:d.jsx(uM,{})})]}),d.jsxs(qe,{element:d.jsx(pM,{children:d.jsx(TM,{})}),children:[d.jsx(qe,{path:"/home",element:d.jsx(CM,{})}),d.jsx(qe,{path:"/find",element:d.jsx(NM,{})}),d.jsx(qe,{path:"/add-post",element:d.jsx(DM,{})}),d.jsx(qe,{path:"/favorites",element:d.jsx(VM,{})}),d.jsx(qe,{path:"/profile",element:d.jsx(Pk,{})}),d.jsx(qe,{path:"/profile/:username",element:d.jsx(Pk,{})}),d.jsx(qe,{path:"/edit-profile",element:d.jsx(cM,{})}),d.jsx(qe,{path:"/followers",element:d.jsx(Lk,{})}),d.jsx(qe,{path:"/followers/:username",element:d.jsx(Lk,{})}),d.jsx(qe,{path:"/following",element:d.jsx(Dk,{})}),d.jsx(qe,{path:"/following/:username",element:d.jsx(Dk,{})}),d.jsx(qe,{path:"/post/:postId",element:d.jsx(jM,{})})]}),d.jsx(qe,{path:"*",element:d.jsx(Xc,{to:"/home",replace:!0})})]})})}),d.jsx("div",{className:"ppm:absolute ppm:bottom-2 ppm:left-1/2 ppm:-translate-x-1/2 ppm:w-32 ppm:h-1 ppm:bg-gray-400 ppm:rounded-full"})]})]})}):null}function UM(){return d.jsx(FM,{isOpen:!0,onClose:()=>{window.parent.postMessage("closeSmartphone","*")}})}function sg(...t){console.log("%cUserscript (React Mode):","color: purple; font-weight: bold",...t)}function zM(t){window.setTimeout(t,0);let e=window.location.href;const n=document.querySelector("body");if(!n)throw new Error("Body element not found");const r=new MutationObserver(i=>{i.some(()=>e!==document.location.href)&&(e=document.location.href,t())});return r.observe(n,{childList:!0,subtree:!0}),r}async function BM(t){let n=0;return new Promise((r,i)=>{function s(){return n++,document.querySelector(t)}function o(){if(n>=60){sg("Can't find element with selector",t),i();return}const l=s();if(l){r(l);return}window.setTimeout(o,250)}o()})}sg("React script has successfully started");async function $M(){const t=await BM(".charMainToolbox table tbody");if(!t.querySelector("#smartphone-tool-row")){const i=document.createElement("tr");i.id="smartphone-tool-row",i.innerHTML=`
      <td class="middle" style="width: 13px;"><img title="Smartphone" src="/Static/Icons/TinyIcon_Phone.png" alt="Smartphone" style="border-width:0px;"></td>
      <td><a href="#" id="smartphone-link">Smartphone</a></td>
    `,t.appendChild(i)}const e=t.querySelector("#smartphone-link"),n="popgram-smartphone-iframe";let r=document.getElementById(n);r||(r=document.createElement("iframe"),r.id=n,r.style.border="none",r.style.width="100vw",r.style.height="100vh",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.zIndex="2147483647",r.style.display="none",r.style.background="transparent",r.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-scripts allow-same-origin"),document.body.appendChild(r),r.srcdoc=`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popgram</title>
    <style>${fb}
${gb}</style>
  </head>
  <body style="background: transparent; margin: 0; padding: 0;">
    <div id="popgram-wrapper" style="background: transparent;"></div>
  </body>
</html>`,r.addEventListener("load",()=>{const s=(r.contentDocument||r.contentWindow.document).querySelector("#popgram-wrapper");K0(s).render(d.jsx(UM,{}))}),window.addEventListener("message",i=>{i.data==="closeSmartphone"&&(r.style.display="none")})),e.onclick=i=>{i.preventDefault(),r.style.display=r.style.display==="none"?"block":"none"}}zM(()=>{$M().catch(t=>{sg(t)})})})();
;
(function(){
                    const el = document.createElement("style");
                    el.innerText = "";
                    el.type = "text/css";
                    document.head.appendChild(el);
                })();